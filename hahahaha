  
        -- Heartbeat Injector
        _G.keyUser = "isyl-tarzanXt-2003"
        _G.HWID = "BD02DFB5-2D15-47CA-B122-60C5CD6FB64A"
-- This file was protected using Luraph Obfuscator v14.6 [https://lura.ph/]
-- This file was protected using Luraph Obfuscator v14.6 [https://lura.ph/]



		local success, result = pcall(function()
					return loadstring(game:HttpGet("https://raw.githubusercontent.com/vandawam/iSyl/refs/heads/main/test%20ui"))()
				end)
				
				if not success or not result then
					warn("[Error] Failed to load UI from GitHub!")
					warn("Error:", result)
					return
				end
				
				local Library = result
				local Fluent = Library
				local animationsDisabled = false
				local backupAnimator = nil
				
				----------------------------------------------------
				-- üßπ CLEANUP PREVIOUS EXECUTION (Prevent Crash on Re-execute)
				----------------------------------------------------
				pcall(function()
					-- Cleanup infinite zoom connections
					if _G.iSylHubZoomConnections then
						for _, conn in pairs(_G.iSylHubZoomConnections) do
							pcall(function()
								if conn and typeof(conn) == "RBXScriptConnection" then
									conn:Disconnect()
								end
							end)
						end
					end
					_G.iSylHubZoomConnections = {}
					
					-- Cleanup infinite zoom thread
					if _G.iSylHubZoomThread then
						pcall(function()
							task.cancel(_G.iSylHubZoomThread)
						end)
					end
					_G.iSylHubZoomThread = nil
					
					print("[üßπ] Previous zoom cleanup completed")
				end)
				
				-- Custom SaveManager
				local SaveManager = {} do
					SaveManager.Folder = "iSylHub/FishIt"
					SaveManager.Ignore = {}
					
					SaveManager.Parser = {
						Toggle = {
							Save = function(idx, object) 
								return { type = "Toggle", idx = idx, value = object.Value } 
							end,
							Load = function(idx, data)
								if SaveManager.Options[idx] then 
									SaveManager.Options[idx]:SetValue(data.value)
								end
							end,
						},
						Slider = {
							Save = function(idx, object)
								return { type = "Slider", idx = idx, value = tostring(object.Value) }
							end,
							Load = function(idx, data)
								if SaveManager.Options[idx] then 
									SaveManager.Options[idx]:SetValue(data.value)
								end
							end,
						},
						Dropdown = {
							Save = function(idx, object)
								return { type = "Dropdown", idx = idx, value = object.Value, mutli = object.Multi }
							end,
							Load = function(idx, data)
								if SaveManager.Options[idx] then 
									SaveManager.Options[idx]:SetValue(data.value)
								end
							end,
						},
						Colorpicker = {
							Save = function(idx, object)
								return { type = "Colorpicker", idx = idx, value = object.Value:ToHex(), transparency = object.Transparency }
							end,
							Load = function(idx, data)
								if SaveManager.Options[idx] then 
									SaveManager.Options[idx]:SetValueRGB(Color3.fromHex(data.value), data.transparency)
								end
							end,
						},
						Keybind = {
							Save = function(idx, object)
								return { type = "Keybind", idx = idx, mode = object.Mode, key = object.Value }
							end,
							Load = function(idx, data)
								if SaveManager.Options[idx] then 
									SaveManager.Options[idx]:SetValue(data.key, data.mode)
								end
							end,
						},
						Input = {
							Save = function(idx, object)
								return { type = "Input", idx = idx, text = object.Value }
							end,
							Load = function(idx, data)
								if SaveManager.Options[idx] and type(data.text) == "string" then
									SaveManager.Options[idx]:SetValue(data.text)
								end
							end,
						},
					}
					
					function SaveManager:SetIgnoreIndexes(list)
						for _, key in next, list do
							self.Ignore[key] = true
						end
					end
					
					function SaveManager:SetFolder(folder)
						self.Folder = folder;
						self:BuildFolderTree()
					end
					
					function SaveManager:Save(name)
						print("------------------------------------------------")
						print("[DEBUG] Memulai proses SAVE CONFIG...")

						if (not name) then
							return false, "no config file is selected"
						end

						local fullPath = self.Folder .. "/settings/" .. name .. ".json"
						
						local data = {
							objects = {}
						}
						
						-- --- BAGIAN DIAGNOSA KARAKTER (DEBUG) ---
						local Players = game:GetService("Players")
						local player = Players.LocalPlayer
						local character = player.Character or player.CharacterAdded:Wait() -- Tunggu sebentar jika char belum load
						
						print("[DEBUG] Player ditemukan: " .. tostring(player))
						print("[DEBUG] Character ditemukan: " .. tostring(character))

						if character then
							local hrp = character:FindFirstChild("HumanoidRootPart")
							print("[DEBUG] HumanoidRootPart ditemukan: " .. tostring(hrp))
							
							if hrp then
								local cframe = hrp.CFrame
								local components = {cframe:GetComponents()}
								
								data.lastCoordinate = {
									X = tostring(components[1] or 0),
									Y = tostring(components[2] or 0),
									Z = tostring(components[3] or 0),
									R00 = tostring(components[4] or 0), R01 = tostring(components[5] or 0), R02 = tostring(components[6] or 0),
									R10 = tostring(components[7] or 0), R11 = tostring(components[8] or 0), R12 = tostring(components[9] or 0),
									R20 = tostring(components[10] or 0), R21 = tostring(components[11] or 0), R22 = tostring(components[12] or 0)
								}
								print("[SUKSES] Koordinat BERHASIL dimasukkan ke data sementara.")
							else
								warn("[ERROR] Gagal: Character ada, tapi HumanoidRootPart HILANG.")
							end
						else
							warn("[ERROR] Gagal: Character bernilai NIL (Kosong).")
						end
						-- ---------------------------------------

						for idx, option in next, SaveManager.Options do
							if not self.Parser[option.Type] then continue end
							if self.Ignore[idx] then continue end
							table.insert(data.objects, self.Parser[option.Type].Save(idx, option))
						end

						local success, encoded = pcall(function()
							return game:GetService("HttpService"):JSONEncode(data)
						end)
						
						if not success then
							return false, "failed to encode data"
						end

						writefile(fullPath, encoded)
						print("[DEBUG] File JSON berhasil ditulis ke folder.")
						print("------------------------------------------------")
						
						return true
					end
					
					function SaveManager:Load(name)
						if (not name) then
							return false, "no config file is selected"
						end
						
						local file = self.Folder .. "/settings/" .. name .. ".json"
						if not isfile(file) then return false, "invalid file" end
						
						local success, decoded = pcall(function()
							return game:GetService("HttpService"):JSONDecode(readfile(file))
						end)
						if not success then return false, "decode error" end

						-- BAGIAN PERBAIKAN TELEPORT
						if decoded.lastCoordinate then
							task.spawn(function()
								-- Pastikan player didefinisikan
								local player = game:GetService("Players").LocalPlayer
								local char = player.Character or player.CharacterAdded:Wait()
								local hrp = char:WaitForChild("HumanoidRootPart", 10)
								local humanoid = char:WaitForChild("Humanoid", 10)
								
								if hrp and humanoid then
									-- Beri sedikit delay agar physics character stabil
									task.wait(0.2) 
									
									local coord = decoded.lastCoordinate
									local cframe = CFrame.new(
										tonumber(coord.X) or 0, tonumber(coord.Y) or 0, tonumber(coord.Z) or 0,
										tonumber(coord.R00) or 1, tonumber(coord.R01) or 0, tonumber(coord.R02) or 0,
										tonumber(coord.R10) or 0, tonumber(coord.R11) or 1, tonumber(coord.R12) or 0,
										tonumber(coord.R20) or 0, tonumber(coord.R21) or 0, tonumber(coord.R22) or 1
									) + Vector3.new(0, 3, 0)
									
									-- OPSI 1: Matikan sit agar tidak nyangkut jika save saat duduk
									if humanoid.Sit then humanoid.Sit = false end
									
									-- OPSI 2: Gunakan PivotTo (Lebih stabil daripada HRP.CFrame)
									char:PivotTo(cframe)
									
									-- OPSI 3: Force update jika PivotTo gagal (Fallback)
									if (hrp.Position - cframe.Position).Magnitude > 5 then
										hrp.CFrame = cframe
									end
									
									print("[SaveManager] Teleported to: " .. tostring(cframe.Position))
								else
									warn("[SaveManager] Gagal Teleport: HRP tidak ditemukan")
								end
							end)
						else
							warn("[SaveManager] Data lastCoordinate tidak ditemukan di file JSON")
						end

						task.wait(1) -- Delay sebelum load opsi lain
						
						for _, option in next, decoded.objects do
							if self.Parser[option.type] then
								task.spawn(function() self.Parser[option.type].Load(option.idx, option) end)
							end
						end
						
						return true
					end
					
					function SaveManager:Delete(name)
						if (not name) or name == "" then
							return false, "no config file is selected"
						end
						
						-- Sanitize name to prevent directory traversal
						name = tostring(name):gsub("[^%w_%- ]", "")
						if name == "" then
							return false, "invalid config name"
						end
						
						local file = self.Folder .. "/settings/" .. name .. ".json"
						
						-- Double check file exists and is a valid config file
						if not isfile(file) then 
							return false, "config file does not exist: " .. name
						end
						
						-- Only delete the specific file, nothing else
						local success, err = pcall(function() 
							delfile(file)
						end)
						
						if not success then
							return false, err or "failed to delete file"
						end
						
						-- Wait a bit to ensure file is deleted
						task.wait(0.1)
						
						-- Verify file is actually deleted
						if isfile(file) then
							return false, "file still exists after deletion"
						end
						
						return true
					end
					
					function SaveManager:IgnoreThemeSettings()
						self:SetIgnoreIndexes({ 
							"InterfaceTheme", "AcrylicToggle", "TransparentToggle", "MenuKeybind"
						})
					end
					
					function SaveManager:BuildFolderTree()
						local paths = {
							self.Folder,
							self.Folder .. "/settings"
						}
						
						for i = 1, #paths do
							local str = paths[i]
							if not isfolder(str) then
								makefolder(str)
							end
						end
					end
					
					function SaveManager:RefreshConfigList()
						local list = listfiles(self.Folder .. "/settings")
						
						local out = {}
						for i = 1, #list do
							local file = list[i]
							if file:sub(-5) == ".json" then
								local pos = file:find(".json", 1, true)
								local start = pos
								
								local char = file:sub(pos, pos)
								while char ~= "/" and char ~= "\\" and char ~= "" do
									pos = pos - 1
									char = file:sub(pos, pos)
								end
								
								if char == "/" or char == "\\" then
									local name = file:sub(pos + 1, start - 1)
									if name ~= "options" then
										table.insert(out, name)
									end
								end
							end
						end
						
						return out
					end
					
					function SaveManager:SetLibrary(library)
						self.Library = library
						self.Options = library.Options
					end
					
					function SaveManager:LoadAutoloadConfig()
						if isfile(self.Folder .. "/settings/autoload.txt") then
							local name = readfile(self.Folder .. "/settings/autoload.txt")
							
							local success, err = self:Load(name)
							if not success then
								return self.Library:Notify({
									Title = "Interface",
									Content = "Config loader",
									SubContent = "Failed to load autoload config: " .. err,
									Duration = 7
								})
							end
							
							self.Library:Notify({
								Title = "Interface",
								Content = "Config loader",
								SubContent = string.format("Auto loaded config %q (teleported to last position)", name),
								Duration = 7
							})
						end
					end
					
					function SaveManager:BuildConfigSection(tab)
						assert(self.Library, "Must set SaveManager.Library")
						
						local section = tab:AddSection("Configuration")
						
						-- Declare AutoloadButton early so it can be accessed by delete button
						local AutoloadButton
						
						section:AddInput("SaveManager_ConfigName", { Title = "Config name" })
						section:AddDropdown("SaveManager_ConfigList", { Title = "Config list", Values = self:RefreshConfigList(), AllowNull = true, Search = false })
						
						section:AddButton({
							Title = "Create config",
							Callback = function()
								local name = SaveManager.Options.SaveManager_ConfigName.Value
								
								-- Ensure name is a string
								if not name or type(name) ~= "string" then
									return self.Library:Notify({
										Title = "Interface",
										Content = "Config loader",
										SubContent = "Invalid config name (empty)",
										Duration = 7
									})
								end
								
								if name:gsub(" ", "") == "" then 
									return self.Library:Notify({
										Title = "Interface",
										Content = "Config loader",
										SubContent = "Invalid config name (empty)",
										Duration = 7
									})
								end
								
								local success, err = self:Save(name)
								if not success then
									return self.Library:Notify({
										Title = "Interface",
										Content = "Config loader",
										SubContent = "Failed to save config: " .. err,
										Duration = 7
									})
								end
								
								self.Library:Notify({
									Title = "Interface",
									Content = "Config loader",
									SubContent = string.format("Created config %q", name),
									Duration = 7
								})
								
								SaveManager.Options.SaveManager_ConfigList:SetValues(self:RefreshConfigList())
								SaveManager.Options.SaveManager_ConfigList:SetValue(nil)
							end
						})
						
						section:AddButton({
							Title = "Load config", 
							Callback = function()
								local name = SaveManager.Options.SaveManager_ConfigList.Value
								
								local success, err = self:Load(name)
								if not success then
									return self.Library:Notify({
										Title = "Interface",
										Content = "Config loader",
										SubContent = "Failed to load config: " .. err,
										Duration = 7
									})
								end
								
								self.Library:Notify({
									Title = "Interface",
									Content = "Config loader",
									SubContent = string.format("Loaded config %q", name),
									Duration = 7
								})
							end
						})
						
						section:AddButton({
							Title = "Overwrite config", 
							Callback = function()
								local name = SaveManager.Options.SaveManager_ConfigList.Value
								print(name)
								
								local success, err = self:Save(name)
								if not success then
									return self.Library:Notify({
										Title = "Interface",
										Content = "Config loader",
										SubContent = "Failed to overwrite config: " .. err,
										Duration = 7
									})
								end
								
								self.Library:Notify({
									Title = "Interface",
									Content = "Config loader",
									SubContent = string.format("Overwrote config %q", name),
									Duration = 7
								})
							end
						})
						
						section:AddButton({
							Title = "Delete config",
							Callback = function()
								-- Get value from dropdown safely
								local configListOption = SaveManager.Options.SaveManager_ConfigList
								local name = nil
								
								-- Try different ways to get the value
								if configListOption then
									if configListOption.Value then
										name = configListOption.Value
									elseif configListOption.GetValue then
										name = configListOption:GetValue()
									elseif configListOption._value then
										name = configListOption._value
									end
								end
								
								-- Validate name
								if not name or name == "" or type(name) ~= "string" then
									return self.Library:Notify({
										Title = "Interface",
										Content = "Config loader",
										SubContent = "Please select a config to delete from the dropdown",
										Duration = 7
									})
								end
								
								-- Sanitize name
								name = tostring(name):gsub("[^%w_%- ]", "")
								if name == "" then
									return self.Library:Notify({
										Title = "Interface",
										Content = "Config loader",
										SubContent = "Invalid config name selected",
										Duration = 7
									})
								end
								
								-- Show confirmation notification with exact name
								self.Library:Notify({
									Title = "Delete Config",
									Content = "Deleting config: " .. name,
									Duration = 3
								})
								
								-- Check if this is the autoload config
								local isAutoload = false
								if isfile(self.Folder .. "/settings/autoload.txt") then
									local autoloadName = readfile(self.Folder .. "/settings/autoload.txt")
									if autoloadName == name then
										isAutoload = true
									end
								end
								
								-- Delete the config
								local success, err = self:Delete(name)
								if success then
									-- If deleted config was autoload, clear autoload
									if isAutoload then
										-- Delete autoload.txt file
										local autoloadFile = self.Folder .. "/settings/autoload.txt"
										if isfile(autoloadFile) then
											pcall(function() delfile(autoloadFile) end)
											task.wait(0.1) -- Wait for file deletion
										end
										-- Update autoload button description
										if AutoloadButton then
											AutoloadButton:SetDesc("Current autoload config: none")
										end
									end
									
									-- Also check if autoload config still exists (in case it was deleted but autoload.txt wasn't cleared)
									if isfile(self.Folder .. "/settings/autoload.txt") then
										local autoloadName = readfile(self.Folder .. "/settings/autoload.txt")
										local autoloadFile = self.Folder .. "/settings/" .. autoloadName .. ".json"
										-- If autoload config file doesn't exist, clear autoload
										if not isfile(autoloadFile) then
											local autoloadTxtFile = self.Folder .. "/settings/autoload.txt"
											if isfile(autoloadTxtFile) then
												pcall(function() delfile(autoloadTxtFile) end)
												task.wait(0.1)
											end
											if AutoloadButton then
												AutoloadButton:SetDesc("Current autoload config: none")
											end
										end
									end
									
									-- Refresh dropdown list
									local newList = self:RefreshConfigList()
									SaveManager.Options.SaveManager_ConfigList:SetValues(newList)
									SaveManager.Options.SaveManager_ConfigList:SetValue(nil)
									
									self.Library:Notify({
										Title = "Interface",
										Content = "Config loader",
										SubContent = string.format("Deleted config %q", name),
										Duration = 7
									})
								else
									self.Library:Notify({
										Title = "Interface",
										Content = "Config loader",
										SubContent = "Failed to delete config: " .. (err or "unknown error"),
										Duration = 7
									})
								end
							end
						})
						
						section:AddButton({
							Title = "Refresh list", 
							Callback = function()
								SaveManager.Options.SaveManager_ConfigList:SetValues(self:RefreshConfigList())
								SaveManager.Options.SaveManager_ConfigList:SetValue(nil)
							end
						})
						
						AutoloadButton = section:AddButton({
							Title = "Set as autoload", 
							Description = "Current autoload config: none", 
							Callback = function()
								local name = SaveManager.Options.SaveManager_ConfigList.Value
								
								if not name or name == "" then
									return self.Library:Notify({
										Title = "Interface",
										Content = "Config loader",
										SubContent = "Please select a config first",
										Duration = 7
									})
								end
								
								writefile(self.Folder .. "/settings/autoload.txt", name)
								AutoloadButton:SetDesc("Current autoload config: " .. name)
								self.Library:Notify({
									Title = "Interface",
									Content = "Config loader",
									SubContent = string.format("Set %q to auto load", name),
									Duration = 7
								})
							end
						})
						
						if isfile(self.Folder .. "/settings/autoload.txt") then
							local name = readfile(self.Folder .. "/settings/autoload.txt")
							AutoloadButton:SetDesc("Current autoload config: " .. name)
						end
						
						SaveManager:SetIgnoreIndexes({ "SaveManager_ConfigList", "SaveManager_ConfigName" })
					end
					
					SaveManager:BuildFolderTree()
				end
				
				----------------------------------------------------
				-- ‚öôÔ∏è SERVICES (Konsolidasi semua di sini)
				----------------------------------------------------
				local ReplicatedStorage = game:GetService("ReplicatedStorage")
				local Players = game:GetService("Players")
				local HttpService = game:GetService("HttpService")
				local RunService = game:GetService("RunService")
				local UIS = game:GetService("UserInputService")
				local vim = game:GetService("VirtualInputManager")
				local camera = workspace.CurrentCamera
				local player = Players.LocalPlayer
				local pg = player:WaitForChild("PlayerGui")
				
				----------------------------------------------------
				-- üî≠ INFINITE ZOOM OUT (Always Active - Safe Re-execute)
				----------------------------------------------------
				do
					-- Initialize connections table if not exists
					if not _G.iSylHubZoomConnections then
						_G.iSylHubZoomConnections = {}
					end
					
					local function applyInfiniteZoom()
						pcall(function()
							if player and player.Parent then
								player.CameraMode = Enum.CameraMode.Classic
								player.CameraMinZoomDistance = 0.5
								player.CameraMaxZoomDistance = 50000 -- Safe large value, not infinite to prevent crash
							end
						end)
					end
					
					-- Apply immediately
					applyInfiniteZoom()
					
					-- Apply every second (with cleanup protection)
					_G.iSylHubZoomThread = task.spawn(function()
						while task.wait(1) do
							if not player or not player.Parent then break end
							applyInfiniteZoom()
						end
					end)
					
					-- Connect to property changes (with cleanup tracking)
					local conn1 = player:GetPropertyChangedSignal("CameraMode"):Connect(applyInfiniteZoom)
					local conn2 = player:GetPropertyChangedSignal("CameraMinZoomDistance"):Connect(applyInfiniteZoom)
					local conn3 = player:GetPropertyChangedSignal("CameraMaxZoomDistance"):Connect(applyInfiniteZoom)
					local conn4 = workspace:GetPropertyChangedSignal("CurrentCamera"):Connect(function()
						camera = workspace.CurrentCamera
					end)
					
					-- Store connections for cleanup
					table.insert(_G.iSylHubZoomConnections, conn1)
					table.insert(_G.iSylHubZoomConnections, conn2)
					table.insert(_G.iSylHubZoomConnections, conn3)
					table.insert(_G.iSylHubZoomConnections, conn4)
					
					print("[‚úÖ] Infinite Zoom Out enabled (Safe for re-execute)")
				end
				
				-- Shared net cache untuk semua mode
				local sharedNet = nil
				local sharedRemoteCache = {}
				pcall(function()
					local pkg = ReplicatedStorage:FindFirstChild("Packages")
					if pkg then
						local idx = pkg:FindFirstChild("_Index")
						if idx then
							local netPkg = idx:FindFirstChild("sleitnick_net@0.2.0")
							if netPkg then sharedNet = netPkg.net end
						end
					end
				end)

				--//////////////////////////////////////////////////////
				--    UI PANEL + AUTO UPDATE + AFK STATUS CHECK
				--//////////////////////////////////////////////////////

				local CoreGui = game:GetService("CoreGui")
				local UserInputService = game:GetService("UserInputService")
				local TweenService = game:GetService("TweenService")
				local LocalPlayer = Players.LocalPlayer

				-- === KONFIGURASI ===
				local UI_NAME = "FishingPanel_iSylHub"
				local TOGGLE_KEY = Enum.KeyCode.RightControl

				-- === MEMORY ===
				local Data = {
					StatusText = "Fishing Normal",
					StatusColor = Color3.fromRGB(85, 255, 127), -- Awal Hijau
					InventoryText = "Inventory: Loading...",
					CaughtText = "Fish Caught: Loading..."
				}

				local isUIOpen = false
				local screenGui = nil

				-- === FUNGSI PEMBUAT UI ===
				local function CreatePanel()
					if CoreGui:FindFirstChild(UI_NAME) then
						CoreGui[UI_NAME]:Destroy()
					end

					local sg = Instance.new("ScreenGui")
					sg.Name = UI_NAME
					sg.Parent = CoreGui
					sg.ResetOnSpawn = false

					local mainFrame = Instance.new("Frame")
					mainFrame.Name = "MainFrame"
					mainFrame.Parent = sg
					mainFrame.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
					mainFrame.BorderSizePixel = 0
					mainFrame.Position = UDim2.new(0.5, -150, 0.1, 0)
					mainFrame.Size = UDim2.new(0, 300, 0, 150)
					mainFrame.Active = true
					mainFrame.Draggable = true

					local uicorner = Instance.new("UICorner")
					uicorner.CornerRadius = UDim.new(0, 10)
					uicorner.Parent = mainFrame

					local uistroke = Instance.new("UIStroke")
					uistroke.Parent = mainFrame
					uistroke.Color = Color3.fromRGB(60, 60, 60)
					uistroke.Thickness = 2

					local layout = Instance.new("UIListLayout")
					layout.Parent = mainFrame
					layout.SortOrder = Enum.SortOrder.LayoutOrder
					layout.HorizontalAlignment = Enum.HorizontalAlignment.Center
					layout.Padding = UDim.new(0, 5)

					local padding = Instance.new("UIPadding")
					padding.Parent = mainFrame
					padding.PaddingTop = UDim.new(0, 15)
					padding.PaddingBottom = UDim.new(0, 15)

					-- 1. TITLE
					local titleLabel = Instance.new("TextLabel")
					titleLabel.Name = "Title"
					titleLabel.Parent = mainFrame
					titleLabel.LayoutOrder = 1
					titleLabel.BackgroundTransparency = 1
					titleLabel.Size = UDim2.new(1, 0, 0, 25)
					titleLabel.Font = Enum.Font.GothamBlack
					titleLabel.Text = "Fishing Panel iSylHub"
					titleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
					titleLabel.TextSize = 20
					titleLabel.TextXAlignment = Enum.TextXAlignment.Center

					local line = Instance.new("Frame")
					line.Parent = mainFrame
					line.LayoutOrder = 2
					line.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
					line.BorderSizePixel = 0
					line.Size = UDim2.new(0.8, 0, 0, 2)

					-- 2. STATUS
					local statusLabel = Instance.new("TextLabel")
					statusLabel.Name = "StatusLabel"
					statusLabel.Parent = mainFrame
					statusLabel.LayoutOrder = 3
					statusLabel.BackgroundTransparency = 1
					statusLabel.Size = UDim2.new(1, 0, 0, 25)
					statusLabel.Font = Enum.Font.GothamBold
					statusLabel.Text = Data.StatusText
					statusLabel.TextColor3 = Data.StatusColor
					statusLabel.TextSize = 16
					statusLabel.TextXAlignment = Enum.TextXAlignment.Center

					-- 3. INVENTORY
					local invLabel = Instance.new("TextLabel")
					invLabel.Name = "InvLabel"
					invLabel.Parent = mainFrame
					invLabel.LayoutOrder = 4
					invLabel.BackgroundTransparency = 1
					invLabel.Size = UDim2.new(1, 0, 0, 20)
					invLabel.Font = Enum.Font.Gotham
					invLabel.Text = Data.InventoryText
					invLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
					invLabel.TextSize = 14
					invLabel.TextXAlignment = Enum.TextXAlignment.Center

					-- 4. FISH CAUGHT
					local caughtLabel = Instance.new("TextLabel")
					caughtLabel.Name = "CaughtLabel"
					caughtLabel.Parent = mainFrame
					caughtLabel.LayoutOrder = 5
					caughtLabel.BackgroundTransparency = 1
					caughtLabel.Size = UDim2.new(1, 0, 0, 20)
					caughtLabel.Font = Enum.Font.Gotham
					caughtLabel.Text = Data.CaughtText
					caughtLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
					caughtLabel.TextSize = 14
					caughtLabel.TextXAlignment = Enum.TextXAlignment.Center

					screenGui = sg
					isUIOpen = true
					
					mainFrame.Size = UDim2.new(0, 0, 0, 0)
					TweenService:Create(mainFrame, TweenInfo.new(0.4, Enum.EasingStyle.Back), {Size = UDim2.new(0, 300, 0, 150)}):Play()
				end

				local function DestroyPanel()
					if screenGui then
						screenGui:Destroy()
						screenGui = nil
						isUIOpen = false
					end
				end

				-- //////////////////////////////////////////////////////
				-- üîÑ PANEL THREAD (AUTO STATUS + DATA)
				-- //////////////////////////////////////////////////////

				if getgenv().PanelUpdateLoop then task.cancel(getgenv().PanelUpdateLoop) end

				getgenv().PanelUpdateLoop = task.spawn(function()
					local ReplionPkg = ReplicatedStorage:WaitForChild("Packages"):WaitForChild("Replion")
					local Replion = require(ReplionPkg)
					
					-- Tunggu Data Game Ready
					local ReplionData = Replion.Client:WaitReplion("Data", 10) 
					
					-- [VARIABEL STATUS TIMER]
					local LastFishing = tick() -- Waktu terakhir mancing/script load
					local PreviousCaught = -1  -- Jumlah ikan sebelumnya (untuk deteksi kenaikan)

					while true do
						pcall(function()
							-- [BAGIAN 1] UPDATE INVENTORY
							if ReplionData then
								local inventory = ReplionData:Get("Inventory")
								local stats = ReplionData:Get("Stats")
								
								local currentItems = 0
								local maxWeight = 4500
								
								if inventory and inventory.Items then
									for _, _ in pairs(inventory.Items) do
										currentItems = currentItems + 1
									end
									if inventory.MaxWeight then maxWeight = inventory.MaxWeight
									elseif stats and stats.MaxWeight then maxWeight = stats.MaxWeight end
								end
								
								Data.InventoryText = string.format("Inventory: %d / %d", currentItems, maxWeight)
							end
							
							-- [BAGIAN 2] UPDATE FISH CAUGHT & STATUS LOGIC
							local leaderstats = LocalPlayer:FindFirstChild("leaderstats")
							local currentCaught = 0
							
							if leaderstats and leaderstats:FindFirstChild("Caught") then
								currentCaught = leaderstats.Caught.Value
							end

							-- >> LOGIKA STATUS BERUBAH DISINI <<
							
							-- Jika angka caught naik, reset timer
							if currentCaught > PreviousCaught then
								LastFishing = tick()
								PreviousCaught = currentCaught
							end

							-- Hitung selisih waktu
							local timeDiff = tick() - LastFishing

							if timeDiff > 10 then
								-- Sudah lebih dari 10 detik tidak dapat ikan
								Data.StatusText = "Not Fishing"
								Data.StatusColor = Color3.fromRGB(255, 85, 85) -- Merah
							else
								-- Masih dalam 10 detik sejak ikan terakhir
								Data.StatusText = "Fishing Normal"
								Data.StatusColor = Color3.fromRGB(85, 255, 127) -- Hijau
							end

							Data.CaughtText = "Fish Caught: " .. tostring(currentCaught)
						end)

						-- Update UI Visual (Teks & Warna)
						if isUIOpen and screenGui and screenGui:FindFirstChild("MainFrame") then
							local mf = screenGui.MainFrame
							
							-- Update Inventory
							if mf:FindFirstChild("InvLabel") then 
								mf.InvLabel.Text = Data.InventoryText 
							end
							
							-- Update Caught
							if mf:FindFirstChild("CaughtLabel") then 
								mf.CaughtLabel.Text = Data.CaughtText 
							end

							-- Update Status & Warna (PENTING)
							if mf:FindFirstChild("StatusLabel") then
								mf.StatusLabel.Text = Data.StatusText
								mf.StatusLabel.TextColor3 = Data.StatusColor
							end
						end

						task.wait(0.5) -- Cek setiap setengah detik
					end
				end)


				
				----------------------------------------------------
				-- üîÑ AUTO RETURN ON RESET (Runs Automatically)
				----------------------------------------------------
				local savedCFrame = nil
				
				-- Auto-save position setiap 3 detik
				task.spawn(function()
					while task.wait(3) do
						local char = player.Character
						if char and char:FindFirstChild("HumanoidRootPart") then
							savedCFrame = char.HumanoidRootPart.CFrame
						end
					end
				end)
				
				-- Detect when character dies/resets
				player.CharacterAdded:Connect(function(character)
					print("[Reset Detected] Waiting for character to load...")
					repeat task.wait() until character:FindFirstChild("HumanoidRootPart")
					task.wait(0.5)
					if savedCFrame then
						character.HumanoidRootPart.CFrame = savedCFrame + Vector3.new(0, 3, 0)
						print("[‚úì] Auto-teleported back to saved position!")
					else
						warn("[!] No saved position found")
					end
					
					-- Re-apply freeze jika mode masih aktif
					task.wait(0.5)
					if autoLegitEnabled then
						autoLegitBodyVelocity, autoLegitBodyAngularVelocity = freezeCharacter(autoLegitBodyVelocity, autoLegitBodyAngularVelocity)
					end
					if _G.InstantV4 then
						instantBodyVelocity, instantBodyAngularVelocity = freezeCharacter(instantBodyVelocity, instantBodyAngularVelocity)
					end
					if _G.BlatantScythe then
						blatantBodyVelocity, blatantBodyAngularVelocity = freezeCharacter(blatantBodyVelocity, blatantBodyAngularVelocity)
					end
				end)
				
				
				----------------------------------------------------
				-- ü™ü WINDOW SETUP
				----------------------------------------------------
				local Window = Library:CreateWindow({
					Title = "iSylHub",
					SubTitle = "- Fish It PREMIUM",
					TabWidth = 100,
					Size = UDim2.fromOffset(500, 350),
					Acrylic = true,
					Theme = "Darker",
					MinimizeKey = Enum.KeyCode.LeftControl,
					UserInfo = false,
				})
				
				local Minimizer = Library:CreateMinimizer({
					Icon = "settings",
					Size = UDim2.fromOffset(48, 48),
					Position = UDim2.new(0, 320, 0, 24),
					Acrylic = true,
					Corner = 10,
					Transparency = 0,
					Draggable = true,
					Visible = true
				})
				
				----------------------------------------------------
				-- üè∑Ô∏è TABS
				----------------------------------------------------
				local Home    			= Window:AddTab({ Title = "Home", Icon = "home" })
				local Main    			= Window:AddTab({ Title = "Main", Icon = "user" })
				local Auto    			= Window:AddTab({ Title = "Auto", Icon = "git-branch" })
				local Shop 				= Window:AddTab({ Title = "Shop", Icon = "shopping-cart" })
				local Event   			= Window:AddTab({ Title = "Event", Icon = "gift" })
				local Vuln    			= Window:AddTab({ Title = "Vuln", Icon = "alert-circle" })
				local Teleport 			= Window:AddTab({ Title = "Teleport", Icon = "map" })
				local QuestTab 			= Window:AddTab({ Title = "Quest", Icon = "award" })
				local WebhookTab 		= Window:AddTab({ Title = "Webhook", Icon = "globe" })
				local PerformanceTab 	= Window:AddTab({ Title = "Performance", Icon = "cpu" })
				local ConfigTab 		= Window:AddTab({ Title = "Config", Icon = "settings-2" })
				local UtilTab 			= Window:AddTab({ Title = "Utility", Icon = "user" })
				
				----------------------------------------------------
				-- üè† HOME TAB
				----------------------------------------------------
				local HomeSection = Home:AddSection("Welcome")
				
				Home:AddParagraph({
					Title = "WELCOME TO iSylHub",
					Content = "Welcome to your custom Script Hub! Made with ‚ù§Ô∏è."
				})
				
				Home:AddButton({
					Title = "Check Version",
					Description = "Print current version to console.",
					Callback = function()
						print("[iSylHub] Version:", Fluent.Version or "Unknown")
					end
				})
				
				----------------------------------------------------
				-- üõ°Ô∏è ANTI-AFK SYSTEM (optimized)
				----------------------------------------------------
				local AntiAfk = {enabled = false, conn = nil}
				Home:AddToggle("AntiAFK", {
					Title = "Anti-AFK",
					Description = "Prevents kick from inactivity (uses VirtualUser - invisible method)",
					Default = true,
					Callback = function(Value)
						AntiAfk.enabled = Value
						if AntiAfk.conn then AntiAfk.conn:Disconnect() AntiAfk.conn = nil end
						if Value then
							pcall(function()
								local vu = game:GetService("VirtualUser")
								AntiAfk.conn = player.Idled:Connect(function() vu:CaptureController() vu:ClickButton2(Vector2.new()) end)
								vu:CaptureController()
							end)
							Fluent:Notify({Title = "Anti-AFK", Content = "Anti-AFK enabled (invisible method).", Duration = 3})
						else
							Fluent:Notify({Title = "Anti-AFK", Content = "Anti-AFK disabled.", Duration = 2})
						end
					end
				})

				-------------------------------------------
				-- Discord Link
				-------------------------------------------
				Home:AddButton({
					Title = "Join iSylHub Discord",
					Description = "Click to copy the Discord invite link to clipboard.",
					Callback = function()
						setclipboard("https://discord.gg/vUBaMK2N")
						Fluent:Notify({Title = "Discord Invite", Content = "Invite link copied to clipboard!", Duration = 5})
					end
				})
				
				----------------------------------------------------
				-- üé£ MAIN TAB (Auto Legit + Instant v4 - Fluent Plus Safe)
				----------------------------------------------------
				local function LoadMainTab()

					local MainSection_Support = Main:AddSection("Fishing Support")
					local MainSection_Legit = Main:AddSection("Auto Legit Mode")
					local MainSection_Instant = Main:AddSection("Instant Fishing Mode")
					local MainSection_Beta = Main:AddSection("New Instant Fishing(Beta)")
					local MainSection_Blatant = Main:AddSection("Blatant Mode (Only Soul Scythe)")
					local MainSection_BlatantV2 = Main:AddSection("Blatant Mode V2")
					local MainSection_Rarerity = Main:AddSection("Skip Rarerity")
					
----------------------------------------------------
					-- üü¢ AUTO LEGIT (Burst + Timing) - optimized
					----------------------------------------------------
					local LegitState = {enabled = false, thread = nil, delay = 0.08, lock = false, bv = nil, bav = nil}

					----------------------------------------------------
					-- üîí FREEZE CHARACTER FUNCTIONS (optimized)
					----------------------------------------------------
					local function freezeCharacter(bv, bav)
						local char, rp = player.Character, player.Character and player.Character:FindFirstChild("HumanoidRootPart")
						if not rp then return bv, bav end
						if bv then bv:Destroy() end
						if bav then bav:Destroy() end
						bv = Instance.new("BodyVelocity")
						bv.Velocity, bv.MaxForce, bv.P, bv.Parent = Vector3.new(0, 0, 0), Vector3.new(40000, 40000, 40000), 10000, rp
						bav = Instance.new("BodyAngularVelocity")
						bav.AngularVelocity, bav.MaxTorque, bav.P, bav.Parent = Vector3.new(0, 0, 0), Vector3.new(40000, 40000, 40000), 10000, rp
						return bv, bav
					end

					local function unfreezeCharacter(bv, bav)
						if bv then bv:Destroy() end
						if bav then bav:Destroy() end
						return nil, nil
					end

					----------------------------------------------------
					-- üîç SAFE REMOTE FINDER (optimized)
					----------------------------------------------------
					local function safeFindRemote(name) return sharedNet and sharedNet:FindFirstChild(name) end

					----------------------------------------------------
					-- üêü DETECT FISH CAUGHT REMOTE
					----------------------------------------------------

					-- Path sesuai request
					local TargetRemotePath = ReplicatedStorage:WaitForChild("Packages")
						:WaitForChild("_Index")
						:WaitForChild("sleitnick_net@0.2.0")
						.net:WaitForChild("RE/ObtainedNewFishNotification")

					local TargetRemote = TargetRemotePath

					-- Variabel Penyimpanan
					local MySpyConnection = nil
					local GameConnections = {}
					local fishCaughtDetected = false

					-- ==========================================
					-- FUNGSI RESET FLAG
					-- ==========================================
					local function ResetFishFlag()
						fishCaughtDetected = false
					end

					-- ==========================================
					-- FUNGSI START & STOP HOOK
					-- ==========================================
					getgenv().StartHook = function()
						if MySpyConnection then 
							warn("‚ö†Ô∏è Hook Incoming sudah aktif!") 
							return 
						end

						warn("üü¢ Start Hook: Memblokir UI Game & Mendeteksi Data...")

						local connections = getconnections(TargetRemote.OnClientEvent)
						
						for _, conn in pairs(connections) do
							table.insert(GameConnections, conn)
							conn:Disable() 
						end

						MySpyConnection = TargetRemote.OnClientEvent:Connect(function(...)
							local args = {...}
							fishCaughtDetected = true
						end)
					end

					getgenv().StopHook = function()
						if not MySpyConnection then 
							return 
						end


						if MySpyConnection then
							MySpyConnection:Disconnect()
							MySpyConnection = nil
						end

						local connections = getconnections(TargetRemote.OnClientEvent)
						
						for _, conn in pairs(connections) do
							conn:Enable()
						end
						
						GameConnections = {}
					end

					----------------------------------------------------
					-- üéØ BAR DETECTION FUNCTIONS
					----------------------------------------------------
					local function getBarAndRows()
						local plr = game:GetService("Players").LocalPlayer
						local success, bar = pcall(function()
							return plr.PlayerGui.Charge.Main.CanvasGroup.Bar
						end)
						local success2, rows = pcall(function()
							return plr.PlayerGui.Charge.Main.CanvasGroup.Rows
						end)
						
						if success and success2 and bar and rows then
							return bar, rows
						end
						return nil, nil
					end

					local function isPerfect()
						local bar, rows = getBarAndRows()
						if bar and rows then
							local barHeight = bar.AbsoluteSize.Y
							local rowsHeight = rows.AbsoluteSize.Y
							local diff = math.abs(barHeight - rowsHeight)
							return diff <= 3, barHeight, rowsHeight, diff
						end
						return false, 0, 0, 0
					end

					local function getBarFillPercentage()
						local bar, rows = getBarAndRows()
						if bar and rows then
							local barHeight = bar.AbsoluteSize.Y
							local rowsHeight = rows.AbsoluteSize.Y
							
							if rowsHeight > 0 then
								return barHeight / rowsHeight
							end
						end
						return 0
					end

					----------------------------------------------------
					-- üé£ AUTO FISHING LOOP WITH PROPER RESET
					----------------------------------------------------
					local function autoLegitLoop()
						-- ‚öôÔ∏è SETTINGS
						local checkInterval = 0.003
						local releaseThreshold = 0.89
						local maxHoldTime = 3
						local burstClickDelay = 0.01
						local cycleCooldown = 1
						
						local function getCenterScreen()
							local vpSize = camera.ViewportSize
							return vpSize.X / 2, vpSize.Y / 2
						end
						
						local function virtualClick(isDown)
							local x, y = getCenterScreen()
							vim:SendMouseButtonEvent(x, y, 0, isDown, game, 0)
						end
						
						while autoLegitEnabled do
							
							-- üîÑ RESET FLAG DI AWAL SETIAP CYCLE
							ResetFishFlag()
							
							-- STEP 1: TEKAN DAN TAHAN KLIK (VIRTUAL CENTER SCREEN)
							virtualClick(true)
							
							task.wait(0.2)
							
							-- STEP 2: MONITOR BAR SAMBIL MENAHAN KLIK
							local holdStart = tick()
							local released = false
							
							while tick() - holdStart < maxHoldTime and not released do
								local perfect, barH, rowsH, diff = isPerfect()
								local fillPct = getBarFillPercentage()
								
								
								-- Cek apakah fill >= 90%
								if fillPct >= releaseThreshold then
									
									-- LEPAS TAHAN
									virtualClick(false)
									
									-- KLIK SEKALI
									virtualClick(true)
									virtualClick(false)
									
									released = true
									break
								end
								
								task.wait(checkInterval)
							end
							
							-- STEP 3: LEPAS KLIK jika belum dilepas (timeout)
							if not released then
								virtualClick(false)
							end
							
							local burstCount = 0
							local maxBurstClicks = 500 -- Lebih aman daripada 2000
							
							while not fishCaughtDetected and burstCount < maxBurstClicks and autoLegitEnabled do
								virtualClick(true)
								task.wait(burstClickDelay)
								virtualClick(false)
								task.wait(burstClickDelay)
								burstCount = burstCount + 1
								
							end
							
							
							task.wait(2)
							
						end
						
						-- Cleanup saat loop stop
						print("üõë Auto fishing loop stopped")
					end

					----------------------------------------------------
					-- üü¢ TOGGLE AUTO LEGIT (Anti Spam)
					----------------------------------------------------
					
					_G.ToggleLegit = MainSection_Legit:AddToggle("AutoLegitToggle", {
						Title = "Auto Perfect Legit",
						Description = "Auto Fishing legit mode üéØ",
						Default = false,
						Callback = function(Value)
							if toggleLock then return end
							toggleLock = true
							task.delay(0.4, function() toggleLock = false end)

							autoLegitEnabled = Value

							if Value then
								getgenv().StartHook()
								
								-- Equip rod
								local remote = safeFindRemote("RE/EquipToolFromHotbar")
								if remote then
									pcall(function() remote:FireServer(1) end)
								end
								
								-- Freeze character
								autoLegitBodyVelocity, autoLegitBodyAngularVelocity = freezeCharacter(autoLegitBodyVelocity, autoLegitBodyAngularVelocity)

								Fluent:Notify({
									Title = "Auto Perfect Timing",
									Content = "Starting... Check console (F9) üìä",
									Duration = 4
								})
								
								task.wait(1)
								autoLegitThread = task.spawn(autoLegitLoop)
							else
								getgenv().StopHook()
								
								-- Unfreeze
								autoLegitBodyVelocity, autoLegitBodyAngularVelocity = unfreezeCharacter(autoLegitBodyVelocity, autoLegitBodyAngularVelocity)
								
								Fluent:Notify({
									Title = "Auto Perfect Timing",
									Content = "Stopped",
									Duration = 3
								})
							end
						end
					})

					----------------------------------------------------
					-- üéπ KEYBIND: K TO TOGGLE
					----------------------------------------------------
					UIS.InputBegan:Connect(function(input, processed)
						if processed then return end
						if input.KeyCode == Enum.KeyCode.K then
							if toggleLock then return end
							toggleLock = true
							task.delay(0.4, function() toggleLock = false end)

							autoLegitEnabled = not autoLegitEnabled

							if autoLegitEnabled then
								getgenv().StartHook()
								
								autoLegitBodyVelocity, autoLegitBodyAngularVelocity = freezeCharacter(autoLegitBodyVelocity, autoLegitBodyAngularVelocity)
								Fluent:Notify({
									Title = "Auto Perfect Timing",
									Content = "Started [K] - Check Console! üìä",
									Duration = 3
								})
								
								task.wait(1)
								autoLegitThread = task.spawn(autoLegitLoop)
							else
								getgenv().StopHook()
								
								autoLegitBodyVelocity, autoLegitBodyAngularVelocity = unfreezeCharacter(autoLegitBodyVelocity, autoLegitBodyAngularVelocity)
								Fluent:Notify({
									Title = "Auto Perfect Timing",
									Content = "Stopped [K]",
									Duration = 3
								})
							end
						end
					end)

					-- üåê EXPORT
					_G.StartAutoLegit = function()
						autoLegitEnabled = true
						getgenv().StartHook()
						autoLegitBodyVelocity, autoLegitBodyAngularVelocity = freezeCharacter(autoLegitBodyVelocity, autoLegitBodyAngularVelocity)
						if not autoLegitThread then
							task.wait(1)
							autoLegitThread = task.spawn(autoLegitLoop)
						end
					end

					_G.StopAutoLegit = function()
						autoLegitEnabled = false
						getgenv().StopHook()
						autoLegitBodyVelocity, autoLegitBodyAngularVelocity = unfreezeCharacter(autoLegitBodyVelocity, autoLegitBodyAngularVelocity)
						if autoLegitThread then
							task.cancel(autoLegitThread)
							autoLegitThread = nil
						end
					end
					
					MainSection_Support:AddToggle("Fishing Panel", {
						Title = "Fishing Panel",
						Description = "Show/Hide Fishing Panel GUI",
						Default = false,
						Callback = function(Value)
							if Value then
								CreatePanel()
							else
								DestroyPanel()
							end
						end
					})

					local repilion = require(ReplicatedStorage.Packages.Replion)

					-- DEFINISI REMOTE & SETUP (Di luar loop agar performa ringan)
					local netFolder = ReplicatedStorage:WaitForChild("Packages"):WaitForChild("_Index"):WaitForChild("sleitnick_net@0.2.0"):WaitForChild("net")
					local equipRemote = netFolder:WaitForChild("RE/EquipItem")

					-- URUTAN PRIORITAS (Ubah urutan di sini jika perlu)
					local priorityList = {
						559, -- Prioritas 2: Diamond Rod
						257, -- Prioritas 1: Element
						169,  -- Prioritas 3: Goshfinn
						258,
						168,
						126,
						256,
						5,
						255,
						7,
						6,
						80,
						4,
						78,
						77,
						85,
						76,
						79,
						1,
					}

					-- Variabel global untuk mengontrol loop on/off
					_G.AutoEquipActive = false

					_G.ToggleEquipRod = MainSection_Support:AddToggle("AutoEquipRod", {
						Title = "Auto Equip Rod",
						Description = "Automatically checks and equips the best fishing rod every second.",
						Default = false,
						Callback = function(Value)
							_G.AutoEquipActive = Value

							if Value then
								print("Auto Equip Started")
								-- Jalankan loop di thread terpisah agar UI tidak freeze
								task.spawn(function()
									while _G.AutoEquipActive do
										pcall(function()
											-- Ambil data terbaru
											local q, data = {}, repilion.Client:GetReplion("Data") -- Gunakan GetReplion agar tidak menunggu lama
											
											if data then
												local inv = data:GetExpect("Inventory")
												if inv and inv["Fishing Rods"] then
													local rodsInventory = inv["Fishing Rods"]
													local ownedRods = {}

													-- 1. Data Mapping: Simpan apa yang kita punya
													for _, itemValue in pairs(rodsInventory) do
														if itemValue.Id then
															ownedRods[itemValue.Id] = itemValue
														end
													end

													-- 2. Cek Prioritas: Cari dari yang terbaik, equip, lalu break
													for _, targetId in ipairs(priorityList) do
														if ownedRods[targetId] then
															local itemToEquip = ownedRods[targetId]
															local args = {
																itemToEquip.UUID,
																"Fishing Rods"
															}
															
															equipRemote:FireServer(unpack(args))
															
															break 
														end
													end
													game:GetService("ReplicatedStorage"):WaitForChild("Packages"):WaitForChild("_Index"):WaitForChild("sleitnick_net@0.2.0"):WaitForChild("net"):WaitForChild("RE/EquipToolFromHotbar"):FireServer(1)

												end
											end
										end)
										
										task.wait(1) -- Cek setiap 1 detik
									end
								end)
							else
								print("Auto Equip Stopped")
								-- Loop akan berhenti otomatis karena _G.AutoEquipActive jadi false
							end
						end
					})

					
					
					----------------------------------------------------
					-- ‚ö° INSTANT FISHING v4.1 OPTIMIZED (No Animation + GUI Toggle)
					-- Semua delay tetap sama, anim balik normal saat toggle off
					----------------------------------------------------
					
					print("=== ‚ö° Instant Fishing v4.1 (Optimized No Animation) Loaded ===")
					
					_G.InstantV4 = false -- default off
					
					local WAIT_AFTER_CHARGE = 1.3
					local DELAY_EQ = 0.3
					local SPAM_COUNT = 1
					local SPAM_DELAY = 0.05
					local CANCEL_DELAY_SEC = 0.1
					local COOLDOWN_DELAY = 0.1
					local CastMethod = 1 -- "Old" atau "New"
					local ThreadInstantV4 = nil
					
					local instantBodyVelocity, instantBodyAngularVelocity = nil, nil

					
					----------------------------------------------------
					-- Cache remotes sekali biar lebih cepat
					----------------------------------------------------

					local netPackage = nil
					local net = nil
					pcall(function()
						netPackage = ReplicatedStorage:FindFirstChild("Packages") 
							and ReplicatedStorage.Packages._Index:FindFirstChild("sleitnick_net@0.2.0")
						net = netPackage and netPackage.net or nil
					end)
					
					if not net then
						warn("‚ùå Tidak menemukan net package (sleitnick_net@0.2.0)")
						return
					end
					
					local remoteCache = {}
					local function cacheRemote(kind, name)
						local key = kind .. "/" .. name
						local r = net:FindFirstChild(key)
						remoteCache[key] = r
						return r
					end
					
					cacheRemote("RE", "EquipToolFromHotbar")
					cacheRemote("RE", "FishingCompleted")
					cacheRemote("RF", "ChargeFishingRod")
					cacheRemote("RF", "RequestFishingMinigameStarted")
					cacheRemote("RF", "CancelFishingInputs")
					cacheRemote("RF", "UpdateAutoFishingState")
					
					----------------------------------------------------
					-- Optimized remote functions (tanpa vararg)
					----------------------------------------------------
					local function fireCached(name, args)
						local r = remoteCache["RE/" .. name]
						if r then
							pcall(function()
								-- 1. Gunakan cloneref jika ada (Lapisan keamanan pertama)
								local target = cloneref and cloneref(r) or r

								-- 2. BYPASS UTAMA: JANGAN PAKAI TITIK DUA (:)
								-- Remote Spy mendeteksi ":FireServer".
								-- Kita akan mengambil fungsi aslinya dan memanggilnya secara manual.
								
								local CleanFire = target.FireServer -- Ambil fungsi langsung (Trigger __index, bukan __namecall)
								
								-- Panggil fungsi tersebut. 
								-- Argumen pertama WAJIB 'target' (sebagai pengganti 'self')
								CleanFire(target, unpack(args or {}))
							end)
						end
					end
					
					local function invokeCached(name, args)
						local r = remoteCache["RF/" .. name]
						if r then
							pcall(function() r:InvokeServer(unpack(args or {})) end)
						end
					end
					
					----------------------------------------------------
					-- Disable / Enable animasi (berdasarkan toggle)
					----------------------------------------------------
					
					
					local function disableAnimations()
						pcall(function()
							local character = player.Character or player.CharacterAdded:Wait()
							local humanoid = character:FindFirstChildOfClass("Humanoid")
							if humanoid then
								for _, track in pairs(humanoid:GetPlayingAnimationTracks()) do
									local animName = (track.Animation and track.Animation.Name or ""):lower()
									if animName:find("fish") or animName:find("cast") or animName:find("reel") then
										track:Stop()
									end
								end
								local animator = humanoid:FindFirstChildOfClass("Animator")
								if animator then
									backupAnimator = animator:Clone()
									animator:Destroy()
								end
							end
							animationsDisabled = true
						end)
					end
					
					local function enableAnimations()
						pcall(function()
							local character = player.Character
							if not character then return end
							local humanoid = character:FindFirstChildOfClass("Humanoid")
							if humanoid and not humanoid:FindFirstChildOfClass("Animator") then
								local newAnimator = Instance.new("Animator")
								newAnimator.Parent = humanoid
								if backupAnimator then
									for _, child in pairs(backupAnimator:GetChildren()) do
										child:Clone().Parent = newAnimator
									end
								end
							end
							animationsDisabled = false
						end)
					end
					
					player.CharacterAdded:Connect(function()
						task.wait(0.5)
						if _G.InstantV4 then
							disableAnimations()
							instantBodyVelocity, instantBodyAngularVelocity = freezeCharacter(instantBodyVelocity, instantBodyAngularVelocity)
						else
							enableAnimations()
						end
					end)

					
					
					----------------------------------------------------
					-- Core loop (same timing, lebih ringan)
					----------------------------------------------------
					local Packages = ReplicatedStorage:WaitForChild("Packages"):WaitForChild("_Index")
					local Debris = game:GetService("Debris")
					local ReplionPackage = nil
					local hookThread = nil

					-- Kita cari folder yang namanya mengandung "replion" (karena versi @2.0.0 bisa berubah)
					for _, folder in pairs(Packages:GetChildren()) do
						if folder.Name:match("replion") then
							ReplionPackage = folder
							break
						end
					end

					if not ReplionPackage then 
						return warn("‚ùå Folder Replion tidak ditemukan!") 
					end

					local TargetRemote = ReplionPackage.replion.Remotes.Set

					-- ============================================================
					--  HOOK PADA KONEKSI (LISTENER)
					-- ============================================================
					if getgenv().UIKillerConnection then
						getgenv().UIKillerConnection:Disconnect()
						getgenv().UIKillerConnection = nil
						print("üîÑ UI Killer lama dimatikan, memulai ulang...")
					end

					local function vanishContainer(textLabel)
						local currentObject = textLabel

						for i = 1, 10 do
							local parent = currentObject.Parent
							if not parent or parent:IsA("ScreenGui") then break end
							
							local grandParent = parent.Parent
							if grandParent then
								local layout = grandParent:FindFirstChildWhichIsA("UIListLayout") or grandParent:FindFirstChildWhichIsA("UIGridLayout")
								if layout then
									
									parent.Visible = false
									parent.BackgroundTransparency = 1
									parent.Size = UDim2.new(0, 0, 0, 0)
									Debris:AddItem(parent, 0)
									return
								end
							end
							currentObject = parent
						end
						
						textLabel.Visible = false
						textLabel.TextTransparency = 1
					end

					local function processLabel(label)
						local function checkText()
							local text = label.Text:lower()
							
							if text:find("auto fishing") then
								if text:find("enabled") or text:find("disabled") then
									if label:GetAttribute("KillConnection") then return end
									label:SetAttribute("KillConnection", true)
									
									vanishContainer(label)
								end
							end
						end

						checkText()
						local conn
						conn = label:GetPropertyChangedSignal("Text"):Connect(function()
								if not label or not label.Parent then 
									if conn then conn:Disconnect() end
									return 
								end
								checkText()
							end)
					end
					

					---------------------------------------
					--Fishing Core
					---------------------------------------
					
					local function startOldInstantFishing()
						ThreadInstantV4 = task.spawn(function()
							if not animationsDisabled then
								disableAnimations()
							end
							while _G.InstantV4 do
								
								
								fireCached("EquipToolFromHotbar", {[1] = 1})
								task.wait(DELAY_EQ)
								
								invokeCached("CancelFishingInputs")
								
								
								for i = 1, SPAM_COUNT do
									task.spawn(invokeCached, "ChargeFishingRod", {[4] = tick()})
									task.wait(CANCEL_DELAY_SEC)
									task.spawn(invokeCached, "RequestFishingMinigameStarted", {
										[1] = math.random(-150, -50) / 100,
										[2] = math.random(80, 100) / 100,
										[3] = tick()
									})
									task.wait(SPAM_DELAY)
								end
								
								fireCached("EquipToolFromHotbar", {[1] = 1})
								task.wait(WAIT_AFTER_CHARGE)
								
								for i = 1, SPAM_COUNT do
									fireCached("FishingCompleted", {})
									task.wait(SPAM_DELAY)
								end
								
								task.wait(COOLDOWN_DELAY)
							end
							enableAnimations()
							print("üõë Instant Fishing v4 stopped & animation restored.")
						end)
					end

					local function startNewInstantFishing()
						ThreadInstantV4 = task.spawn(function()
							while _G.InstantV4 do
								if not animationsDisabled then
									disableAnimations()
								end
					
								fireCached("EquipToolFromHotbar", {[1] = 1})
								task.wait(DELAY_EQ)
					
								invokeCached("CancelFishingInputs")
								task.wait(CANCEL_DELAY_SEC)
					
								for i = 1, SPAM_COUNT do
									task.spawn(invokeCached, "ChargeFishingRod", {[4] = tick()})
									task.spawn(invokeCached, "UpdateAutoFishingState", {[1] = true})
									task.spawn(invokeCached, "RequestFishingMinigameStarted", {
										[1] = math.random(-150, -50) / 100,
										[2] = math.random(80, 100) / 100,
										[3] = tick()
									})
									task.spawn(invokeCached, "UpdateAutoFishingState", {[1] = false})
									task.wait(SPAM_DELAY)
								end
					
								fireCached("EquipToolFromHotbar", {[1] = 1})
								task.wait(WAIT_AFTER_CHARGE)
								
								for i = 1, SPAM_COUNT do
									fireCached("FishingCompleted", {})
									task.wait(SPAM_DELAY)
								end
								
								task.wait(COOLDOWN_DELAY)
							end
							enableAnimations()
							print("üõë Instant Fishing v4 stopped & animation restored.")
						end)
					end
					
					----------------------------------------------------
					-- üß© GUI Integration (Fluent)
					----------------------------------------------------
					_G.ToggleInstant = MainSection_Instant:AddToggle("InstantFishing", {
						Title = "Instant Fishing Mode",
						Description = "Super fast mode ‚Äî skips normal fishing steps and instantly catches fish. (High speed, use carefully!)",
						Default = false,
						Callback = function(Value)
							_G.InstantV4 = Value
							if Value then
								disableAnimations()
								instantBodyVelocity, instantBodyAngularVelocity = freezeCharacter(instantBodyVelocity, instantBodyAngularVelocity)
								Fluent:Notify({
									Title = "Instant Mode Enabled",
									Content = "Catching fish instantly... Hold on tight! | Character frozen",
									Duration = 3
								})
								if CastMethod == 1 then
									fireCached("EquipToolFromHotbar", {[1] = 1})
									startOldInstantFishing()
								else
									fireCached("EquipToolFromHotbar", {[1] = 1})
									getgenv().UIKillerConnection = pg.DescendantAdded:Connect(function(child)
									if child:IsA("TextLabel") then
										processLabel(child)
										end
									end)
									startNewInstantFishing()
								end
							else
								enableAnimations()
								task.cancel(ThreadInstantV4)
								instantBodyVelocity, instantBodyAngularVelocity = unfreezeCharacter(instantBodyVelocity, instantBodyAngularVelocity)
								Fluent:Notify({
									Title = "Instant Mode Disabled",
									Content = "Fishing restored to normal speed. | Character unfrozen",
									Duration = 3
								})
								if getgenv().UIKillerConnection then
									getgenv().UIKillerConnection:Disconnect() -- Memutus hubungan event
									getgenv().UIKillerConnection = nil        -- Menghapus variabel
									print("üõë UI Killer BERHASIL Dimatikan!")
								else
									warn("‚ö†Ô∏è Tidak ada UI Killer yang sedang berjalan.")
								end
							end
						end
					})

					MainSection_Instant:AddDropdown("CastMethodDropdown", {
						Title = "Casting Method",
						Description = "Choose the casting method for instant fishing.",
						Values = {"Old", "New"},
						Multi = false,
						Default = 1,
						Callback = function(Value)
							CastMethod = Value
							Fluent:Notify({
								Title = "Updated",
								Content = "Casting Method set to " .. Value,
								Duration = 2
							})
						end
					})
					
					_G.WaitAfterChargeInput = MainSection_Instant:AddInput("WaitAfterChargeInput", {
						Title = "Delay After Caught",
						Default = tostring(WAIT_AFTER_CHARGE),
						Placeholder = "ex: 1.3",
						Callback = function(Value)
							local num = tonumber(Value)
							if num then
								WAIT_AFTER_CHARGE = num
								Fluent:Notify({
									Title = "Updated",
									Content = "Delay After Caught set to " .. num,
									Duration = 2
								})
							end
						end
					})

					_G.DelayEqInput = MainSection_Instant:AddInput("DelayEqInput", {
						Title = "Delay Reel",
						Default = tostring(DELAY_EQ),
						Placeholder = "ex: 0.3",
						Callback = function(Value)
							local num = tonumber(Value)
							if num then
								DELAY_EQ = num
								Fluent:Notify({
									Title = "Updated",
									Content = "Delay Reel set to " .. num,
									Duration = 2
								})
							end
						end
					})
					
					
					print("‚úÖ Instant Fishing v4.1 (Optimized + Toggle GUI) Loaded.")

					----------------------------------------------------
					-- ‚ö° INSTANT FISHING v4.1 OPTIMIZED (No Animation + GUI Toggle)
					-- Semua delay tetap sama, anim balik normal saat toggle off
					----------------------------------------------------
					
					print("=== ‚ö° Instant Fishing v4.1 (Optimized No Animation) Loaded ===")
					
					_G.InstantBetaV4 = false -- default off
					
					local WAIT_AFTER_CHARGE = 1.3
					local DELAY_EQ = 0.3
					local SPAM_COUNT = 1
					local SPAM_DELAY = 0.05
					local CANCEL_DELAY_SEC = 0.1
					local COOLDOWN_DELAY = 0.1
					
					----------------------------------------------------
					-- Core loop (same timing, lebih ringan)
					----------------------------------------------------
					local function startInstantFishing()
						task.spawn(function()
							while _G.InstantBetaV4 do
								if not animationsDisabled then
									disableAnimations()
								end
					
								fireCached("EquipToolFromHotbar", {[1] = 1})
								task.wait(DELAY_EQ)
					
								invokeCached("CancelFishingInputs")
								task.wait(CANCEL_DELAY_SEC)
					
								for i = 1, SPAM_COUNT do
									task.spawn(invokeCached, "ChargeFishingRod", {[4] = tick()})
									task.spawn(invokeCached, "RequestFishingMinigameStarted", {
										[1] = math.random(-150, -50) / 100,
										[2] = math.random(80, 100) / 100,
										[3] = tick()
									})
									task.wait(SPAM_DELAY)
								end
					
								fireCached("EquipToolFromHotbar", {[1] = 1})
								task.wait(WAIT_AFTER_CHARGE)
								
								for i = 1, SPAM_COUNT do
									fireCached("FishingCompleted", {})
									task.wait(SPAM_DELAY)
								end
								
								task.wait(COOLDOWN_DELAY)
							end
							enableAnimations()
							print("üõë Instant Fishing v4 stopped & animation restored.")
						end)
					end
					
					----------------------------------------------------
					-- üß© GUI Integration (Fluent)
					----------------------------------------------------
					_G.ToggleInstantBeta = MainSection_Beta:AddToggle("BetaInstantFishing", {
						Title = "Instant Fishing Mode",
						Description = "Super fast mode ‚Äî skips normal fishing steps and instantly catches fish. (High speed, use carefully!)",
						Default = false,
						Callback = function(Value)
							_G.InstantBetaV4 = Value
							if Value then
								disableAnimations()
								instantBodyVelocity, instantBodyAngularVelocity = freezeCharacter(instantBodyVelocity, instantBodyAngularVelocity)
								Fluent:Notify({
									Title = "Instant Mode Enabled",
									Content = "Catching fish instantly... Hold on tight! | Character frozen",
									Duration = 3
								})
								startInstantFishing()
							else
								enableAnimations()
								instantBodyVelocity, instantBodyAngularVelocity = unfreezeCharacter(instantBodyVelocity, instantBodyAngularVelocity)
								Fluent:Notify({
									Title = "Instant Mode Disabled",
									Content = "Fishing restored to normal speed. | Character unfrozen",
									Duration = 3
								})
							end
						end
					})
					
					MainSection_Beta:AddInput("BetaWaitAfterChargeInput", {
						Title = "Delay After Caught",
						Default = tostring(WAIT_AFTER_CHARGE),
						Placeholder = "ex: 1.3",
						Callback = function(Value)
							local num = tonumber(Value)
							if num then
								WAIT_AFTER_CHARGE = num
								Fluent:Notify({
									Title = "Updated",
									Content = "Delay After Caught set to " .. num,
									Duration = 2
								})
							end
						end
					})

					MainSection_Beta:AddInput("BetaDelayEqInput", {
						Title = "Delay Reel",
						Default = tostring(DELAY_EQ),
						Placeholder = "ex: 0.3",
						Callback = function(Value)
							local num = tonumber(Value)
							if num then
								DELAY_EQ = num
								Fluent:Notify({
									Title = "Updated",
									Content = "Delay Reel set to " .. num,
									Duration = 2
								})
							end
						end
					})
					
					----------------------------------------------------
					-- üíÄ BLATANT MODE (Soul Scythe Exclusive) v1.0
					-- Auto detect exclaim & instant catch
					----------------------------------------------------
					
					
					_G.BlatantScythe = false -- default off
					
					local CANCEL_DELAY = 0.15
					local DELAY_EQ = 0.5
					local SPAM_COUNT = 1
					local SPAM_DELAY = 0.05
					local COMPLITE_DELAY = 0.33
					local COOLDOWN_DELAY = 0.05
					local MAX_WAIT = 0.2
					
					local isRunning = false
					local isWaitingForFish = false
					local blatantBodyVelocity, blatantBodyAngularVelocity = nil, nil
					
					----------------------------------------------------
					-- Cache remotes
					----------------------------------------------------
					local netPackage = nil
					local net = nil
					pcall(function()
						netPackage = ReplicatedStorage:FindFirstChild("Packages") 
							and ReplicatedStorage.Packages._Index:FindFirstChild("sleitnick_net@0.2.0")
						net = netPackage and netPackage.net or nil
					end)
					
					if not net then
						warn("Tidak menemukan net package")
						return
					end
					
					local remoteCache = {}
					local function cacheRemote(kind, name)
						local key = kind .. "/" .. name
						local r = net:FindFirstChild(key)
						remoteCache[key] = r
						return r
					end
					
					cacheRemote("RE", "EquipToolFromHotbar")
					cacheRemote("RE", "FishingCompleted")
					cacheRemote("RE", "ReplicateTextEffect")
					cacheRemote("RF", "ChargeFishingRod")
					cacheRemote("RF", "RequestFishingMinigameStarted")
					cacheRemote("RF", "CancelFishingInputs")
					
					----------------------------------------------------
					-- Remote functions
					----------------------------------------------------
					local function fireCached(name, args)
						local r = remoteCache["RE/" .. name]	
						if r then
							pcall(function() r:FireServer(unpack(args or {})) end)
						end
					end
					
					local function invokeCached(name, args)
						local r = remoteCache["RF/" .. name]
						if r then
							pcall(function() r:InvokeServer(unpack(args or {})) end)
						end
					end
					
					----------------------------------------------------
					-- EXCLAIM AUTO TRIGGER
					----------------------------------------------------
					local REReplicateTextEffect = remoteCache["RE/ReplicateTextEffect"]
					
					if REReplicateTextEffect then
						REReplicateTextEffect.OnClientEvent:Connect(function(data)
							if isWaitingForFish and data and data.TextData then
								if data.TextData.EffectType == "Exclaim" and data.TextData.Text == "!" then
									print("[!] Exclaim detected! Auto completing...")
									task.wait(COMPLITE_DELAY)
									
									for i = 1, SPAM_COUNT do
										fireCached("FishingCompleted", {})
										task.wait(SPAM_DELAY)
									end
									
									isWaitingForFish = false
								end
							end
						end)
						print("‚úÖ Exclaim auto-trigger connected")
					else
						warn("‚ö†Ô∏è ReplicateTextEffect remote not found!")
					end
					
					----------------------------------------------------
					-- Main loop
					----------------------------------------------------
					local function startFishing()
						isRunning = true
						task.spawn(function()
							while isRunning do
								-- Equip
								fireCached("EquipToolFromHotbar", {[1] = 1})
								task.wait(DELAY_EQ)
								
								-- Cancel
								invokeCached("CancelFishingInputs")
								task.wait(CANCEL_DELAY)
								
								-- Charge + Request
								for i = 1, SPAM_COUNT do
									task.spawn(invokeCached, "ChargeFishingRod", {[4] = tick()})
									task.spawn(invokeCached, "RequestFishingMinigameStarted", {
										[1] = math.random(-150, -50) / 100,
										[2] = math.random(80, 100) / 100,
										[3] = tick()
									})
									task.wait(SPAM_DELAY)
								end
								
								-- Re-equip
								fireCached("EquipToolFromHotbar", {[1] = 1})
								
								-- Wait for exclaim
								isWaitingForFish = true
								task.wait(SPAM_DELAY)
								
								local startTime = tick()
								while isWaitingForFish and (tick() - startTime) < MAX_WAIT do
									task.wait(0.05)
								end
								
								if isWaitingForFish then
									isWaitingForFish = false
								end
								
								task.wait(COOLDOWN_DELAY)
							end
						end)
					end
					
					local function stopFishing()
						isRunning = false
						isWaitingForFish = false
						
						-- Fire cancel 3x saat toggle off (format SimpleSpy)
						for i = 1, 1 do
							pcall(function()
								game:GetService("ReplicatedStorage").Packages._Index:FindFirstChild("sleitnick_net@0.2.0").net:FindFirstChild("RF/CancelFishingInputs"):InvokeServer()
							end)
							task.wait(0.05)
						end
						print("üõë Fishing stopped & cancelled 3x")
					end
					
					----------------------------------------------------
					-- üß© GUI Integration (Fluent) - Tab Main
					----------------------------------------------------
					_G.ToggleBlantant = MainSection_Blatant:AddToggle("BlatantScythe", {
						Title = "Blatant Mode (Soul Scythe)",
						Description = "Exclusive mode for Soul Scythe skin. Auto-detects exclaim (!) and instantly catches fish. Use with caution!",
						Default = false,
						Callback = function(Value)
							_G.BlatantScythe = Value
							if Value then
								blatantBodyVelocity, blatantBodyAngularVelocity = freezeCharacter(blatantBodyVelocity, blatantBodyAngularVelocity)
								Fluent:Notify({
									Title = "Blatant Mode Activated",
									Content = "Soul Scythe mode is now active. Auto-catching enabled! | Character frozen",
									Duration = 3
								})
								fireCached("EquipToolFromHotbar", {[1] = 1})
								startFishing()
							else
								stopFishing()
								blatantBodyVelocity, blatantBodyAngularVelocity = unfreezeCharacter(blatantBodyVelocity, blatantBodyAngularVelocity)
								Fluent:Notify({
									Title = "Blatant Mode Disabled",
									Content = "Soul Scythe mode stopped. | Character unfrozen",
									Duration = 3
								})
							end
						end
					})
					
					MainSection_Blatant:AddInput("CompleteDelayScythe", {
						Title = "Cancel Delay",
						Default = tostring(CANCEL_DELAY),
						Placeholder = "ex: 0.15",
						Callback = function(Value)
							local num = tonumber(Value)
							if num then
								CANCEL_DELAY = num
								Fluent:Notify({
									Title = "Updated",
									Content = "Cancel Delay set to " .. num,
									Duration = 2
								})
							end
						end
					})
					
					MainSection_Blatant:AddInput("CompleteDelay", {
						Title = "Complete Delay",
						Default = tostring(COMPLITE_DELAY),
						Placeholder = "ex: 0.33",
						Callback = function(Value)
							local num = tonumber(Value)
							if num then
								COMPLITE_DELAY = num
								Fluent:Notify({
									Title = "Updated",
									Content = "Complete Delay Time set to " .. num,
									Duration = 2
								})
							end
						end
					})
					
					MainSection_Blatant:AddButton({
						Title = "Release Fishing Stuck",
						Description = "Manually cancel fishing to unstuck. Useful when animation/rod is frozen.",
						Callback = function()
							-- Fire cancel 3x buat lepas stuk
							for i = 1, 1 do
								pcall(function()
									game:GetService("ReplicatedStorage").Packages._Index:FindFirstChild("sleitnick_net@0.2.0").net:FindFirstChild("RF/CancelFishingInputs"):InvokeServer()
								end)
								task.wait(0.05)
							end
							
							Fluent:Notify({
								Title = "Unstuck Triggered",
								Content = "Fishing cancelled 3x. You should be free now!",
								Duration = 2
							})
							print("Release Fishing Stuck executed")
						end
					})

					
					print("‚úÖ Blatant Mode (Soul Scythe) v1.0 Loaded - Ready to dominate! üíÄ")


					-- [1] SERVICES & VARIABLES
					local LocalPlayer = Players.LocalPlayer
					local BlatantV2Thread = nil

					-- [2] REMOTE EVENTS PATHS
					local NetPath = ReplicatedStorage:WaitForChild("Packages"):WaitForChild("_Index"):WaitForChild("sleitnick_net@0.2.0"):WaitForChild("net")
					local Events = {
						Fishing   = NetPath:WaitForChild("RE/FishingCompleted"),
						Charge    = NetPath:WaitForChild("RF/ChargeFishingRod"),
						Minigame  = NetPath:WaitForChild("RF/RequestFishingMinigameStarted"),
						Equip     = NetPath:WaitForChild("RE/EquipToolFromHotbar"),
						Unequip   = NetPath:WaitForChild("RE/UnequipToolFromHotbar"),
						Cancel    = NetPath:WaitForChild("RF/CancelFishingInputs"),
						Exclaim   = NetPath:WaitForChild("RE/ReplicateTextEffect") -- Event tanda "!"
					}

					-- [3] SETTINGS
					local Settings = {
						CastDelay = 0.7,   -- Jeda sebelum melempar lagi
						CatchDelay = 0.3,  -- Jeda setelah minigame bypass sebelum menarik
						HookNotif = true    -- Tampilkan notifikasi exclaim
					}

					local restartcount = 0

					-- [4] FUNGSI TAMBAHAN: NOTIFICATION HOOK (7.4s)

					-- [5] FUNGSI TAMBAHAN: FULL NO ANIMATION
					-- Fungsi ini akan memaksa karakter diam (Stop semua animasi)
					local function StartNoAnim()
						-- Bersihkan koneksi lama
						if _G.AnimConn then _G.AnimConn:Disconnect() end

						local function FreezeCharacter(Char)
							local Humanoid = Char:WaitForChild("Humanoid", 10)
							local Animator = Humanoid and Humanoid:WaitForChild("Animator", 10)
							
							if Animator then
								-- 1. Matikan animasi yang sedang berjalan saat ini
								for _, Track in pairs(Animator:GetPlayingAnimationTracks()) do
									Track:Stop(0)
								end

								-- 2. Cegah animasi baru muncul
								_G.AnimConn = Animator.AnimationPlayed:Connect(function(Track)
									if _G.BlatantV2 then
										Track:Stop(0) -- Langsung stop seketika
									end
								end)
							end
						end

						-- Jalankan pada karakter saat ini
						if LocalPlayer.Character then 
							FreezeCharacter(LocalPlayer.Character) 
						end
						
						-- (Opsional) Jalankan jika respawn
						LocalPlayer.CharacterAdded:Connect(FreezeCharacter)
					end

					-- [6] FUNGSI UTAMA: BLATANT LOOP
					local function SafeCall(func)
						task.spawn(function() pcall(func) end)
					end

					-- Loop Blatant V2
					local function BlatantV2Loop()
						local loopCount = 0
						while _G.BlatantV2 do
							-- 1. Tarik Joran (Kirim waktu tick ke server)
							local t1 = tick() 
							SafeCall(function() NetPath["RF/ChargeFishingRod"]:InvokeServer({ [1] = t1 }) end)
							task.wait(0.007)

							-- 2. Mulai Minigame
							local t2 = tick()
							SafeCall(function() NetPath["RF/RequestFishingMinigameStarted"]:InvokeServer(1, 0, t2) end)

							-- 3. Klaim Ikan
							task.wait(Settings.CastDelay)
							SafeCall(function() Events.Equip:FireServer(1) end)
							SafeCall(function() NetPath["RE/FishingCompleted"]:FireServer() end)

							-- 4. Reset
							task.wait(Settings.CatchDelay)
							SafeCall(function() Events.Equip:FireServer(1) end)
							SafeCall(function() NetPath["RF/CancelFishingInputs"]:InvokeServer()end)
							
						end
					end

					MainSection_BlatantV2:AddToggle("BlatantV2Toggle", {
						Title = "Blatant ModeV2",
						Description = "New Version of Blatant. Auto-detects exclaim (!) and instantly catches fish. Use with caution!",
						Default = false,
						Callback = function(Value)
							_G.BlatantV2 = Value
							if Value then
								game:GetService("StarterGui"):SetCore("SendNotification", {
									Title = "Blatant Fishing", Text = "Status: ON ‚úÖ", Duration = 3
								})

								-- 1. Pasang Fitur Tambahan (NoAnim & Notif)
								StartNoAnim()
								-- StartExclaimListener()

								-- 2. Persiapan Karakter (Equip Joran)
								task.spawn(function()
									pcall(function()
										Events.Cancel:InvokeServer()
										Events.Equip:FireServer(1)
									end)
									
									task.wait(0.5)
									
									-- 3. Jalankan Loop Utama
									BlatantV2Thread = task.spawn(BlatantV2Loop)

								end)
							else
								-- if _G.ExclaimConn then _G.ExclaimConn:Disconnect(); _G.ExclaimConn = nil end
								if _G.AnimConn then _G.AnimConn:Disconnect(); _G.AnimConn = nil end

								-- Reset Karakter
								pcall(function()
									Events.Cancel:InvokeServer()
									Events.Unequip:FireServer()
								end)
								task.cancel(BlatantV2Thread)

								game:GetService("StarterGui"):SetCore("SendNotification", {
									Title = "Blatant Fishing", Text = "Status: OFF üõë", Duration = 3
								})
							end
						end
					})
					
					MainSection_BlatantV2:AddInput("CastDelay", {
						Title = "Cast Delay",
						Default = tostring(Settings.CastDelay),
						Placeholder = "ex: 0.15",
						Callback = function(Value)
							local num = tonumber(Value)
							if num then
								Settings.CastDelay = num
								Fluent:Notify({
									Title = "Updated",
									Content = "Cancel Delay set to " .. num,
									Duration = 2
								})
							end
						end
					})
					
					MainSection_BlatantV2:AddInput("CatchDelay", {
						Title = "Catch Delay",
						Default = tostring(Settings.CatchDelay),
						Placeholder = "ex: 0.33",
						Callback = function(Value)
							local num = tonumber(Value)
							if num then
								Settings.CatchDelay = num
								Fluent:Notify({
									Title = "Updated",
									Content = "Catch Delay Time set to " .. num,
									Duration = 2
								})
							end
						end
					})
					----------------------------------------------------
					-- Skip Rarity
					----------------------------------------------------

					----------------------------------------------------
					-- 1. SETUP SERVICE & REMOTE
					----------------------------------------------------
					local LocalPlayer = Players.LocalPlayer

					-- Path Remote
					local RemotePath = ReplicatedStorage:WaitForChild("Packages"):WaitForChild("_Index"):WaitForChild("sleitnick_net@0.2.0"):WaitForChild("net"):WaitForChild("RE/ReplicateTextEffect")

					local pullConnection = nil
					local selectedRarities = {}

					local RarityColors = {
						["Common"]   = Color3.new(1, 0.980392, 0.964706),
						["Uncommon"] = Color3.new(0.764706, 1, 0.333333),
						["Rare"]     = Color3.new(0.333333, 0.635294, 1),
						["Epic"]     = Color3.new(0.698039, 0.447059, 0.968627),
						["Legendary"]     = Color3.new(1, 0.721569, 0.164706),
						["Mythic"]   = Color3.new(1, 0.0941176, 0.0941176),
					}

					local function onTextEffect(argTable)
						if not argTable or not argTable.TextData then return end
						local data = argTable.TextData
						
						local character = LocalPlayer.Character
						if not character then return end
						
						if not data.AttachTo or not data.AttachTo:IsDescendantOf(character) then
							return 
						end

						if data.Text ~= "!" or data.EffectType ~= "Exclaim" then return end
						local function GetRarity()
							local colorSeq = data.TextColor
							if typeof(colorSeq) ~= "ColorSequence" then return nil end
							local mainColor = colorSeq.Keypoints[1].Value

							for name, color in pairs(RarityColors) do
								local diff = math.abs(mainColor.R - color.R) + math.abs(mainColor.G - color.G) + math.abs(mainColor.B - color.B)
								if diff < 0.05 then return name end
							end
							return nil
						end

						-- [FILTER 3] Cek Rarity & Setting Dropdown
						local detectedRarity = GetRarity()
						
						if detectedRarity and selectedRarities[detectedRarity] then
							invokeCached("CancelFishingInputs")
							invokeCached("CancelFishingInputs")
							invokeCached("CancelFishingInputs")
						end
					end

					----------------------------------------------------
					-- 3. UI ELEMENTS
					----------------------------------------------------

					MainSection_Rarerity:AddToggle("AutoPullMaster", {
						Title = "Skip Rarity",
						Description = "Skip ikan berdasarkan rarity yang dipilih pada dropdown",
						Default = false,
						Callback = function(Value)
							if Value then
								if not pullConnection then
									Fluent:Notify({
										Title = "Skip Rarity Enabled",
										Content = "Skipping selected rarities...",
										Duration = 3
									})
									pullConnection = RemotePath.OnClientEvent:Connect(onTextEffect)
								end
							else
								if pullConnection then
									Fluent:Notify({
										Title = "Skip Rarity Disabled",
										Content = "No longer skipping rarities.",
										Duration = 3
									})
									pullConnection:Disconnect() 
									pullConnection = nil
								end
							end
						end
					})

					MainSection_Rarerity:AddDropdown("RarityFilter", {
						Title = "Filter Rarity Target",
						Description = "Pilih ikan apa saja yang mau diskip",
						Values = {"Common", "Uncommon", "Rare", "Epic", "Legendary", "Mythic"},
						Multi = true,
						Default = {"Common", "Uncommon"}, 
						Callback = function(Value)
							selectedRarities = Value
						end
					})
				end
				
				----------------------------------------------------
				-- ü§ñ AUTO TAB
				----------------------------------------------------
				local function LoadAutoTab() 
					local AutoSellSection = Auto:AddSection("Auto Sell")
					
					local autoSellEnabled = false
					local sellDelay = 1
					local autoSellLoop
					
					_G.AutoSellAll = Auto:AddToggle("AutoSellAll", {
						Title = "Auto Sell All",
						Description = "Automatically sells all items every interval",
						Default = false,
						Callback = function(Value)
							autoSellEnabled = Value
							if Value then
								Fluent:Notify({ Title = "Auto Sell", Content = "Enabled", Duration = 3 })
								autoSellLoop = task.spawn(function()
									while autoSellEnabled do
										pcall(function()
											local net = game:GetService("ReplicatedStorage")
												.Packages._Index:FindFirstChild("sleitnick_net@0.2.0").net
											net:FindFirstChild("RF/SellAllItems"):InvokeServer()
										end)
										task.wait(sellDelay * 60)
									end
								end)
							else
								Fluent:Notify({ Title = "Auto Sell", Content = "Disabled", Duration = 3 })
								if autoSellLoop then task.cancel(autoSellLoop) end
							end
						end
					})
					
					Auto:AddInput("SellDelayInput", {
						Title = "Sell All Delay (minutes)",
						Default = tostring(sellDelay),
						Placeholder = "Default: 1",
						Numeric = true,
						Callback = function(Value)
							local num = tonumber(Value)
							if num then
								sellDelay = num
								Fluent:Notify({
									Title = "Sell Delay",
									Content = "Updated to " .. num .. " minute(s)",
									Duration = 3
								})
							end
						end
					})

					local Replion = require(ReplicatedStorage.Packages.Replion)

					local selectedItems = {} -- Sekarang berupa tabel untuk menampung banyak pilihan
					local itemNameToIdMap = {} 
					local filteredItems = {}
					local sellLoop

					-- 1. Scan semua item untuk mapping Nama ke ID
					local ItemsFolder = ReplicatedStorage:WaitForChild("Items")
						for _, itemModule in ipairs(ItemsFolder:GetChildren()) do
							if itemModule:IsA("ModuleScript") then
								local success, itemData = pcall(function() return require(itemModule) end)
								if success and itemData and itemData.Data then
									local data = itemData.Data
									itemNameToIdMap[data.Name] = data.Id
									
									if data.Type == "Fish" or data.Type == "Gears" then
										table.insert(filteredItems, data.Name)
									end
								end
							end
						end
					

					-- 2. Fungsi untuk mencari UUID berdasarkan daftar ID yang dipilih
					local function getItemsToSell(targetIds)
						local playerData = Replion.Client:WaitReplion("Data", 5)
						if not playerData then return {} end
								
						local inventory = playerData:GetExpect("Inventory")
						if not inventory or not inventory.Items then return {} end

						local uuids = {}
						for _, invItem in pairs(inventory.Items) do
							-- Cek apakah ID item ini ada di dalam daftar ID yang dipilih
							for _, targetId in ipairs(targetIds) do
								if invItem.Id == targetId then
									table.insert(uuids, invItem.UUID)
									break -- Lanjut ke item inventory berikutnya
								end
							end
						end
						return uuids
					end

					-- 3. Fungsi Utama Auto Sell (Multi Mode)
					local function autoSellProcess()
						-- Ambil semua ID dari nama-nama yang dipilih di dropdown
						local targetIds = {}
						for itemName, isSelected in pairs(selectedItems) do
							if isSelected and itemNameToIdMap[itemName] then
								table.insert(targetIds, itemNameToIdMap[itemName])
							end
						end

						if #targetIds == 0 then return end

						local itemsToSell = getItemsToSell(targetIds)
						if #itemsToSell == 0 then return end

						for _, uuid in pairs(itemsToSell) do
							task.spawn(function()
								pcall(function()
									local remote = ReplicatedStorage:WaitForChild("Packages"):WaitForChild("_Index"):WaitForChild("sleitnick_net@0.2.0"):WaitForChild("net"):WaitForChild("RF/SellItem")
									remote:InvokeServer(uuid)
								end)
							end)
							task.wait(0.05) -- Delay sangat singkat agar cepat tapi aman
						end
					end

					-- 4. UI Components (Fluent)
					local MultiDropdown = Auto:AddDropdown("ItemsellDropdown", {
						Title = "Select Items to Auto Sell",
						Description = "You can select multiple items to sell",
						Values = filteredItems,
						Multi = true, -- Diaktifkan
						Search = true,
						Default = {}, 
						Callback = function(Value)
							-- 'Value' dalam Multi=true adalah tabel berisi item yang dipilih
							selectedItems = Value 
							
							-- Hitung berapa banyak yang dipilih untuk notifikasi
							local count = 0
							for _ in pairs(Value) do count = count + 1 end
							
							Fluent:Notify({
								Title = "Selection Updated",
								Content = "Selected " .. count .. " items to auto sell.",
								Duration = 2
							})
						end
					})

					Auto:AddToggle("AutoSellToggle", {
						Title = "Auto Sell Selected Items",
						Description = "Sells all items checked in the dropdown above",
						Default = false,
						Callback = function(Value)
							if Value then
								sellLoop = task.spawn(function()
									while true do
										autoSellProcess()
										task.wait(2) -- Jeda antar pengecekan inventory
									end
								end)
								Fluent:Notify({ Title = "Auto Sell", Content = "Multi-Sell Enabled", Duration = 3 })
							else
								if sellLoop then task.cancel(sellLoop) end
								Fluent:Notify({ Title = "Auto Sell", Content = "Disabled", Duration = 3 })
							end
						end
					})

					local AutoEnchantSection = Auto:AddSection("Auto Enchant Rod")

					local function getStoneUUID(targetId)
						local playerData = Replion.Client:WaitReplion("Data", 5)
						if not playerData then return {} end
								
						local inventory = playerData:GetExpect("Inventory")
						if not inventory or not inventory.Items then return {} end

						local uuids = nil
						for _, invItem in pairs(inventory.Items) do
								if invItem.Id == targetId then
									uuids = invItem.UUID
									break 
								end
						end
						return uuids
					end

					_G.AutoEnchant = false
					local stone = "Enchant Stone"
					local enchant = "Big Hunter I"
					local enchantThread = nil
					local idEnchant = {
						["Big Hunter I"] = 3,
						["Cursed I"] = 12,
						["Empowered I"] = 9,
						["Fairy Hunter I"] = 18,
						["Glistening I"] = 1,
						["Gold Digger I"] = 4,
						["Leprechaun I"] = 5,
						["Leprechaun II"] = 6,
						["Mutation Hunter I"] = 7,
						["Mutation Hunter II"] = 14,
						["Mutation Hunter III"] = 22,
						["Perfection"] = 15,
						["Prismatic I"] = 13,
						["Reeler I"] = 2,
						["Reeler II"] = 21,
						["SECRET Hunter"] = 16,
						["Shark Hunter"] = 20,
						["Stargazer I"] = 8,
						["Stargazer II"] = 17,
						["Stormhunter I"] = 11,
						["Stormhunter II"] = 19,
						["XPerienced I"] = 10
					}

					local success, data = pcall(function() return Replion.Client:WaitReplion("Data", 5) end)

					local function AutoEnchantRod()
						while _G.AutoEnchant do
							local stoneUUID = nil
							-- Cek tipe batu
							if stone == "Enchant Stone" then
								stoneUUID = getStoneUUID(10) -- IDs untuk Enchant Stone biasa
							elseif stone == "Evolved Enchant Stone" then
								stoneUUID = getStoneUUID(558) -- IDs untuk Evolved
							elseif stone == "Transcendent Stone" then
								stoneUUID = getStoneUUID(246) -- IDs untuk Transc
							end

							if stoneUUID then
								-- Setup Remotes
								local Replion = require(ReplicatedStorage.Packages.Replion)
								local Net = ReplicatedStorage.Packages._Index:WaitForChild("sleitnick_net@0.2.0"):WaitForChild("net")
								
								local EquipItemRemote = Net:FindFirstChild("RE/EquipItem")
								local FirstEnchant = Net:FindFirstChild("RE/ActivateEnchantingAltar")
								local SeccondEnchant = Net:FindFirstChild("RE/ActivateSecondEnchantingAltar")
								
								-- Definisi Remote yg kita tunggu (RollEnchant)
								local RollEnchantRemote = Net:WaitForChild("RE/RollEnchant")
								local DisplayEnchantRemote = Net:WaitForChild("RE/DisplaySystemMessage")

								-- 1. Equip batu enchant
								EquipItemRemote:FireServer(stoneUUID, "Enchant Stones")
								task.wait(0.5)
								
								assignedSlot = nil
								local equipped = data:Get("EquippedItems")
								local startTime = tick()
								repeat
									if equipped then
										for slot, id in pairs(equipped) do
											if id == stoneUUID then assignedSlot = tonumber(slot) break end
										end
									end
								until assignedSlot or (tick() - startTime > 3)
								task.wait(0.5)
								game:GetService("ReplicatedStorage"):WaitForChild("Packages"):WaitForChild("_Index"):WaitForChild("sleitnick_net@0.2.0"):WaitForChild("net"):WaitForChild("RE/EquipToolFromHotbar"):FireServer(assignedSlot)


								-- 2. Fire Enchant (Mulai proses)
								if stone == "Enchant Stone" or stone == "Evolved Enchant Stone" then
									player.Character.HumanoidRootPart.CFrame = CFrame.new( 3256.83032, -1300.65491, 1391.13477, 0.286960483, -1.62788378e-08, -0.957942426, -4.36652776e-08, 1, -3.00738812e-08, 0.957942426, 5.04588371e-08, 0.286960483 ) -- Lokasi Altar 1
									task.wait(1)
									FirstEnchant:FireServer()
								else
									player.Character.HumanoidRootPart.CFrame = CFrame.new( 1478.03333, 130.709579, -613.817261, -0.996677399, -2.53595793e-08, -0.0814506933, -3.14826174e-08, 1, 7.38905044e-08, 0.0814506933, 7.62092753e-08, -0.996677399 ) -- Lokasi Altar 2
									task.wait(1)
									SeccondEnchant:FireServer()
								end
								
								print("‚è≥ Menunggu hasil Roll (Arg 2)...")

								-- 3. TUNGGU REMOTE EVENT DISINI
								-- Script akan berhenti disini sampai server mengirim balik RE/RollEnchant
								local args = {RollEnchantRemote.OnClientEvent:Wait()}
								
								-- args[2] adalah Arg 2 yang ada di log kamu (angka 2)
								local arg2_Result = args[2] 

								if arg2_Result == idEnchant[enchant] then
									_G.AutoEnchant = false
									enchantThread = nil
								end
								
								task.wait(8) 
							else
								print("‚ùå Batu enchant tidak ditemukan di inventory.")
								task.wait(2) -- Delay jika batu habis, supaya tidak crash/spam
							end
						end
					end

					AutoEnchantSection:AddDropdown("EnchantStoneDropdown", {
						Title = "Select Stone",
						Values = {"Enchant Stone", "Evolved Enchant Stone", "Transcendent Stone"},
						Multi = false,
						Default = "Enchant Stone",
						Callback = function(Value)
							stone = Value
						end
					})

					AutoEnchantSection:AddDropdown("EnchantDropdown", {
						Title = "Select Enchant",
						Values = {"Big Hunter I", "Cursed I", "Empowered I", "Fairy Hunter I", "Glistening I", "Gold Digger I", "Leprechaun I", "Leprechaun II", "Mutation Hunter I", "Mutation Hunter II", "Mutation Hunter III", "Perfection", "Prismatic I", "Reeler I", "Reeler II", "SECRET Hunter", "Shark Hunter", "Stargazer I", "Stargazer II", "Stormhunter I", "Stormhunter II", "XPerienced I"},
						Multi = false,
						Default = "Big Hunter I",
						Callback = function(Value)
							enchant = Value
						end
					})

					AutoEnchantSection:AddToggle("AutoEnchantToggle", {
						Title = "Auto Enchant Rod",
						Default = false,
						Callback = function(Value)
							_G.AutoEnchant = Value
							if Value then
								enchantThread = task.spawn(function()
									AutoEnchantRod()
								end)
							else
								if enchantThread then
									task.cancel(enchantThread)
									enchantThread = nil
								end
							end
						end
					})
					
				end

				local function LoadShopTab()
					
					----------------------------------------------------
					-- üé£ FISHING ROD SHOP SECTION
					----------------------------------------------------
					local RodSection = Shop:AddSection("Fishing Rod Shop")
					
					local currentRod = "Starter Rod (50$)"
					
					local rodOptions = {
						"Starter Rod (50$)",
						"Luck Rod (350$)", 
						"Carbon Rod (900$)",
						"Grass Rod (1500$)",
						"Desmascus Rod (3000$)",
						"Ice Rod (5000$)",
						"Lucky Rod (15000$)",
						"Midnight Rod (50000$)",
						"SteamPunk Rod (215000$)",
						"Chrome Rod (437000$)",
						"Fluorescent Rod (715000$)",
						"Astral Rod (1M$)",
						"Ares Rod (3M$)",
						"Angler Rod (8M$)",
						"Bambo Rod (12M$)"
					}
					
					Shop:AddDropdown("RodSelect", {
						Title = "Select Fishing Rod",
						Values = rodOptions,
						Default = currentRod,
						Multi = false,
						Callback = function(Value)
							currentRod = Value
							Fluent:Notify({
								Title = "Rod Selected",
								Content = "Selected: " .. Value,
								Duration = 2
							})
						end
					})
					
					Shop:AddButton({
						Title = "Purchase Fishing Rod",
						Description = "Buy the selected fishing rod",
						Callback = function()
							local RFPurchaseFishingRod = ReplicatedStorage.Packages._Index["sleitnick_net@0.2.0"].net["RF/PurchaseFishingRod"]
							
							local rodId = nil
							if currentRod == "Starter Rod (50$)" then rodId = 1
							elseif currentRod == "Luck Rod (350$)" then rodId = 79
							elseif currentRod == "Carbon Rod (900$)" then rodId = 76
							elseif currentRod == "Grass Rod (1500$)" then rodId = 85
							elseif currentRod == "Desmascus Rod (3000$)" then rodId = 77
							elseif currentRod == "Ice Rod (5000$)" then rodId = 78
							elseif currentRod == "Lucky Rod (15000$)" then rodId = 4
							elseif currentRod == "Midnight Rod (50000$)" then rodId = 80
							elseif currentRod == "SteamPunk Rod (215000$)" then rodId = 6
							elseif currentRod == "Chrome Rod (437000$)" then rodId = 7
							elseif currentRod == "Fluorescent Rod (715000$)" then rodId = 255
							elseif currentRod == "Astral Rod (1M$)" then rodId = 5
							elseif currentRod == "Ares Rod (3M$)" then rodId = 126
							elseif currentRod == "Angler Rod (8M$)" then rodId = 168
							elseif currentRod == "Bambo Rod (12M$)" then rodId = 258
							end
							
							if rodId then
								pcall(function()
									RFPurchaseFishingRod:InvokeServer(rodId)
									Fluent:Notify({
										Title = "Rod Purchased!",
										Content = "Bought: " .. currentRod .. " üé£",
										Duration = 3
									})
								end)
							end
						end
					})
					
					----------------------------------------------------
					-- ü™± BAIT SHOP SECTION
					----------------------------------------------------
					local BaitSection = Shop:AddSection("Bait Shop")
					
					local currentBait = "TopWater Bait (100$)"
					
					local baitOptions = {
						"TopWater Bait (100$)",
						"Luck Bait (1000$)", 
						"Midnight Bait (3000$)",
						"Nature Bait (83500$)",
						"Chroma Bait (290000$)",
						"Dark Matter Bait (630000$)",
						"Corrupt Bait (1.15M$)",
						"Aether Bait (3.70M$)",
						"Floral Bait (4M$)"
					}
					
					Shop:AddDropdown("BaitSelect", {
						Title = "Select Bait",
						Values = baitOptions,
						Default = currentBait,
						Multi = false,
						Callback = function(Value)
							currentBait = Value
							Fluent:Notify({
								Title = "Bait Selected",
								Content = "Selected: " .. Value,
								Duration = 2
							})
						end
					})
					
					Shop:AddButton({
						Title = "Purchase Bait",
						Description = "Buy the selected bait",
						Callback = function()
							local RFPurchaseBait = ReplicatedStorage.Packages._Index["sleitnick_net@0.2.0"].net["RF/PurchaseBait"]
							
							local baitId = nil
							if currentBait == "TopWater Bait (100$)" then baitId = 10
							elseif currentBait == "Luck Bait (1000$)" then baitId = 2
							elseif currentBait == "Midnight Bait (3000$)" then baitId = 3
							elseif currentBait == "Nature Bait (83500$)" then baitId = 17
							elseif currentBait == "Chroma Bait (290000$)" then baitId = 6
							elseif currentBait == "Dark Matter Bait (630000$)" then baitId = 8
							elseif currentBait == "Corrupt Bait (1.15M$)" then baitId = 15
							elseif currentBait == "Aether Bait (3.70M$)" then baitId = 16
							elseif currentBait == "Floral Bait (4M$)" then baitId = 20
							end
							
							if baitId then
								pcall(function()
									RFPurchaseBait:InvokeServer(baitId)
									Fluent:Notify({
										Title = "Bait Purchased!",
										Content = "Bought: " .. currentBait .. " ",
										Duration = 3
									})
								end)
							end
						end
					})
					
					
					-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
					-- üå§Ô∏è AUTO BUY WEATHER SECTION
					-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
					local AutoWeatherSection = Shop:AddSection("Auto Buy Weather")
					
					local selectedWeathers = {}
					local autoBuyWeatherEnabled = false
					local weatherLoop = nil
					
					local function purchaseWeather(weatherName)
						local RFPurchaseWeatherEvent = ReplicatedStorage.Packages._Index["sleitnick_net@0.2.0"].net["RF/PurchaseWeatherEvent"]
						
						pcall(function()
							local args = {[1] = weatherName}
							RFPurchaseWeatherEvent:InvokeServer(unpack(args))
						end)
					end
					
					Shop:AddDropdown("WeatherSelect", {
						Title = "Select Weather (Multi-Select)",
						Values = {"Wind", "Storm", "Radiant", "Cloudy", "Snow", "Shark Hunt"},
						Default = {},
						Multi = true,
						Callback = function(Value)
							selectedWeathers = Value or {}
							local count = 0
							for _ in pairs(selectedWeathers) do count = count + 1 end
							Fluent:Notify({
								Title = "Weather Selected",
								Content = count .. " weather(s) selected",
								Duration = 2
							})
						end
					})
					
					Shop:AddButton({
						Title = "Purchase Weather",
						Description = "Buy selected weathers manually",
						Callback = function()
							for weatherName, isSelected in pairs(selectedWeathers) do
								if isSelected then
									purchaseWeather(weatherName)
								end
							end
							Fluent:Notify({
								Title = "Weather Purchased",
								Content = "Purchased selected weathers",
								Duration = 3
							})
						end
					})
					
					Shop:AddToggle("AutoBuyWeather", {
						Title = "Auto Buy Weather",
						Description = "Automatically buy selected weathers every 5 seconds",
						Default = false,
						Callback = function(Value)
							autoBuyWeatherEnabled = Value
							
							if Value then
								if weatherLoop then
									weatherLoop:Disconnect()
									weatherLoop = nil
								end
								
								weatherLoop = RunService.Heartbeat:Connect(function()
									task.wait(5)
									
									if autoBuyWeatherEnabled then
										for weatherName, isSelected in pairs(selectedWeathers) do
											if isSelected then
												purchaseWeather(weatherName)
											end
										end
									end
								end)
								
								Fluent:Notify({
									Title = "Auto Buy Weather",
									Content = "Enabled! Will buy weathers every 5 seconds",
									Duration = 3
								})
							else
								if weatherLoop then
									weatherLoop:Disconnect()
									weatherLoop = nil
								end
								Fluent:Notify({
									Title = "Auto Buy Weather",
									Content = "Disabled",
									Duration = 2
								})
							end
						end
					})
					
					-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
					-- üõí MERCHANT SHOP
					-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
					local MerchantSection = Shop:AddSection("Merchant Shop")
					local selectedItem = "Fluorescent Rod"
					local merchantLoop = nil
					local merchantData = {
						["Fluorescent Rod"] = 1,
						["Hazmat Rod"] = 2,
						["Singularity Bait"] = 3,
						["Royal Bait"] = 4,
						["Luck Totem"] = 5,
						["Shiny Totem"] = 7,
						["Mutation Totem"] = 8
					}

					
					MerchantSection:AddButton({
						Title = "Open Merchant",
						Description = "Open the merchant interface",
						Callback = function()
								local GuiMerchantControl = ReplicatedStorage:WaitForChild("Modules"):WaitForChild("GuiControl")
								
								if GuiMerchantControl then
									local GuiControl = require(GuiMerchantControl)
									
									GuiControl:Open("Merchant")
									Fluent:Notify({
										Title = "Merchant",
										Content = "Merchant interface opened",
										Duration = 2
									})
								else
									Fluent:Notify({
										Title = "Merchant",
										Content = "Failed to open merchant interface",
										Duration = 2
									})
								end
						end
					})

					MerchantSection:AddDropdown("MerchantSelect", {
						Title = "Select Merchant Item",
						Values = {"Fluorescent Rod", "Hazmat Rod", "Singularity Bait", "Royal Bait", "Luck Totem", "Shiny Totem", "Mutation Totem"},
						Default = "Fluorescent Rod",
						Multi = false,
						Callback = function(Value)
							selectedItem = Value
							Fluent:Notify({
								Title = "Merchant Item Selected",
								Content = "Selected: " .. Value,
								Duration = 2
							})
						end
					})

					MerchantSection:AddToggle("AutoBuyMerchant", {
						Title = "Auto Buy Selected Item",
						Description = "Automatically buys the selected merchant item every 1 seconds",
						Default = false,
						Callback = function(Value)
							
							
							if Value then
								Fluent:Notify({
									Title = "Auto Buy Merchant",
									Content = "Enabled! Buying " .. selectedItem .. " every 1 seconds" .. merchantData[selectedItem],
									Duration = 3
								})
								merchantLoop = task.spawn(function()
									while true do
										pcall(function()
											local args = {
												merchantData[selectedItem]
											}
											game:GetService("ReplicatedStorage"):WaitForChild("Packages"):WaitForChild("_Index"):WaitForChild("sleitnick_net@0.2.0"):WaitForChild("net"):WaitForChild("RF/PurchaseMarketItem"):InvokeServer(unpack(args))

										end)
										task.wait(1)
									end
								end)
								
							else
								if merchantLoop then task.cancel(merchantLoop) end
								Fluent:Notify({
									Title = "Auto Buy Merchant",
									Content = "Disabled",
									Duration = 2
								})
							end
						end
					})
					
					
					
					----------------------------------------------------
					-- ‚≠ê AUTO FAVORITE (FINAL FIXED LOGIC)
					-- Fitur: Low CPU & Specific Mutation List
					----------------------------------------------------

					local AutoFavSection = Auto:AddSection("Auto Favorite")

					-- Variables
					local autoFavEnabled = false
					local selectedRarities = {}   
					local selectedMutations = {}
					local selectedFishNames = {}  -- BARU: Untuk select per nama ikan
					local favLoop = nil
					local favoriteCount = 0

					-- Dependencies
					local Replion = require(ReplicatedStorage.Packages.Replion)
					local ItemsDatabase = require(ReplicatedStorage.Items)
					local VariantsDatabase = require(ReplicatedStorage.Variants)

					----------------------------------------------------
					-- üêü FISH NAME SCANNER (RUN ONCE ON LOAD)
					----------------------------------------------------
					local AvailableFishNames = {}
					local FishNameToIdMap = {}  -- Mapping nama ‚Üí ID untuk lookup cepat

					local function ScanAllFishNames()
						local ItemsFolder = ReplicatedStorage:WaitForChild("Items")
						local scannedNames = {}
						
							for _, itemModule in ipairs(ItemsFolder:GetChildren()) do
								if itemModule:IsA("ModuleScript") then
									local success, itemData = pcall(function()
										return require(itemModule)
									end)
									
									if success and itemData and itemData.Data then
										local itemType = itemData.Data.Type
										local itemName = itemData.Data.Name
										local itemId = itemData.Data.Id
										
										-- Filter hanya Fish
										if itemType == "Fish" and itemName and itemId then
											if not scannedNames[itemName] then
												table.insert(AvailableFishNames, itemName)
												scannedNames[itemName] = true
											end
											-- Mapping nama ke ID
											FishNameToIdMap[itemName] = itemId
										end
									end
								end
							end
							table.sort(AvailableFishNames)
						
						
						-- Sort alphabetically untuk UI yang rapi
						
						print(string.format("[AutoFav] Scanned %d unique fish names", #AvailableFishNames))
					end

					-- Jalankan scan sekali saat load
					ScanAllFishNames()

					----------------------------------------------------
					-- ‚ö° 1. CACHING SYSTEM (CPU OPTIMIZATION)
					----------------------------------------------------
					local ItemCache = {}
					local VariantCache = {}

					local function InitializeCache()
						-- Cache Item Data
						for _, item in pairs(ItemsDatabase) do
							if item.Data and item.Data.Id then
								ItemCache[item.Data.Id] = item
							end
						end
						
						-- Cache Variant/Mutation Data
						for key, var in pairs(VariantsDatabase) do
							local realId = (var.Data and var.Data.Id) or key
							local realName = (var.Data and var.Data.Name) or key 
							
							if realId and realName then
								VariantCache[realId] = realName
							end
						end
					end

					InitializeCache()

					----------------------------------------------------
					-- üß¨ 2. HELPER FUNCTIONS
					----------------------------------------------------

					local function getItemStaticData(targetId)
						return ItemCache[targetId]
					end

					local function getMutationNameById(variantId)
						return VariantCache[variantId]
					end

					local function isTierSelected(tierId)
						for _, id in pairs(selectedRarities) do
							if id == tierId then return true end
						end
						return false
					end

					local function isMutationSelected(mutName)
						if #selectedMutations == 0 then return false end
						if not mutName then return false end
						
						local targetLower = string.lower(tostring(mutName))
						
						for _, mName in pairs(selectedMutations) do
							if string.find(targetLower, string.lower(mName), 1, true) then 
								return true 
							end
						end
						return false
					end

					-- BARU: Cek apakah nama ikan dipilih
					local function isFishNameSelected(fishId)
						if #selectedFishNames == 0 then return false end
						
						local staticData = getItemStaticData(fishId)
						if not staticData or not staticData.Data.Name then return false end
						
						local fishName = staticData.Data.Name
						
						for _, selectedName in pairs(selectedFishNames) do
							if fishName == selectedName then
								return true
							end
						end
						return false
					end

					----------------------------------------------------
					-- üß† 3. SCANNING LOGIC (PRIORITY CHECK FIX)
					----------------------------------------------------

					local function ScanInventoryForFavorites()
						local resultList = {}
						
						local playerData = Replion.Client:WaitReplion("Data", 5)
						if not playerData then return {} end
						
						local inventory = playerData:GetExpect("Inventory")
						if not inventory or not inventory.Items then return {} end

						local processCount = 0

						for _, invItem in pairs(inventory.Items) do
							-- Anti-Freeze setiap 500 item
							processCount = processCount + 1
							if processCount % 500 == 0 then task.wait() end

							if not invItem.Favorited then
								local staticData = getItemStaticData(invItem.Id)
								
								if staticData and staticData.Data.Type == "Fish" then
									local shouldFavorite = false

									-- [LOGIC 1] Cek Fish Name (PRIORITAS TERTINGGI)
									if isFishNameSelected(invItem.Id) then
										shouldFavorite = true
									end

									-- [LOGIC 2] Cek Rarity (Tier)
									if not shouldFavorite and isTierSelected(staticData.Data.Tier) then
										shouldFavorite = true
									end

									-- [LOGIC 3] Cek Mutasi
									if not shouldFavorite and invItem.Metadata then
										local mutationFound = false
										
										-- A. Cek via Cache (Database Variant)
										if invItem.Metadata.VariantId then
											local cacheName = getMutationNameById(invItem.Metadata.VariantId)
											if cacheName and isMutationSelected(cacheName) then
												mutationFound = true
											end
											
											-- B. Fallback: Cek Raw VariantId
											if not mutationFound and isMutationSelected(invItem.Metadata.VariantId) then
												mutationFound = true
											end
										end
										
										-- C. Fallback: Cek field 'Mutation'
										if not mutationFound and invItem.Metadata.Mutation and isMutationSelected(invItem.Metadata.Mutation) then
											mutationFound = true
										end

										if mutationFound then
											shouldFavorite = true
										end
									end
									
									-- Jika salah satu kriteria terpenuhi -> Masukkan antrian
									if shouldFavorite then
										table.insert(resultList, invItem.UUID)
									end
								end
							end
						end

						return resultList
					end

					----------------------------------------------------
					-- üì° 4. NETWORK HANDLER
					----------------------------------------------------

					local function favHandler(uuid)
						pcall(function()
							local netFolder = ReplicatedStorage.Packages._Index:FindFirstChild("sleitnick_net@0.2.0")
							if netFolder then
								local REFavoriteItem = netFolder.net:FindFirstChild("RE/FavoriteItem")
								if REFavoriteItem then
									REFavoriteItem:FireServer(uuid)
									favoriteCount = favoriteCount + 1
								end
							end
						end)
					end

					----------------------------------------------------
					-- üîÑ 5. MAIN LOOP
					----------------------------------------------------

					local function startAutoFavorite()
						favLoop = task.spawn(function()
							while autoFavEnabled do
								if #selectedRarities == 0 and #selectedMutations == 0 and #selectedFishNames == 0 then
									task.wait(2)
									continue
								end

								local itemsToFav = ScanInventoryForFavorites()

								if #itemsToFav > 0 then
									for _, uuid in pairs(itemsToFav) do
										if not autoFavEnabled then break end
										favHandler(uuid)
										task.wait(0.2)
									end
								else
									task.wait(1)
								end
								task.wait(0.5)
							end
						end)
					end

					----------------------------------------------------
					-- üü¢ 6. UI ELEMENTS
					----------------------------------------------------

					Auto:AddToggle("AutoFavoriteToggle", {
						Title = "Auto Favorite System",
						Description = "With Fish Name Selection",
						Default = false,
						Callback = function(Value)
							autoFavEnabled = Value
							if Value then
								startAutoFavorite()
							else
								if favLoop then task.cancel(favLoop) end
								favLoop = nil
								print(string.format("[System] Auto Favorite Stopped | Total: %d", favoriteCount))
							end
						end
					})

					-- BARU: Dropdown untuk select fish by name
					Auto:AddDropdown("FavFishName", {
						Title = "Select Fish by Name",
						Description = "Choose specific fish to favorite (Highest Priority)",
						Values = AvailableFishNames,
						Default = {},
						Multi = true,
						Search = true,
						Callback = function(Value)
							selectedFishNames = {}
							for fishName, isSelected in pairs(Value) do
								if isSelected then
									table.insert(selectedFishNames, fishName)
								end
							end
							print(string.format("[AutoFav] Selected %d fish names", #selectedFishNames))
						end
					})

					Auto:AddDropdown("FavRarity", {
						Title = "Fish Rarities",
						Description = "Select rarities to favorite",
						Values = { "Common", "Uncommon", "Rare", "Epic", "Legendary", "Mythic", "SECRET" },
						Default = {}, 
						Multi = true,
						Callback = function(Value)
							selectedRarities = {}
							local RarityMap = {
								["Common"] = 1, ["Uncommon"] = 2, ["Rare"] = 3,
								["Epic"] = 4, ["Legendary"] = 5, ["Mythic"] = 6, ["SECRET"] = 7
							}
							for rarityName, isSelected in pairs(Value) do
								if isSelected and RarityMap[rarityName] then
									table.insert(selectedRarities, RarityMap[rarityName])
								end
							end
						end
					})

					Auto:AddDropdown("FavMutation", {
						Title = "Mutations",
						Description = "Select mutations",
						Values = {
							"1x1x1x1","Albino","Artic Frost","Bloodmoon","Color Burn","Corrupt","Crystalized","Disco","Fairy Dust","Festive","Frozen","Galaxy","Gemstone","Ghost","Gold","Holographic", "Leviathan Rage", "Lightning", "Midnight", "Moon Fragment", "Noob", "Radioactive", "Sandy", "Stone"
						},
						Default = {},
						Multi = true,
						Callback = function(Value)
							selectedMutations = {}
							for mutation, isSelected in pairs(Value) do
								if isSelected then
									table.insert(selectedMutations, mutation)
								end
							end
						end
					})

					AutoFavSection:AddButton({
					Title = "Unfavorite ALL Fish",
					Description = "Reset Favorites",
					Callback = function()
						-- Memunculkan Pop-up Konfirmasi
						Window:Dialog({
							Title = "Konfirmasi",
							Content = "Apakah Anda yakin ingin menghapus favorit SEMUA ikan? Tindakan ini tidak bisa dibatalkan.",
							Buttons = {
								{
									Title = "Ya, Hapus",
									Callback = function()
										-- === LOGIKA ASLI DIMASUKKAN DI SINI ===
										pcall(function()
											local playerData = Replion.Client:WaitReplion("Data", 5)
											if not playerData then return end
											local inventory = playerData:GetExpect("Inventory")
											local count = 0
											if inventory and inventory.Items then
												for _, invItem in pairs(inventory.Items) do
													local staticData = getItemStaticData(invItem.Id)
													if staticData and staticData.Data.Type == "Fish" and invItem.Favorited then
														favHandler(invItem.UUID)
														count = count + 1
														if count % 20 == 0 then task.wait() end
													end
												end
											end
											print("Unfavorited Count:", count)
										end)
										-- ======================================
									end
								},
								{
									Title = "Batal",
									Callback = function()
										print("Unfavorite dibatalkan.")
									end
								}
							}
						})
					end
				})


					----------------------------------------------------
					-- ü™¨ AUTO PLACE TOTEM
					----------------------------------------------------
					do
						local s = Auto:AddSection("Auto Place Totem")
						local d = s:AddDropdown("TotemSelect", {
							Title = "Select Totem",
							Values = {"LOL"},
							Default = "",
							AllowNull = true
						})
						local t = {}
						local totemMap = {}
						local totemThread = nil
						-- d:SetValues(t)
						
						local function refreshTotems()
							totemMap = {}
							t = {}
							pcall(function()
								local Replion = require(ReplicatedStorage.Packages.Replion)
								local data = Replion.Client:WaitReplion("Data", 5)
								local inv = data:GetExpect("Inventory")
								local ItemUtility = require(ReplicatedStorage.Shared.ItemUtility)
								
								-- Scan Totems dari Inventory (sama seperti Untitled-1 line 943-948)
								if inv and inv.Totems then
									for _, totem in ipairs(inv.Totems) do
										if totem.UUID then
											local name = "Totem"
											
											-- Get name dari ItemUtility
											if totem.Id then
												local itemData = ItemUtility.GetItemDataFromItemType("Totems", totem.Id)
												if itemData and itemData.Data then
													name = itemData.Data.Name or "Totem"
												end
											end
											
											-- Group by name
											if not totemMap[name] then
												totemMap[name] = {}
												table.insert(t, name)
											end
											table.insert(totemMap[name], totem.UUID)
										end
									end
								end
							end)
							d:SetValues(t)
						end
						
						s:AddButton({
							Title = "Refresh",
							Callback = refreshTotems
						})
						
						task.spawn(function()
							task.wait(2)
							refreshTotems()
						end)
						
						local delayInput = s:AddInput("TotemDelay", {Title = "Delay", Default = "60", Numeric = true,Description = "Dalam Menit"})
						local delayValue = 60
						delayInput:OnChanged(function(v)
							delayValue = tonumber(v) or 60
						end)
						
						local isPlacing = false
						local toggleRef = s:AddToggle("AutoPlaceTotem", {
							Title = "Auto Place",
							Default = false,
							Callback = function(v)
								if totemThread then
									task.cancel(totemThread)
									totemThread = nil
								end
								
								isPlacing = v
								
								if v then
									local sel = d.Value
									if not sel or sel == "" then
										isPlacing = false
										toggleRef:SetValue(false)
										return
									end
									
									local uuids = totemMap[sel]
									if not uuids or #uuids == 0 then
										isPlacing = false
										toggleRef:SetValue(false)
										return
									end
									
									local delay = delayValue
									local RE = ReplicatedStorage.Packages._Index["sleitnick_net@0.2.0"].net["RE/SpawnTotem"]
									local idx = 1
									
									totemThread = task.spawn(function()
										while isPlacing do
											local char = player.Character
											if char and char:FindFirstChild("HumanoidRootPart") then
												local uuid = uuids[idx]
												if uuid then
													pcall(RE.FireServer, RE, uuid)
													idx = (idx % #uuids) + 1
												end
											end
											task.wait(delay*60)
										end
									end)
								end
							end
						})
					end

					---------------------------------------------------------
					-- 9 TOTEM
					---------------------------------------------------------
					local NineTotem = Auto:AddSection("Auto 9 Totem")

					local selectedTotem = ""
					local JarakAntarTotem = 101
					local JarakLayerKedua = 102
					local JarakDariPlayer = JarakAntarTotem / math.sqrt(3)
					local NoclipLoop = nil
					local NineTotemThread = nil

					-- [[ SETUP REMOTE ]] --
					local Replion = require(ReplicatedStorage.Packages.Replion)
					local ItemUtility = require(ReplicatedStorage.Shared.ItemUtility)
					local Net = ReplicatedStorage.Packages._Index["sleitnick_net@0.2.0"].net 
					
					local EquipItemRemote = Net:FindFirstChild("RE/EquipItem")
					local HotbarRemote = Net:FindFirstChild("RE/EquipToolFromHotbar")
					local SpawnRemote = Net:FindFirstChild("RE/SpawnTotem")

					if not (EquipItemRemote and HotbarRemote and SpawnRemote) then
						warn("Remote Event tidak lengkap!")
						return
					end

					--------------------------------------------------------
					-- function helper

					local PlayerModule = require(game:GetService("Players").LocalPlayer.PlayerScripts:WaitForChild("PlayerModule"))
					local Controls = PlayerModule:GetControls()

					-- [[ FUNGSI DISABLE ]] --
					local function DisableMovement()
						Controls:Disable()
					end

					-- [[ FUNGSI ENABLE ]] --
					local function EnableMovement()
						Controls:Enable()
					end

					local function startFly()
						local char = LocalPlayer.Character
						local root = char and char:FindFirstChild("HumanoidRootPart")
						local humanoid = char and char:FindFirstChild("Humanoid")
						
						if not root or not humanoid then return end

						humanoid.PlatformStand = true 
						
						-- flyBodyGyro = Instance.new("BodyGyro")
						-- flyBodyGyro.P = 9e4
						-- flyBodyGyro.maxTorque = Vector3.new(9e9, 9e9, 9e9)
						-- flyBodyGyro.CFrame = root.CFrame
						-- flyBodyGyro.Parent = root
						
						flyBodyVelocity = Instance.new("BodyVelocity")
						flyBodyVelocity.Velocity = Vector3.new(0, 0, 0)
						flyBodyVelocity.MaxForce = Vector3.new(9e9, 9e9, 9e9)
						flyBodyVelocity.Parent = root
						
						-- createMobileUI() -- Munculkan tombol

						flyLoop = RunService.RenderStepped:Connect(function()
							if not flyEnabled or not root then return end
							
							local camCFrame = Camera.CFrame
							local moveDirection = Vector3.new(0, 0, 0)
							
							-- Baca Analog/Joystick HP
							local moveVector = ControlModule:GetMoveVector()
							
							if moveVector.Magnitude > 0 then
								moveDirection = moveDirection + (camCFrame.LookVector * -moveVector.Z)
								moveDirection = moveDirection + (camCFrame.RightVector * moveVector.X)
							end

							-- Baca Tombol UI / Keyboard
							if verticalState.Up or UserInputService:IsKeyDown(Enum.KeyCode.Space) then
								moveDirection = moveDirection + Vector3.new(0, 1, 0)
							end
							if verticalState.Down or UserInputService:IsKeyDown(Enum.KeyCode.LeftControl) then
								moveDirection = moveDirection - Vector3.new(0, 1, 0)
							end
							
							-- flyBodyGyro.CFrame = camCFrame
							flyBodyVelocity.Velocity = moveDirection * flySpeed
						end)
					end

					local function stopFly()
						local char = LocalPlayer.Character
						local humanoid = char and char:FindFirstChild("Humanoid")
						
						-- if flyBodyGyro then flyBodyGyro:Destroy() flyBodyGyro = nil end
						if flyBodyVelocity then flyBodyVelocity:Destroy() flyBodyVelocity = nil end
						if flyLoop then flyLoop:Disconnect() flyLoop = nil end
						
						-- removeMobileUI() -- Hapus tombol

						if humanoid then
							humanoid.PlatformStand = false
						end
					end

					local function EnableNoclip()
						if NoclipLoop then return end -- Jangan buat baru kalau sudah nyala

						-- Membuat Loop Baru
						NoclipLoop = RunService.Stepped:Connect(function()
							local char = Players.LocalPlayer.Character
							if char then
								for _, part in pairs(char:GetDescendants()) do
									if part:IsA("BasePart") and part.CanCollide == true then
										part.CanCollide = false
									end
								end
							end
						end)

					end

					-- === FUNGSI DISABLE (MATI TOTAL) ===
					local function DisableNoclip()
						if NoclipLoop then
							NoclipLoop:Disconnect() -- ‚ö†Ô∏è MEMUTUS LOOP DARI GAME ‚ö†Ô∏è
							NoclipLoop = nil        -- Menghapus referensi variable
						end
					end



					local function start9totem()
						local toggle1 = _G.ToggleInstant.Value
						local toggle2 = _G.ToggleBlantant.Value
						local toggle3 = _G.ToggleLegit.Value
						local toggle4 = _G.ToggleInstantBeta.Value

						_G.ToggleInstant:SetValue(false)
						_G.ToggleBlantant:SetValue(false)
						_G.ToggleLegit:SetValue(false)
						_G.ToggleInstantBeta:SetValue(false)
						_G.InstantBetaV4 = false
						pcall(function()
							game:GetService("ReplicatedStorage").Packages._Index:FindFirstChild("sleitnick_net@0.2.0").net:FindFirstChild("RF/CancelFishingInputs"):InvokeServer()
						end)
						game:GetService("ReplicatedStorage"):WaitForChild("Packages"):WaitForChild("_Index"):WaitForChild("sleitnick_net@0.2.0"):WaitForChild("net"):WaitForChild("RF/EquipOxygenTank"):InvokeServer(105)
			

						startFly()
						EnableNoclip()
						DisableMovement()

						task.wait(1)
						
						-- [[ SCAN 6 UUID ]] --
						print("Scanning Inventory...")
						local success, data = pcall(function() return Replion.Client:WaitReplion("Data", 5) end)
						if not success then warn("Gagal load data inventory.") return end

						local inv = data:Get("Inventory")
						local collectedUUIDs = {}
						
						if inv and inv.Totems then
							for _, totem in ipairs(inv.Totems) do
								if totem.UUID and totem.Id then
									local itemData = ItemUtility.GetItemDataFromItemType("Totems", totem.Id)
									if itemData and itemData.Data then
										local name = itemData.Data.Name or "Totem"
										if name == selectedTotem then
											local isDuplicate = false
											for _, existingId in ipairs(collectedUUIDs) do
												if existingId == totem.UUID then isDuplicate = true break end
											end
											if not isDuplicate then table.insert(collectedUUIDs, totem.UUID) end
											if #collectedUUIDs >= 9 then break end
										end
									end
								end
							end
						end

						if #collectedUUIDs == 0 then warn("Tidak ada totem!") return end
						print("Siap memasang " .. #collectedUUIDs .. " totem.")

						-- [[ FUNGSI PENDUKUNG ]] --
						local function EquipSpecificTotem(uuid)
							pcall(EquipItemRemote.FireServer, EquipItemRemote, uuid, "Totems")
							local assignedSlot = nil
							local startTime = tick()
							repeat
								local equipped = data:Get("EquippedItems")
								if equipped then
									for slot, id in pairs(equipped) do
										if id == uuid then assignedSlot = tonumber(slot) break end
									end
								end
								task.wait(0.1)
							until assignedSlot or (tick() - startTime > 3)
							
							if assignedSlot then
								pcall(HotbarRemote.FireServer, HotbarRemote, assignedSlot)
								task.wait(0.3)
								return true
							end
							return false
						end



						-- [[ 5. SETUP POSISI & FISIKA ]] --
						local char = player.Character or player.CharacterAdded:Wait()
						local hrp = char:WaitForChild("HumanoidRootPart")
						local hum = char:WaitForChild("Humanoid")
						
						local OriginalCFrame = hrp.CFrame
						local StartPosition = hrp.Position
						local CenterBase = StartPosition + Vector3.new(0, 0, 0)

						-- Simpan lokasi dasar (Segitiga)
						local BaseLocations = {} 
						for i = 1, 3 do
							local AngleDegrees = (i - 1) * 120
							local AngleRad = math.rad(AngleDegrees)
							local OffX = math.sin(AngleRad) * JarakDariPlayer
							local OffZ = math.cos(AngleRad) * JarakDariPlayer
							table.insert(BaseLocations, Vector3.new(OffX, 0, OffZ-20))
						end

						local bg = Instance.new("BodyGyro")
						bg.Name = "AutoTotemGyro"
						bg.MaxTorque = Vector3.new(9e9, 9e9, 9e9)
						bg.P = 9e4
						bg.CFrame = CFrame.Angles(math.rad(-90), 0, 0) -- Rotasi 90 derajat
						bg.Parent = hrp


						-- [[ 6. LOOP EKSEKUSI ]] --
						for i, uuid in ipairs(collectedUUIDs) do
							print("Placing Totem " .. i )
							pcall(function()
								game:GetService("ReplicatedStorage").Packages._Index:FindFirstChild("sleitnick_net@0.2.0").net:FindFirstChild("RF/CancelFishingInputs"):InvokeServer()
							end)
							if not EquipSpecificTotem(uuid) then continue end

							local TargetPos
							local isUpperLayer = false
							
							if i <= 3 then
								-- LAYER TENGAH (Sejajar Player)
								local offset = BaseLocations[i]
								TargetPos = Vector3.new(CenterBase.X + offset.X, CenterBase.Y, CenterBase.Z + offset.Z)
							elseif i <= 6 then
								-- LAYER ATAS (Tambah Tinggi)
								local baseIndex = i - 3
								if BaseLocations[baseIndex] then
									local offset = BaseLocations[baseIndex]
									TargetPos = Vector3.new(CenterBase.X + offset.X, CenterBase.Y + JarakLayerKedua, CenterBase.Z + offset.Z)
									isUpperLayer = true
								else
									continue
								end
							else
								-- LAYER BAWAH (Kurangi Tinggi)
								local baseIndex = i - 6
								if BaseLocations[baseIndex] then
									local offset = BaseLocations[baseIndex]
									TargetPos = Vector3.new(CenterBase.X + offset.X, CenterBase.Y - JarakLayerKedua, CenterBase.Z + offset.Z)
									isUpperLayer = false
								else
									continue
								end
							end

							-- Teleport dengan Rotasi
							hrp.CFrame = CFrame.new(TargetPos) * CFrame.Angles(math.rad(90), 0, 0)
							task.wait(0.8) 

							-- Pasang
							-- BuatVisualizer(TargetPos, isUpperLayer)
							pcall(SpawnRemote.FireServer, SpawnRemote, uuid)
							task.wait(0.8)
						end

						hrp.CFrame = OriginalCFrame

						if bg then bg:Destroy() end
						stopFly()
						DisableNoclip()
						EnableMovement()

						game:GetService("ReplicatedStorage"):WaitForChild("Packages"):WaitForChild("_Index"):WaitForChild("sleitnick_net@0.2.0"):WaitForChild("net"):WaitForChild("RE/EquipToolFromHotbar"):FireServer({[1] = 1})
						task.wait(0.5)
						game:GetService("ReplicatedStorage"):WaitForChild("Packages"):WaitForChild("_Index"):WaitForChild("sleitnick_net@0.2.0"):WaitForChild("net"):WaitForChild("RE/EquipToolFromHotbar"):FireServer({[1] = 1})
						task.wait(0.5)
						game:GetService("ReplicatedStorage"):WaitForChild("Packages"):WaitForChild("_Index"):WaitForChild("sleitnick_net@0.2.0"):WaitForChild("net"):WaitForChild("RE/EquipToolFromHotbar"):FireServer({[1] = 1})
						task.wait(0.5)
						game:GetService("ReplicatedStorage"):WaitForChild("Packages"):WaitForChild("_Index"):WaitForChild("sleitnick_net@0.2.0"):WaitForChild("net"):WaitForChild("RE/EquipToolFromHotbar"):FireServer({[1] = 1})
						task.wait(0.5)
						game:GetService("ReplicatedStorage"):WaitForChild("Packages"):WaitForChild("_Index"):WaitForChild("sleitnick_net@0.2.0"):WaitForChild("net"):WaitForChild("RF/UnequipOxygenTank"):InvokeServer()


						_G.ToggleInstant:SetValue(toggle1)
						_G.ToggleBlantant:SetValue(toggle2)
						_G.ToggleLegit:SetValue(toggle3)
						_G.ToggleInstantBeta:SetValue(toggle4)
						if toggle4 then
							_G.InstantBetaV4 = true
						end
					end

					NineTotem:AddDropdown("TotemSelect", {
							Title = "Select Totem",
							Values = {"Mutation Totem","Luck Totem", "Shiny Totem"},
							Default = "",
							AllowNull = true,
							Callback = function(Value)
								selectedTotem = Value
							end
						})

					NineTotem:AddButton({
						Title = "Start 9 Totem",
						Description = "place 9 totems around you",
						Callback = function()
							task.spawn(function()
								start9totem()
							end)
						end
					})

					NineTotem:AddToggle("NineTotemNoclip", {
						Title = "Auto Place",
						Default = false,
						Callback = function(Value)
							if Value then
								NineTotemThread = task.spawn(function()
									while Value do
										start9totem()
										task.wait(60 * 61)
									end
								end)
							else
								if NineTotemThread then
									task.cancel(NineTotemThread)
									NineTotemThread = nil
								end
							end
						end
					})

					----------------------------------------------------
					-- üîÑ AUTO TRADE SECTION (Optimized)
					----------------------------------------------------
					local AutoTradeSection = Auto:AddSection("Auto Trade")
					
					-- State (optimized - combined into table)
					local TradeState = {isTrading = false, itemName = "", mode = "Non-Favorite", maxQty = 0, total = 0}
					
					-- Setup (reuse existing if available)
					local TradeReplion = require(ReplicatedStorage.Packages.Replion)
					local TradeItemsDB = require(ReplicatedStorage.Items)
					local TradeNet = ReplicatedStorage.Packages._Index:WaitForChild("sleitnick_net@0.2.0"):WaitForChild("net")
					local EquipRemote = TradeNet:WaitForChild("RE/EquipItem")
					local TradeRemote = TradeNet:WaitForChild("RF/InitiateTrade")
					
					-- Helper Functions (optimized)
					local function getItemDataById(id)
						for _, item in pairs(TradeItemsDB) do
							if item.Data and item.Data.Id == id then return item end
						end
					end
					local function scanInventoryByName(name, mode)
						local q, data = {}, TradeReplion.Client:WaitReplion("Data", 10)
						if not data then return {} end
						local inv = data:GetExpect("Inventory")
						if not inv or not inv.Items then return {} end
						for _, invItem in pairs(inv.Items) do
							local db = getItemDataById(invItem.Id)
							if db and db.Data and db.Data.Name == name then
								local fav = invItem.Favorited or false
								if (mode == "Non-Favorite" and not fav) or (mode == "Favorite" and fav) or mode == "All" then
									table.insert(q, {UUID = invItem.UUID, Name = db.Data.Name, Type = db.Data.Type})
								end
							end
						end
						return q
					end
					local function getInventoryItemNames()
						local names, seen = {}, {}
						local data = TradeReplion.Client:WaitReplion("Data", 5)
						if data then
							local inv = data:GetExpect("Inventory")
							if inv and inv.Items then
								for _, invItem in pairs(inv.Items) do
									local db = getItemDataById(invItem.Id)
									if db and db.Data and db.Data.Name and not seen[db.Data.Name] then
										table.insert(names, db.Data.Name)
										seen[db.Data.Name] = true
									end
								end
							end
						end
						table.sort(names)
						return #names > 0 and names or {"Tas Kosong / Error"}
					end
					local function getAllUsernames()
						local list = {}
						for _, plr in pairs(Players:GetPlayers()) do
							if plr ~= player then table.insert(list, plr.Name) end
						end
						return list
					end


					-- [[ 1. CONFIGURATION ]]
					-- Kita gunakan getgenv agar status toggle tetap tersimpan meski script dijalankan ulang
					getgenv().TradeListenerEnabled = false
					local listenerConnection = nil

					-- [[ 2. CARI REMOTE EVENT ]]
					-- Menggunakan path sesuai log yang kamu berikan
					local function GetNotificationRemote()
						local success, result = pcall(function()
							return ReplicatedStorage.Packages._Index["sleitnick_net@0.2.0"].net["RE/TextNotification"]
						end)
						if success and result then
							return result
						else
							warn("‚ùå Remote TextNotification tidak ditemukan! Cek path folder.")
							return nil
						end
					end
					local onTrade = false
					local holdTrade = 0

					local Remote = GetNotificationRemote()

					-- [[ 3. FUNGSI UTAMA HOOK ]]
					local function ToggleTradeHook(state)
						getgenv().TradeListenerEnabled = state

						if state then
							-- [AKTIFKAN]
							if listenerConnection then return end -- Jangan double connect
							
							print("üü¢ Trade Hook: AKTIF")
							
							if not Remote then return end

							listenerConnection = Remote.OnClientEvent:Connect(function(data)
								-- Pastikan script masih diizinkan berjalan
								if not getgenv().TradeListenerEnabled then return end

								-- Cek isi data
								if type(data) == "table" and data.Text then
									
									-- KASUS 1: Trade Berhasil
									if data.Text == "Trade completed!" then
										onTrade = false
										TradeState.total = TradeState.total + 1
									elseif data.Text == "Trade was declined" then
										onTrade = false
									elseif data.Text == "You are too far away!" then
										onTrade = false
									end
									
								end
							end)

						else
							-- [NONAKTIFKAN]
							if listenerConnection then
								listenerConnection:Disconnect()
								listenerConnection = nil
								print("üî¥ Trade Hook: MATI")
							end
						end
					end
					-- Ubah jadi false untuk mematikan
					
					-- Main Trade Loop (optimized)
					local function startContinuousLoop(targetName)
						TradeState.total = 0
						while TradeState.isTrading do
							if TradeState.maxQty > 0 and TradeState.total >= TradeState.maxQty then
								Fluent:Notify({Title = "Limit Tercapai", Content = "Target " .. TradeState.total .. " item selesai.", Duration = 5})
								TradeState.isTrading = false
								break
							end
							local target = Players:FindFirstChild(targetName)
							if not target then
								Fluent:Notify({Title = "Error", Content = "Target hilang.", Duration = 5})
								TradeState.isTrading = false
								break
							end
							local queue = scanInventoryByName(TradeState.itemName, TradeState.mode)
							if #queue > 0 then
								local sisa = TradeState.maxQty > 0 and (TradeState.maxQty - TradeState.total) or ""
								Fluent:Notify({Title = "Proses", Content = "Item ditemukan. Sisa Quota: " .. sisa, Duration = 3})
								for _, item in ipairs(queue) do
									if not TradeState.isTrading or (TradeState.maxQty > 0 and TradeState.total >= TradeState.maxQty) then
										TradeState.isTrading = false
										if TradeState.maxQty > 0 and TradeState.total >= TradeState.maxQty then
											Fluent:Notify({Title = "SELESAI", Content = "Berhasil mengirim " .. TradeState.total .. " item.", Duration = 5})
										end
										break
									end
									EquipRemote:FireServer(item.UUID, item.Type)
									if pcall(function() TradeRemote:InvokeServer(target.UserId, item.UUID) end) then
										onTrade = true
										
									end
									while onTrade and holdTrade < 11 do 
										holdTrade = holdTrade + 1 
										task.wait(1) 
									end
									holdTrade = 0
									task.wait(5)
								end
							else
								task.wait(5)
							end
							task.wait(1)
						end
					end
					
					-- UI Elements
					local PlayerDropdown = AutoTradeSection:AddDropdown("TradePlayerDropdown", {
						Title = "Target Pemain",
						Values = getAllUsernames(),
						Multi = false,
						Default = 1,
					})
					AutoTradeSection:AddButton({Title = "Refresh Player List", Callback = function() PlayerDropdown:SetValues(getAllUsernames()) end})
					
					local ItemNameDropdown = AutoTradeSection:AddDropdown("TradeItemNameDropdown", {
						Title = "Pilih Nama Item",
						Description = "Pilih item spesifik dari tas Anda",
						Values = getInventoryItemNames(),
						Multi = false,
						Default = 1,
					})
					ItemNameDropdown:OnChanged(function(Value) TradeState.itemName = Value end)
					AutoTradeSection:AddButton({Title = "Refresh Inventory List", Callback = function() ItemNameDropdown:SetValues(getInventoryItemNames()) end})
					
					AutoTradeSection:AddInput("TradeQuantityInput", {
						Title = "Jumlah Trade",
						Description = "Masukkan Angka (0 = Unlimited)",
						Default = "0",
						Numeric = true,
						Finished = false,
						Callback = function(Value)
							TradeState.maxQty = tonumber(Value) or 0
							Fluent:Notify({Title = "Jumlah Trade", Content = tostring(TradeState.maxQty), Duration = 3})
						end
					})
					
					AutoTradeSection:AddDropdown("TradeFilterDropdown", {
						Title = "Filter Status",
						Values = {"Non-Favorite", "Favorite", "All"},
						Multi = false,
						Default = 1,
						Callback = function(Value) TradeState.mode = Value end
					})
					
					local TradeToggle = AutoTradeSection:AddToggle("AutoTradeToggle", {
						Title = "Start Loop Trade",
						Default = false
					})
					TradeToggle:OnChanged(function()
						TradeState.isTrading = TradeToggle.Value
						ToggleTradeHook(TradeToggle.Value) 
						if TradeState.isTrading then
							if Fluent.Options.TradeQuantityInput then
								TradeState.maxQty = tonumber(Fluent.Options.TradeQuantityInput.Value) or 0
							end
							local targetName = PlayerDropdown.Value
							if not targetName then
								Fluent:Notify({Title = "Error", Content = "Target belum dipilih!", Duration = 3})
								TradeToggle:SetValue(false)
								return
							end
							if TradeState.itemName == "" or TradeState.itemName == "Tas Kosong / Error" then
								Fluent:Notify({Title = "Error", Content = "Item belum dipilih!", Duration = 3})
								TradeToggle:SetValue(false)
								return
							end
							print("Memulai Trade. Target: " .. TradeState.maxQty .. " item.")
							task.spawn(function()
								startContinuousLoop(targetName)
								if TradeToggle.Value and not TradeState.isTrading then
									TradeToggle:SetValue(false)
								end
							end)
						end
					end)
					local PromptController = require(ReplicatedStorage.Controllers.PromptController)

					-- Ambil variabel internal
					local secretEvent = debug.getupvalues(PromptController.Init)[4]
					local queueTable = debug.getupvalues(PromptController.FirePrompt)[1]

					if not secretEvent or not queueTable then
						return warn(" Error: Variabel internal tidak ditemukan.")
					end

					-- 2. SIMPAN FUNGSI ASLI (Hanya sekali)
					if not getgenv().OriginalDrawPrompt then
						getgenv().OriginalDrawPrompt = PromptController.DrawPrompt
					end

					-- Variabel status (Saklar)
					local isAutoTradeEnabled = false

					-- 4. HOOK UTAMA (Selalu aktif, tapi mengecek saklar)
					PromptController.DrawPrompt = function(self, promptData)
						
						-- Cek apakah fitur sedang dinyalakan?
						if isAutoTradeEnabled then
							
							-- Jalankan logika di thread terpisah
							task.spawn(function()
								-- Tunggu UI muncul sebentar (0.5 detik)
								task.wait(0.2)
								
								-- Cek antrian
								if queueTable[1] == promptData then
									
									if promptData.ConfirmAction then
										task.wait(2) -- Tambah sedikit buffer biar aman
										
										if queueTable[1] == promptData then
											secretEvent:Fire(true)
										end
										
									else
										secretEvent:Fire(true)
									end
								end
							end)
						end

						-- Jalankan fungsi asli visual game
						return getgenv().OriginalDrawPrompt(self, promptData)
					end

					AutoTradeSection:AddToggle("AutoAcceptTradeToggle", {
						Title = "Auto Accept Trade",
						Description = "Otomatis klik Accept menggunakan rasio layar tersimpan",
						Default = false,
						Callback = function(Value)
							isAutoTradeEnabled = Value
						end
					})
					print("[‚úì] Auto Trade System loaded!")

					


					
					----------------------------------------------------
					-- üí∞ AUTO TREASURE CHEST (FIXED)
					----------------------------------------------------

					local ClaimTreasure = Auto:AddSection("Auto Treasure Chest")

					local LocalPlayer = Players.LocalPlayer

					local function claimAllTreasuresFixed()
					-- 1. SIMPAN POSISI AWAL
					local character = LocalPlayer.Character
					local rootPart = character and character:FindFirstChild("HumanoidRootPart")
					local originalCFrame = nil

					if rootPart then
						originalCFrame = rootPart.CFrame
						print("üìå Posisi awal disimpan. Script akan kembali ke sini nanti.")
					else
						warn("‚ùå Karakter tidak ditemukan! Script dibatalkan.")
						return
					end

					print("--- MEMULAI OPERASI SAPU BERSIH (FIX MODEL ERROR) ---")
					local foundCount = 0

					-- 2. LOOP PENCARIAN
					for _, model in ipairs(Workspace:GetChildren()) do
						if model.Name == "Sunken Wreckage" then
							
							-- Cari object "Treasure"
							local treasureObject = model:FindFirstChild("Treasure")
							
							if treasureObject then
								foundCount = foundCount + 1
								
								-- [FIX ERROR DISINI]
								-- Cek apakah Treasure itu Model atau Part untuk mendapatkan posisi
								local targetCFrame = nil
								
								if treasureObject:IsA("Model") then
									-- Jika Model, pakai GetPivot()
									targetCFrame = treasureObject:GetPivot()
								elseif treasureObject:IsA("BasePart") then
									-- Jika Part, pakai CFrame biasa
									targetCFrame = treasureObject.CFrame
								end

								if targetCFrame then
									print("üìç OTW Target #" .. foundCount .. "...")

									-- Teleport ke lokasi
									if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
										LocalPlayer.Character.HumanoidRootPart.CFrame = targetCFrame
										
										-- Tunggu loading part 'Shine' & 'Prompt'
										task.wait(0.8) 
									end

									-- Cari Shine & Tombolnya di dalam Treasure
									local shine = treasureObject:FindFirstChild("Shine")
									local prompt = shine and shine:FindFirstChild("ProximityPrompt")

									if prompt then
										fireproximityprompt(prompt)
										print("‚úÖ Berhasil diklaim!")
									else
										-- Debugging: Cek isi treasure jika shine tidak ketemu
										-- warn("‚ö†Ô∏è Tombol tidak ada di Treasure #" .. foundCount)
									end
									
									-- Jeda sedikit
									task.wait(0.3)
								else
									warn("‚ö†Ô∏è Gagal mendapatkan posisi Treasure #" .. foundCount)
								end
							end
						end
					end

					-- 3. KEMBALI KE POSISI AWAL
					print("üèÅ Selesai mengecek " .. foundCount .. " lokasi.")
					
					if originalCFrame and LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
							print("üîô Teleportasi kembali ke tempat asal...")
							task.wait(0.5) 
							LocalPlayer.Character.HumanoidRootPart.CFrame = originalCFrame
						end
					end

					ClaimTreasure:AddButton({
						Title = "Claim Treasure Chests",
						Description = "Claim all treasure chests",
						Callback = function()
							-- Pcall biar kalau ada error lain script gak mati total
							local success, err = pcall(function()
								claimAllTreasuresFixed()
							end)
							if not success then warn("Treasure Error:", err) end
						end
					})

					
				end

				local function LoadEventTab()
					local LimitedEvent = Event:AddSection("Limited Event")

					local function activatePrompt(prompt)
						if not prompt or not prompt.Enabled then return end

						if fireproximityprompt then
							fireproximityprompt(prompt)
						else
							-- Fallback untuk Roblox Studio
							prompt:InputHoldBegin()
							if prompt.HoldDuration > 0 then
								task.wait(prompt.HoldDuration)
							end
							prompt:InputHoldEnd()
						end
					end

					-- 2. FUNGSI TELEPORT UTAMA
					local function teleportAndInteract()
						local character = player.Character
						if not character or not character:FindFirstChild("HumanoidRootPart") then
							warn("Karakter belum siap!")
							return
						end
						local rootPart = character.HumanoidRootPart

						-------------------------------------------------------
						-- TAHAP 1: AMBIL SEMUA TNT
						-------------------------------------------------------
						-- Gunakan pcall atau check sederhana untuk menghindari error jika folder tidak ada
						local folderAda, tntFolder = pcall(function() 
							return Workspace:WaitForChild("!!! SEARCH ITEM SPAWNS"):WaitForChild("TNT") 
						end)
						
						if folderAda and tntFolder then
							print("--- Memulai Pengambilan TNT ---")
							
							for _, item in pairs(tntFolder:GetChildren()) do
								if not player.Character then break end
								rootPart = player.Character:WaitForChild("HumanoidRootPart")

								local targetCFrame = nil
								if item:IsA("Model") then
									targetCFrame = item:GetPivot()
								elseif item:IsA("BasePart") then
									targetCFrame = item.CFrame
								end

								if targetCFrame then
									rootPart.CFrame = targetCFrame
									task.wait(0.2) 

									local prompt = item:FindFirstChildWhichIsA("ProximityPrompt", true)
									if prompt then
										activatePrompt(prompt)
									end
									task.wait(0.5) 
								end
							end
						end

						print("--- Semua TNT Selesai! Menuju Pirate's Cove... ---")
						
						-------------------------------------------------------
						-- TAHAP 2: TELEPORT KE PIRATE'S COVE (FIXED PATH)
						-------------------------------------------------------
						-- Path sesuai request kamu:
						-- Wall -> Prompt (Part) -> ProximityPrompt
						local islands = Workspace:WaitForChild("Islands")
						local cove = islands:WaitForChild("Pirate's Cove")
						local wall = cove:WaitForChild("PirateCoveWall")
						local promptPart = wall:WaitForChild("Prompt") -- Kita teleport ke Part ini
						local finalPrompt = promptPart:WaitForChild("ProximityPrompt") -- Ini promptnya
						
						-- -- Cek karakter lagi
						if not player.Character then return end
						rootPart = player.Character:WaitForChild("HumanoidRootPart")
						
						if promptPart and finalPrompt then
							-- Teleport ke posisi Part "Prompt"
							rootPart.CFrame = promptPart.CFrame
							task.wait(0.3) -- Tunggu landing
							
							print("Mengaktifkan Prompt Terakhir...")
							activatePrompt(finalPrompt)
							print("SELESAI!")
						else
							warn("Path ke Prompt Pirate's Cove salah atau belum loading!")
						end
						task.wait(0.5)
						
						rootPart.CFrame = CFrame.new(3414.21558, 10.1964693, 3382.90698, 0.988952875, -3.56650638e-08, 0.148230448, 3.63117536e-08, 1, -1.65651781e-09, -0.148230448, 7.02072533e-09, 0.988952875)
						
					end
					

					LimitedEvent:AddButton({
						Title = "Open Pirate Cove Wall",
						Description = "Open Wall to Maze",
						Callback = function()
							local args = {
								"Carpenter",
								2,
								1
							}
							game:GetService("ReplicatedStorage"):WaitForChild("Packages"):WaitForChild("_Index"):WaitForChild("sleitnick_net@0.2.0"):WaitForChild("net"):WaitForChild("RE/DialogueEnded"):FireServer(unpack(args))
							task.wait(0.5)

							teleportAndInteract()
						end
					})

					local Replion = require(ReplicatedStorage.Packages.Replion)
					local Net = ReplicatedStorage.Packages._Index:WaitForChild("sleitnick_net@0.2.0"):WaitForChild("net")
					local EquipItemRemote = Net:FindFirstChild("RE/EquipItem")
					local HotbarRemote = Net:FindFirstChild("RE/EquipToolFromHotbar")
					local success, data = pcall(function() return Replion.Client:WaitReplion("Data", 5) end)

					local Presents = {}
					local FactoryThread = nil

					local function getPresentsID()
						local playerData = Replion.Client:WaitReplion("Data", 5)
						if not playerData then return {} end
								
						local inventory = playerData:GetExpect("Inventory")
						if not inventory or not inventory.Items then return {} end

						local processCount = 0
						Presents = {}

						for _, invItem in pairs(inventory.Items) do
							if invItem.Id == 996 or invItem.Id == 997 or invItem.Id == 998 or invItem.Id == 999 then
								processCount = processCount + 1
								table.insert(Presents, invItem.UUID)
							end
						end
						print("Found " .. processCount .. " Present to submit.")
					end

					local function EquipSpecificPresent(uuid)
							pcall(EquipItemRemote.FireServer, EquipItemRemote, uuid, "Gears")
							local assignedSlot = nil
							local startTime = tick()
							repeat
								local equipped = data:Get("EquippedItems")
								if equipped then
									for slot, id in pairs(equipped) do
										if id == uuid then assignedSlot = tonumber(slot) break end
									end
								end
								task.wait(0.1)
							until assignedSlot or (tick() - startTime > 3)
							
							if assignedSlot then
								pcall(HotbarRemote.FireServer, HotbarRemote, assignedSlot)
								task.wait(0.1)
								return true
							end
							return false
					end

					local function submitAllPresents()
							while true do
								getPresentsID()
								for _, uuid in pairs(Presents) do
									EquipSpecificPresent(uuid)
									task.wait(0.2)
									pcall(function()
										game:GetService("ReplicatedStorage").Packages._Index["sleitnick_net@0.2.0"].net["RF/RedeemGift"]:InvokeServer()
									end)
									task.wait(0.1)
								end
								task.wait(0.2)
							end
						
					end

					LimitedEvent:AddToggle("AutoSanta", {
						Title = "Auto Present Factory",
						Description = "Otomatis Submit semua present ke Santa",
						Default = false,
						Callback = function(Value)
							if Value then
								FactoryThread = task.spawn(function()
									submitAllPresents()
								end)
								Fluent:Notify({
									Title = "Auto Santa",
									Content = "Auto Santa Present Factory diaktifkan.",
									Duration = 3
								})
							else
								if FactoryThread then
									task.cancel(FactoryThread)
									FactoryThread = nil
								end
								Fluent:Notify({
									Title = "Auto Santa",
									Content = "Auto Santa Present Factory dimatikan.",
									Duration = 3
								})
							end
						end
					})


					----------------------------------------------------
					-- üéØ TELEPORT TO EVENT SECTION
					----------------------------------------------------
					local EventSection = Event:AddSection("Event Teleport")
					
					EventSection:AddParagraph({
						Title = "Event Teleport System",
						Content = "Teleport otomatis ke lokasi event seperti Megalodon Hunt, Shark Hunt, dan lainnya."
					})
					
					-- Variables
					local selectedEvent = "Megalodon Hunt"
					local teleportEnabled = false
					local bodyVelocity = nil
					local lastPosition = nil
					local autoEventThread = nil
					
					-- Function untuk cari lokasi event
					local function findEventLocation(eventName)
						if not workspace then return nil end
						
						if eventName == "Megalodon Hunt" then
							for _, child in pairs(workspace:GetChildren()) do
								local megalodon = child:FindFirstChild("Megalodon Hunt")
								if megalodon and megalodon:IsA("Model") then
									return megalodon.PrimaryPart or megalodon:FindFirstChildWhichIsA("BasePart")
								end
							end
						
						elseif eventName == "Ghost Shark Hunt" then
							for _, child in pairs(workspace:GetChildren()) do
								local ghostShark = child:FindFirstChild("Ghost Shark Hunt")
								if ghostShark and ghostShark:IsA("Model") then
									return ghostShark.PrimaryPart or ghostShark:FindFirstChildWhichIsA("BasePart")
								end
							end
						
						elseif eventName == "Shark Hunt" then
							for _, child in pairs(workspace:GetChildren()) do
								local shark = child:FindFirstChild("Shark Hunt")
								if shark and shark:IsA("Model") then
									return shark.PrimaryPart or shark:FindFirstChildWhichIsA("BasePart")
								end
							end
						
						elseif eventName == "Worm Fish" then
							for _, child in pairs(workspace:GetChildren()) do
								local model = child:FindFirstChild("Model")
								if model and model:IsA("Model") then
									local children = model:GetChildren()
									if #children >= 3 then
										local thirdChild = children[3]
										if thirdChild and thirdChild:IsA("BasePart") then
											return thirdChild
										end
									end
								end
							end
						end
						
						return nil
					end
					
					-- Function freeze position
					local function freezePosition(position)
						local char = player.Character
						if not char then return end
						
						local rootPart = char:FindFirstChild("HumanoidRootPart")
						if not rootPart then return end
						if bodyVelocity then
							bodyVelocity:Destroy()
							bodyVelocity = nil
						end
						bodyVelocity = Instance.new("BodyVelocity")
						bodyVelocity.Velocity = Vector3.new(0, 0, 0)
						bodyVelocity.MaxForce = Vector3.new(40000, 40000, 40000)
						bodyVelocity.P = 10000
						bodyVelocity.Parent = rootPart
						rootPart.CFrame = CFrame.new(position)
					end
					
					-- Function unfreeze
					local function unfreezePosition()
						if bodyVelocity then
							bodyVelocity:Destroy()
							bodyVelocity = nil
						end
					end
					
					-- Function save position
					local function saveCurrentPosition()
						local char = player.Character
						if not char then return end
						local rootPart = char:FindFirstChild("HumanoidRootPart")
						if not rootPart then return end
						lastPosition = rootPart.CFrame
					end
					-- Function balik ke posisi awal
					local function returnToLastPosition()
						if not lastPosition then return end
						unfreezePosition()
						local char = player.Character
						if not char then return end
						local rootPart = char:FindFirstChild("HumanoidRootPart")
						if not rootPart then return end
						rootPart.CFrame = lastPosition
					end
					
					-- Function teleport ke event
					local function teleportToEvent(EventName)
						local onLocation = false
						saveCurrentPosition()
						task.wait(0.5)
						while teleportEnabled do
							local eventPart = findEventLocation(EventName)
							if eventPart then 
								if not onLocation then
									local char = player.Character
									if not char then return false end
									local rootPart = char:FindFirstChild("HumanoidRootPart")
									if not rootPart then return false end
									
									-- Random offset biar ga stuck
									local randomX = eventPart.Position.X + math.random(-10, 10)
									local randomZ = eventPart.Position.Z + math.random(-10, 10)
									local yOffset = eventPart.Position.Y + 50
									
									local targetPosition = Vector3.new(randomX, yOffset, randomZ)
										pcall(function()
											freezePosition(targetPosition)
										end)
									onLocation = true
								end
							else
								if onLocation then
									returnToLastPosition()
									onLocation = false
								end
							end
							task.wait(1)
						end
					end
					
					
					-- Dropdown pilih event
					EventSection:AddDropdown("EventSelect", {
						Title = "Select Event",
						Values = {"Megalodon Hunt", "Ghost Shark Hunt", "Shark Hunt", "Worm Fish"},
						Default = selectedEvent,
						Multi = false,
						Callback = function(Value)
							selectedEvent = Value
							Fluent:Notify({
								Title = "Event Selected",
								Content = "You chose: " .. Value,
								Duration = 2
							})
						end
					})
					
					-- Toggle teleport & freeze
					EventSection:AddToggle("EventTeleport", {
						Title = "Teleport to Event",
						Description = "Auto teleport & freeze di lokasi event",
						Default = false,
						Callback = function(Value)
							teleportEnabled = Value
							
							if Value then
										task.spawn(function()
											teleportToEvent(selectedEvent)
											
										end)
									Fluent:Notify({
										Title = "Event Teleport",
										Content = "Teleported to " .. selectedEvent .. " ",
										Duration = 3
									})
							else
								returnToLastPosition()
								Fluent:Notify({
									Title = "Event Teleport",
									Content = "Returned to last position",
									Duration = 2
								})
							end
						end
					})

					-- Cek apakah folder "Props" ada dulu
					local hacker = nil

					-- Cek satu per satu semua barang di Workspace
					

					local function teleportToHacker()
						for _, item in pairs(workspace:GetChildren()) do
							-- Jika namanya "Props"
							if item.Name == "Props" then
								-- Coba cari Black Hole di dalam folder Props yang ini
								local possibleTarget = item:FindFirstChild("Black Hole")
								
								if possibleTarget then
									hacker = possibleTarget
									break -- Berhenti mencari kalau sudah ketemu
								end
							end
						end
						if hacker then
							local hackerPivot = hacker:GetPivot()
							
								local targetCFrame = hackerPivot + Vector3.new(0, -130, 0) -- Teleport slightly above the Hacker
								local char = game.Players.LocalPlayer.Character
								
								if char and char:FindFirstChild("HumanoidRootPart") then
									char.HumanoidRootPart.CFrame = targetCFrame
								else
									warn("Character or HumanoidRootPart not found.")
								end
						else
							warn("Hacker Event not found")
						end
					end

					EventSection:AddToggle("EventTeleportHacker", {
						Title = "Teleport to Hacker Event ",
						Description = "Auto teleport & freeze di lokasi event",
						Default = false,
						Callback = function(Value)
							teleportEnabled = Value
							
							if Value then
								lastPosition = game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame
									hackerThread = task.spawn(function()
										while true do
											teleportToHacker()
											local pos = game.Players.LocalPlayer.Character.HumanoidRootPart.Position
											freezePosition(pos)
											task.wait(100)
										end
									end)
									Fluent:Notify({
										Title = "Event Teleport",
										Content = "Teleported to Hacker Event ",
										Duration = 3
									})
							else
								if hackerThread then
									task.cancel(hackerThread)
									hackerThread = nil
								end
								returnToLastPosition()
								Fluent:Notify({
									Title = "Event Teleport",
									Content = "Returned to last position",
									Duration = 2
								})
							end
						end
					})


					local AdminEvent = Event:AddSection("Admin Event Teleport")

					local AncientThread = nil
					local inAncient = false

					local function teleLocation(val)
						local Cframe = game.Players.LocalPlayer.Character.HumanoidRootPart
						Cframe.CFrame = val
					end

					local function startAncient()
						AncientThread = task.spawn(function()
							local oldLocation = game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame
							local possibleLocations = {
								CFrame.new(6004.65723, -585.924683, 4668.50098, 0.133287504, 1.14295382e-08, -0.991077423, -1.43028247e-08, 1, 9.60888702e-09, 0.991077423, 1.28944615e-08, 0.133287504),
								CFrame.new(6032.07861, -585.924194, 4621.81104, -0.485085577, 5.42905418e-08, -0.874466658, 2.6711453e-09, 1, 6.06024315e-08, 0.874466658, 2.70615388e-08, -0.485085577),
								CFrame.new(6097.37549, -585.924683, 4670.46924, -0.0517133214, 1.92589189e-09, 0.998661995, 8.37135019e-08, 1, 2.40643105e-09, -0.998661995, 8.37259364e-08, -0.0517133214),
								CFrame.new(6048.59082, -585.924683, 4714.64258, 0.999989688, -7.29190006e-08, -0.00454619853, 7.31706464e-08, 1, 5.51861596e-08, 0.00454619853, -5.55182389e-08, 0.999989688),
								CFrame.new(6071.62695, -585.924194, 4711.09277, 0.784384608, -1.03745997e-07, 0.620274782, 9.13267968e-08, 1, 5.17684455e-08, -0.620274782, 1.60413389e-08, 0.784384608),
								CFrame.new(6082.60889, -585.924194, 4700.89893, 0.7194435, 1.01807021e-10, 0.694550991, -8.44169012e-10, 1, 7.27844174e-10, -0.694550991, -1.10996123e-09, 0.7194435),
							}

							local location = possibleLocations[math.random(1, #possibleLocations)]
							local teleOldLocation = true
							local teleSpot = true
							while true do
								local text = workspace["!!! DEPENDENCIES"]["Event Tracker"].Main.Gui.Content.Items.Countdown.Header.Text

								if text ~= "STARTS IN:" then
									teleOldLocation = true
									inAncient = true
									teleLocation(location)
								else
									if teleOldLocation then
										teleLocation(oldLocation)
										location = possibleLocations[math.random(1, #possibleLocations)]
									else
										inAncient = false
										oldLocation = game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame
									end
									if oldLocation == game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame then
										teleOldLocation = false
									end
								end

								task.wait(1)
							end
						end)
					end

					-- 1. Info: Countdown Timer (Disimpan ke Global _G supaya bisa diakses Logic)
					_G.AncientTimerUI = AdminEvent:AddParagraph({
						Title = "Countdown Ancient Lochness",
						Content = "Waiting for data..."
					})

					task.spawn(function()
						while workspace["!!! DEPENDENCIES"]["Event Tracker"].Main.Gui.Content.Items.Countdown.Header.Text == "STARTS IN:" do
							local timerText = workspace["!!! DEPENDENCIES"]["Event Tracker"].Main.Gui.Content.Items.Countdown.Label.Text
							_G.AncientTimerUI:SetDesc(timerText)
							task.wait(1)
						end
					end)
					

					AdminEvent:AddToggle("AncientEventTeleport", {
						Title = "Auto Ancient Ruin Event",
						Description = "Auto teleport & freeze di lokasi event",
						Default = false,
						Callback = function(Value)
							if Value then
								startAncient()
								Fluent:Notify({
									Title = "Ancient Event Teleport",
									Content = "Auto Teleport Started",
									Duration = 3
								})
							else
								if AncientThread then
									task.cancel(AncientThread)
									AncientThread = nil
								end
								Fluent:Notify({
									Title = "Ancient Event Teleport",
									Content = "Auto Teleport Stopped",
									Duration = 2
								})
							end
						end
					})

					
				end
								
				----------------------------------------------------
				-- üß≠ TELEPORT TAB
				----------------------------------------------------
				local function LoadTeleportTab()
					local TeleportSection = Teleport:AddSection("Map Teleport")
					
					Teleport:AddParagraph({
						Title = "Map Teleport System",
						Content = "Pilih map dari daftar lalu tekan tombol teleport untuk berpindah lokasi dengan cepat."
					})
					
					local teleportLocations = {
						["Fisherman Island"] = CFrame.new(-19.0017929, 9.53157043, 2732.60181, -0.0352761336, -3.61086094e-08, -0.999377608, -2.01366319e-08, 1, -3.54203138e-08, 0.999377608, 1.88746085e-08, -0.0352761336),
						["Mutation Cellar"] = CFrame.new(-1740.15625, -222.600388, 23891.416, -0.998281837, 2.1648729e-08, 0.0585951991, 2.42207214e-08, 1, 4.31840519e-08, -0.0585951991, 4.45290702e-08, -0.998281837),

						["Ocean"] = CFrame.new(-2568.91602, 5.07336473, -24.0376396, 0.91680795, -5.10048679e-08, 0.399328381, 5.86647246e-08, 1, -6.96024083e-09, -0.399328381, 2.98076941e-08, 0.91680795),

						["Kohana"] = CFrame.new(-660.617859, 17.2500591, 445.005219, 0.9180637, -3.14757065e-09, -0.396432847, 3.88805299e-09, 1, 1.06426568e-09, 0.396432847, -2.5184157e-09, 0.9180637),
						["Kohana Volcano"] = CFrame.new(-648.820435, 45.7505226, 170.849945, -0.935509741, -1.00212056e-07, 0.353300929, -1.08844581e-07, 1, -4.56581351e-09, -0.353300929, -4.27262528e-08, -0.935509741),
						["Coral Reefs"] = CFrame.new(-3134.85864, 2.5223031, 2125.54834, 0.967351139, -1.38672562e-09, -0.253439784, 1.02411923e-09, 1, -1.56266977e-09, 0.253439784, 1.25209787e-09, 0.967351139),
						["Esoteric Depths"] = CFrame.new(3206.66699, -1302.85486, 1407.66113, 0.908898294, -1.34311762e-08, 0.417017847, 1.19861285e-08, 1, 6.083682e-09, -0.417017847, -5.31018729e-10, 0.908898294),
						["Tropical Grove"] = CFrame.new(-2054.01685, 8.94509411, 3779.87598, -0.954718888, 8.71190693e-08, -0.297509342, 1.05758183e-07, 1, -4.65540388e-08, 0.297509342, -7.59100658e-08, -0.954718888),
						["Crater Island"] = CFrame.new(1015.52441, 15.115386, 5095.62354, -0.842012942, -8.16573547e-08, -0.539457262, -6.12899527e-08, 1, -5.57049127e-08, 0.539457262, -1.38409488e-08, -0.842012942),

						["Treasure Room"] = CFrame.new(-3599.48389, -275.930573, -1641.12915, -0.685956001, -2.82569107e-10, 0.727643073, -7.25913427e-11, 1, 3.19902244e-10, -0.727643073, 1.66618261e-10, -0.685956001),
						["Sisyphus Statue"] = CFrame.new(-3738.53467, -135.074417, -1010.8125, -0.954710007, -9.24383983e-08, -0.297537863, -8.27598186e-08, 1, -4.51262636e-08, 0.297537863, -1.84583158e-08, -0.954710007),

						["Ancient Jungle"] = CFrame.new(1254.00476, 7.96969652, -139.38736, -0.459566921, -6.28576942e-08, -0.888143122, 6.11499402e-08, 1, -1.02416131e-07, 0.888143122, -1.01376962e-07, -0.459566921),
						["Sacred Temple"] = CFrame.new(1451.0658, -22.1250019, -621.831665, -0.997171223, 1.81691444e-08, -0.0751633719, 1.58678972e-08, 1, 3.12137871e-08, 0.0751633719, 2.99328065e-08, -0.997171223),
						["Underground Cellar"] = CFrame.new(2136, -91.1985855, -699, 1, -2.24829622e-09, 1.09289774e-13, 2.24829622e-09, 1, -1.95930583e-09, -1.0928537e-13, 1.95930583e-09, 1),
						["Ancient Ruin"] = CFrame.new(6050.4624, -585.924683, 4715.26318, 0.999985874, -4.5125339e-09, 0.00531187141, 4.82149698e-09, 1, -5.81518833e-08, -0.00531187141, 5.81766741e-08, 0.999985874),

						["Weather Mechine"] = CFrame.new(-1505.14, 6.50, 1890.95),
						["Crystalline Passage"] = CFrame.new(6050.52, -538.90, 4389.68),

						["Pirate Cove"] = CFrame.new(3477.37891, 4.19247055, 3452.10303, -0.369203985, 5.48845769e-08, 0.929348409, 5.64960523e-08, 1, -3.66127608e-08, -0.929348409, 3.89869363e-08, -0.369203985),
						["Pirate Treasure Room"] = CFrame.new(3308.84912, -302.666199, 3028.85645, -0.87163955, -4.71915342e-08, -0.490147382, 6.77743062e-09, 1, -1.08332742e-07, 0.490147382, -9.77490444e-08, -0.87163955),
						["Secret Passage"] = CFrame.new(3446.78442, -287.844818, 3399.77393, -0.934207439, 3.25567413e-08, -0.356730253, 3.83170709e-12, 1, 9.12542717e-08, 0.356730253, 8.52490558e-08, -0.934207439),
						["Crystal Depths"] = CFrame.new(5808.42529, -899.366394, 15353.1709, -0.997745156, 3.95877414e-10, 0.0671164095, 4.13268725e-10, 1, 2.45237053e-10, -0.0671164095, 2.72421197e-10, -0.997745156),

						["Leviathan Den"] = CFrame.new(3473.8938, -287.84317, 3474.09253, -0.9540658, -7.05655339e-08, -0.299597085, -3.95649451e-08, 1, -1.09540359e-07, 0.299597085, -9.26551706e-08, -0.9540658),
						
					}
					
					local selectedMap = "Fisherman Island"
					
					local mapNames = {}
					for k, _ in pairs(teleportLocations) do
						table.insert(mapNames, k)
					end
					table.sort(mapNames)
					
					Teleport:AddDropdown("MapSelect", {
						Title = "Select Map",
						Values = mapNames,
						Default = selectedMap,
						Multi = false,
						Callback = function(Value)
							selectedMap = Value
							Fluent:Notify({
								Title = "Map Selected",
								Content = "You chose: " .. Value,
								Duration = 2
							})
						end
					})
					
					Teleport:AddButton({
						Title = "Teleport",
						Description = "Teleport ke map terpilih",
						Callback = function()
							local loc = teleportLocations[selectedMap]
							if loc then
								task.spawn(function()
									task.wait(1)
									local char = player.Character
									if char and char:FindFirstChild("HumanoidRootPart") then
										char.HumanoidRootPart.CFrame = loc
										print("[Teleport] Moved to:", selectedMap)
										Fluent:Notify({
											Title = "Teleported!",
											Content = "You are now at " .. selectedMap,
											Duration = 3
										})
									else
										Fluent:Notify({
											Title = "Teleport",
											Content = "Unable to teleport (character not ready).",
											Duration = 3
										})
									end
								end)
							end
						end
					})
					
					
					
					----------------------------------------------------
					-- üë• TELEPORT TO PLAYER SECTION
					----------------------------------------------------
					local PlayerTeleportSection = Teleport:AddSection("Teleport to Player")
					
					Teleport:AddParagraph({
						Title = "Player Teleport System",
						Content = "Pilih player dari daftar lalu tekan tombol teleport untuk berpindah ke lokasi player tersebut."
					})
					
					local player = Players.LocalPlayer
					local PlayerDropdown = nil
					local selectedPlayerName = ""
					local playerList = {}
					local tpLoopThread -- Variabel untuk menyimpan thread loop

					-- Fungsi update list (Tetap sama seperti kode Anda)
					local function updatePlayerList()
						playerList = {}
						for _, plr in pairs(Players:GetPlayers()) do
							if plr ~= player then
								table.insert(playerList, plr.Name)
							end
						end
						table.sort(playerList)
						if #playerList == 0 then
							table.insert(playerList, "No other players")
						end

						if PlayerDropdown then
							PlayerDropdown:SetValues(playerList)
							local isCurrentSelectionInvalid = not table.find(playerList, selectedPlayerName)
							local isPlaceholderSelected = (selectedPlayerName == "No other players" or selectedPlayerName == "No players" or selectedPlayerName == "")
							
							if isCurrentSelectionInvalid or (isPlaceholderSelected and playerList[1] ~= "No other players") then
								selectedPlayerName = playerList[1]
								PlayerDropdown:SetValue(selectedPlayerName)
							end
						else
							if #playerList > 0 then
								selectedPlayerName = playerList[1]
							end
						end
					end

					updatePlayerList()
					Players.PlayerAdded:Connect(updatePlayerList)
					Players.PlayerRemoving:Connect(updatePlayerList)

					-- [UI] Dropdown Select Player
					PlayerDropdown = Teleport:AddDropdown("PlayerSelect", {
						Title = "Select Player",
						Values = playerList,
						Default = selectedPlayerName,
						Multi = false,
						Callback = function(Value)
							selectedPlayerName = Value
						end
					})

					-- [UI] Toggle Teleport Loop (Tempel Player)
					Teleport:AddToggle("TPLoopToggle", {
						Title = "Stick to Player (Loop TP)",
						Description = "Teleport otomatis ke player setiap detik",
						Default = false,
						Callback = function(Value)
							if Value then
								tpLoopThread = task.spawn(function()
									while true do
										if selectedPlayerName ~= "" and selectedPlayerName ~= "No other players" then
											local targetPlayer = Players:FindFirstChild(selectedPlayerName)
											if targetPlayer and targetPlayer.Character then
												local targetHrp = targetPlayer.Character:FindFirstChild("HumanoidRootPart")
												local myChar = player.Character
												local myHrp = myChar and myChar:FindFirstChild("HumanoidRootPart")

												if targetHrp and myHrp then
													-- Teleport tepat di posisi target (bisa ditambah offset jika mau)
													myHrp.CFrame = targetHrp.CFrame
												end
											end
										end
										task.wait(1) -- Jeda 1 detik sesuai permintaan
									end
								end)
								Fluent:Notify({ Title = "TP Loop", Content = "Enabled - Sticking to " .. selectedPlayerName, Duration = 3 })
							else
								if tpLoopThread then 
									task.cancel(tpLoopThread) 
									tpLoopThread = nil
								end
								Fluent:Notify({ Title = "TP Loop", Content = "Disabled", Duration = 3 })
							end
						end
					})

					-- [UI] Button Refresh & Teleport Sekali (Sesuai kode asli Anda)
					Teleport:AddButton({
						Title = "Refresh Player List",
						Callback = function() updatePlayerList() end
					})

					Teleport:AddButton({
						Title = "Instant Teleport",
						Description = "Teleport sekali saja",
						Callback = function()
							local targetPlayer = Players:FindFirstChild(selectedPlayerName)
							if targetPlayer and targetPlayer.Character and targetPlayer.Character:FindFirstChild("HumanoidRootPart") then
								player.Character.HumanoidRootPart.CFrame = targetPlayer.Character.HumanoidRootPart.CFrame
							end
						end
					})
				end
				
				
				----------------------------------------------------
				-- ‚ö†Ô∏è VULN TAB - HIDE AVATAR BUTTON
				----------------------------------------------------
				local function LoadVulnTab()
					local PingSection = Vuln:AddSection("Performance Stats")

					-- Services
					local Stats = game:GetService("Stats")
					local RunService = game:GetService("RunService")
					local CoreGui = game:GetService("CoreGui")

					-- Mencegah duplikasi GUI
					if CoreGui:FindFirstChild("RealStatsGUI") then
						CoreGui.RealStatsGUI:Destroy()
					end

					-- Membuat GUI
					local ScreenGui = Instance.new("ScreenGui")
					ScreenGui.Name = "RealStatsGUI"
					ScreenGui.Parent = CoreGui
					ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
					ScreenGui.Enabled = false 

					-- Frame Utama
					local Frame = Instance.new("Frame")
					Frame.Name = "MainFrame"
					Frame.Parent = ScreenGui
					Frame.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
					Frame.BackgroundTransparency = 0.2
					Frame.BorderSizePixel = 0
					-- Posisi di pojok kanan atas, ukuran disesuaikan agar muat 3 baris
					Frame.Position = UDim2.new(0.85, -20, 0, 20) 
					Frame.Size = UDim2.new(0, 140, 0, 80) -- Lebar 140, Tinggi 80
					Frame.Active = true
					Frame.Draggable = true

					-- Hiasan Sudut Melengkung
					local UICorner = Instance.new("UICorner")
					UICorner.CornerRadius = UDim.new(0, 8)
					UICorner.Parent = Frame

					-- Layout List (Agar teks otomatis rapi ke bawah)
					local UIListLayout = Instance.new("UIListLayout")
					UIListLayout.Parent = Frame
					UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder
					UIListLayout.Padding = UDim.new(0, 2)
					UIListLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
					UIListLayout.VerticalAlignment = Enum.VerticalAlignment.Center

					-- Fungsi Membuat Label (Helper)
					local function CreateLabel(name, defaultText)
						local Label = Instance.new("TextLabel")
						Label.Name = name
						Label.Parent = Frame
						Label.BackgroundTransparency = 1
						Label.Size = UDim2.new(1, 0, 0, 20) -- Tinggi per baris 20 pixel
						Label.Font = Enum.Font.GothamBold
						Label.Text = defaultText
						Label.TextColor3 = Color3.fromRGB(255, 255, 255)
						Label.TextSize = 14
						return Label
					end

					local PingLabel = CreateLabel("PingLabel", "Ping: 0 ms")
					local FpsLabel = CreateLabel("FpsLabel", "FPS: 0")
					local CpuLabel = CreateLabel("CpuLabel", "CPU: 0 ms")

					-- Variabel Loop
					local statsConnection = nil

					-- ==========================================
					-- LOGIC BARU (UPDATE PER DETIK / 1 SECOND)
					-- ==========================================

					-- Variabel Penampung Data (Akumulator)
					local FrameCount = 0
					local TimeElapsed = 0

					local function UpdateDisplay(fps, cpuMs)
						-- 1. PING (Snapshot saat ini)
						local pingInt = 0
						pcall(function()
							local pingValue = Stats.Network.ServerStatsItem["Data Ping"]:GetValue()
							pingInt = math.floor(pingValue)
						end)

						PingLabel.Text = "Ping: " .. pingInt .. " ms"
						
						-- Warna Ping
						if pingInt < 100 then PingLabel.TextColor3 = Color3.fromRGB(85, 255, 127)
						elseif pingInt < 200 then PingLabel.TextColor3 = Color3.fromRGB(255, 255, 127)
						else PingLabel.TextColor3 = Color3.fromRGB(255, 85, 85) end

						-- 2. FPS (Rata-rata dalam 1 detik)
						FpsLabel.Text = "FPS: " .. fps
						
						-- Warna FPS
						if fps >= 50 then FpsLabel.TextColor3 = Color3.fromRGB(85, 255, 127)
						elseif fps >= 30 then FpsLabel.TextColor3 = Color3.fromRGB(255, 255, 127)
						else FpsLabel.TextColor3 = Color3.fromRGB(255, 85, 85) end

						-- 3. CPU / Frame Time (Rata-rata dalam 1 detik)
						local cpuStr = string.format("%.1f", cpuMs)
						CpuLabel.Text = "CPU: " .. cpuStr .. " ms"
						
						-- Warna CPU
						if cpuMs < 16 then CpuLabel.TextColor3 = Color3.fromRGB(85, 255, 127)
						elseif cpuMs < 33 then CpuLabel.TextColor3 = Color3.fromRGB(255, 255, 127)
						else CpuLabel.TextColor3 = Color3.fromRGB(255, 85, 85) end
					end

					local function GameLoop(deltaTime)
						-- Tambahkan frame dan waktu
						FrameCount = FrameCount + 1
						TimeElapsed = TimeElapsed + deltaTime

						-- Cek apakah sudah 1 detik berlalu?
						if TimeElapsed >= 1 then
							-- Hitung Rata-Rata FPS
							local fpsAverage = math.floor(FrameCount / TimeElapsed)
							
							-- Hitung Rata-Rata CPU (Frame Time dalam ms)
							-- (Waktu total dibagi jumlah frame) * 1000
							local cpuAverage = (TimeElapsed / FrameCount) * 1000
							
							-- Update Teks ke Layar
							UpdateDisplay(fpsAverage, cpuAverage)
							
							-- Reset Penghitung untuk detik berikutnya
							FrameCount = 0
							TimeElapsed = 0
						end
					end

					local function StartStatsMonitor()
						if statsConnection then return end
						ScreenGui.Enabled = true
						
						-- Reset variabel biar tidak loncat saat baru nyala
						FrameCount = 0
						TimeElapsed = 0
						
						-- Tetap gunakan RenderStepped untuk menghitung frame di latar belakang,
						-- tapi UpdateDisplay hanya dipanggil di dalam if TimeElapsed >= 1
						statsConnection = RunService.RenderStepped:Connect(GameLoop)
					end

					local function StopStatsMonitor()
						ScreenGui.Enabled = false
						if statsConnection then
							statsConnection:Disconnect()
							statsConnection = nil 
						end
					end

					-- TOGGLE DI UI LIBRARY
					PingSection:AddToggle("RealStatsToggle", {
						Title = "Show Performance Stats",
						Description = "Display Real Ping, FPS, and CPU Usage",
						Default = false,
						Callback = function(Value)
							if Value then
								StartStatsMonitor()
								Fluent:Notify({
									Title = "Stats Enabled",
									Content = "Monitoring Ping, FPS, CPU",
									Duration = 2
								})
							else
								StopStatsMonitor()
								Fluent:Notify({
									Title = "Stats Disabled",
									Content = "Performance monitor hidden",
									Duration = 2
								})
							end
						end
					})

					
					local GiftSection = Vuln:AddSection("Gift Panel")
					local GiftingController = require(ReplicatedStorage:WaitForChild("Controllers"):WaitForChild("GiftingController"))

					local GiftItem = "Frozen Krampus Scythe"

					local function openGift()
						if not GiftingController then
							return
						end


						-- Open gifting GUI untuk Soul Scythe
						GiftingController:Open(GiftItem)

						task.wait(1)

						-- Set target ke diri sendiri atau player lain
						local Players = game:GetService("Players")
						local localPlayer = Players.LocalPlayer

						-- Coba gift ke diri sendiri dulu
						local success, result = pcall(function()
							GiftingController:SetTarget(localPlayer.UserId, GiftItem)
						end)

						if success then
							print("‚úÖ Target set! Purchase prompt should open...")
						else
							
							for _, player in ipairs(Players:GetPlayers()) do
								if player ~= localPlayer then
									print("  -", player.DisplayName, "| UserId:", player.UserId)
								end
							end
						end
					end

					GiftSection:AddDropdown("GiftSelect", {
						Title = "Select Gift",
						Values = {"X2 Luck", "X4 Luck", "X8 Luck", "Frozen Krampus Scythe"},
						Default = "Frozen Krampus Scythe",
						Multi = false,
						Callback = function(Value)
							GiftItem = Value
						end
					})

					GiftSection:AddButton({
						Title = "Open Gift GUI",
						Description = "Open Gifting view",
						Callback = function()
							openGift()
						end
					})
					

					local VulnSection = Vuln:AddSection("Avatar Tools")
					
					Vuln:AddButton({
						Title = "Hide Avatar (Bacon Mode)",
						Description = "Remove avatar accessories & change display to iSylHub Premium",
						Callback = function()
							local LocalPlayer = player
					
							-- Settings
							local CUSTOM_USERNAME = "iSylHub Premium"
							local BACON_MODE = true -- Set to bacon avatar
					
							print("=== AVATAR REMOVER SCRIPT ===")
							print("Loading bacon avatar...")
							print("Setting username to:", CUSTOM_USERNAME)
							print("=============================")
					
							-- Function to remove all accessories and body parts
							local function removeAvatar(character)
								if not character then return end
								
								-- Remove all accessories (hats, hair, face, etc)
								for _, accessory in pairs(character:GetChildren()) do
									if accessory:IsA("Accessory") or accessory:IsA("Hat") then
										accessory:Destroy()
									end
								end
								
								-- Remove shirts, pants, and graphic t-shirts
								for _, clothing in pairs(character:GetChildren()) do
									if clothing:IsA("Shirt") or clothing:IsA("Pants") or clothing:IsA("ShirtGraphic") then
										clothing:Destroy()
									end
								end
								
								-- Set body colors to bacon (yellow/tan color)
								local bodyColors = character:FindFirstChildOfClass("BodyColors")
								if bodyColors then
									bodyColors.HeadColor3 = Color3.fromRGB(226, 220, 188)
									bodyColors.TorsoColor3 = Color3.fromRGB(226, 220, 188)
									bodyColors.LeftArmColor3 = Color3.fromRGB(226, 220, 188)
									bodyColors.RightArmColor3 = Color3.fromRGB(226, 220, 188)
									bodyColors.LeftLegColor3 = Color3.fromRGB(226, 220, 188)
									bodyColors.RightLegColor3 = Color3.fromRGB(226, 220, 188)
								end
								
								-- Remove face decal
								local head = character:FindFirstChild("Head")
								if head then
									for _, decal in pairs(head:GetChildren()) do
										if decal:IsA("Decal") and decal.Name == "face" then
											decal.Texture = "rbxasset://textures/face.png" -- Default smile face
										end
									end
								end
								
								print("‚úÖ Avatar removed successfully!")
							end
					
							-- Function to change username display
							local function changeUsername()
								local character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
								local humanoid = character:WaitForChild("Humanoid")
								
								humanoid.DisplayDistanceType = Enum.HumanoidDisplayDistanceType.None
								humanoid.HealthDisplayType = Enum.HumanoidHealthDisplayType.AlwaysOff
								humanoid.NameDisplayDistance = 0
								humanoid.HealthDisplayDistance = 0
								
								humanoid.DisplayName = CUSTOM_USERNAME
								
								local head = character:WaitForChild("Head")
								
								for _, gui in pairs(head:GetChildren()) do
									if gui:IsA("BillboardGui") then
										gui:Destroy()
									end
								end
								
								for _, gui in pairs(character:GetChildren()) do
									if gui:IsA("BillboardGui") then
										gui:Destroy()
									end
								end
								
								local function hideGameNametags()
									for _, descendant in pairs(character:GetDescendants()) do
										if descendant:IsA("BillboardGui") or descendant:IsA("SurfaceGui") then
											for _, child in pairs(descendant:GetDescendants()) do
												if child:IsA("TextLabel") or child:IsA("TextButton") then
													local text = child.Text
													if text:find(LocalPlayer.Name) or text:find("Lvl") or text:find("Level") then
														descendant.Enabled = false
														descendant:Destroy()
													end
												end
											end
										end
									end
								end
								
								hideGameNametags()
								
								local billboardGui = Instance.new("BillboardGui")
								billboardGui.Name = "CustomNametag"
								billboardGui.Adornee = head
								billboardGui.Size = UDim2.new(0, 200, 0, 50)
								billboardGui.StudsOffset = Vector3.new(0, 2.5, 0)
								billboardGui.AlwaysOnTop = true
								billboardGui.Parent = head
								
								local textLabel = Instance.new("TextLabel")
								textLabel.Size = UDim2.new(1, 0, 1, 0)
								textLabel.BackgroundTransparency = 1
								textLabel.Text = CUSTOM_USERNAME
								textLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
								textLabel.TextStrokeTransparency = 0.5
								textLabel.TextScaled = true
								textLabel.Font = Enum.Font.SourceSansBold
								textLabel.Parent = billboardGui
								
								print("‚úÖ Username changed to:", CUSTOM_USERNAME)
								print("‚úÖ Default username hidden!")
								print("‚úÖ Game nametag hidden!")
							end
					
							local function applyChanges()
								local character = LocalPlayer.Character
								if character then
									removeAvatar(character)
									changeUsername()
								end
							end
					
							LocalPlayer.CharacterAdded:Connect(function(character)
								character:WaitForChild("Humanoid")
								task.wait(0.5)
								removeAvatar(character)
								changeUsername()
							end)
					
							if LocalPlayer.Character then
								applyChanges()
							end
					
							task.spawn(function()
								while task.wait(1) do
									if LocalPlayer.Character then
										for _, accessory in pairs(LocalPlayer.Character:GetChildren()) do
											if accessory:IsA("Accessory") or accessory:IsA("Hat") then
												accessory:Destroy()
											end
										end
									end
								end
							end)
					
							print("Script loaded! You are now a bacon with custom username!")
							print("Note: Other players will still see your original username in chat")
					
							Fluent:Notify({
								Title = "Avatar Hidden",
								Content = "Avatar removed and custom name applied",
								Duration = 3
							})
						end
					})
					
					
					----------------------------------------------------
					-- üîç VULN: BYPASS RADAR (Toggle)
					----------------------------------------------------
					local BypassRadarSection = Vuln:AddSection("Bypass Radar")
					
					local radarBypassEnabled = false
					
					Vuln:AddToggle("BypassRadarToggle", {
						Title = "Bypass Radar",
						Description = "Aktifkan untuk mem-bypass radar sistem mancing",
						Default = false,
						Callback = function(Value)
							radarBypassEnabled = Value
							if Value then
								pcall(function()
									local args = { [1] = true }
									game:GetService("ReplicatedStorage")
										.Packages._Index["sleitnick_net@0.2.0"].net["RF/UpdateFishingRadar"]:InvokeServer(unpack(args))
								end)
								Fluent:Notify({
									Title = "Bypass Radar",
									Content = "Radar bypass diaktifkan",
									Duration = 3
								})
							else
								Fluent:Notify({
									Title = "Bypass Radar",
									Content = "Radar bypass dimatikan",
									Duration = 3
								})
							end
						end
					})
				end
				
				
				----------------------------------------------------
				-- ‚öôÔ∏è PERFORMANCE TAB - EXTREME LOW GRAPHICS V2
				----------------------------------------------------
				local function LoadPerformanceTab()
					local PerformanceSection = PerformanceTab:AddSection("Extreme Low Graphics")
					
					local boosterEnabled = false

					---------------------------------------------------
					-- Disable GPU
					---------------------------------------------------

					local RunService = game:GetService("RunService")
					local Workspace = game:GetService("Workspace")
					local Lighting = game:GetService("Lighting")
					local MaterialService = game:GetService("MaterialService")
					local Terrain = Workspace.Terrain

					local saverConnection = nil
					local blackScreenGui = nil

					PerformanceSection:AddToggle("TextureNukeSaver", {
						Title = "GPU Saver (Black Screen)",
						Description = "Menghemat penggunaan GPU dan CPU",
						Default = false,
						Callback = function(Value)
							local localChar = Players.LocalPlayer.Character
							local root = localChar and localChar:FindFirstChild("HumanoidRootPart")

							if Value then
								print("‚ò¢Ô∏è GPU NUKE MODE: ON")

								-- 1. KUNCI 60 FPS (Agar Stats Hijau/Normal)
								if setfpscap then setfpscap(60) end

								-- 2. BEKUKAN KARAKTER (CPU Saver)
								if root then root.Anchored = true end

								-- 3. NUKE LIGHTING (Hapus Efek Cahaya Berat)
								Lighting.GlobalShadows = false
								Lighting.FogEnd = 9e9
								Lighting.Brightness = 0
								-- Hapus efek post-processing (Blur, Bloom, SunRays, dll)
								for _, v in pairs(Lighting:GetChildren()) do
									if v:IsA("PostEffect") or v:IsA("Sky") or v:IsA("Atmosphere") then
										v:Destroy()
									end
								end

								-- 4. NUKE MAP & TEXTURES (Loop Berat - Dilakukan Sekali)
								-- Kita gunakan pcall agar tidak error jika part terkunci
								for _, v in pairs(Workspace:GetDescendants()) do
									-- HAPUS TEXTURE GAMBAR
									if v:IsA("Texture") or v:IsA("Decal") then
										v:Destroy()
									
									-- HAPUS EFEK PARTIKEL
									elseif v:IsA("ParticleEmitter") or v:IsA("Trail") or v:IsA("Beam") or v:IsA("Fire") or v:IsA("Smoke") or v:IsA("Sparkles") then
										v:Destroy()
									
									-- SEDERHANAKAN PART (JADI PLASTIK)
									elseif v:IsA("BasePart") and not v:IsA("Terrain") then
										v.Material = Enum.Material.SmoothPlastic
										v.Reflectance = 0
										v.CastShadow = false
										v.TopSurface = Enum.SurfaceType.Smooth
									
									-- HAPUS TEXTURE PADA MESH
									elseif v:IsA("MeshPart") then
										v.TextureID = "" -- Kosongkan texture ID
										v.Material = Enum.Material.SmoothPlastic
										v.CastShadow = false
									
									-- HAPUS AKSESORIS BAJU (CLOTHING)
									elseif v:IsA("Shirt") or v:IsA("Pants") or v:IsA("ShirtGraphic") then
										v:Destroy()
									end
								end
								
								-- 5. SEMBUNYIKAN AIR (TERRAIN)
								-- Jangan di-clear(), cukup buat transparan agar walk on water tetap jalan
								Terrain.WaterWaveSize = 0
								Terrain.WaterWaveSpeed = 0
								Terrain.WaterReflectance = 0
								Terrain.WaterTransparency = 1 -- Air jadi hilang visualnya

								-- 6. KAMERA KE VOID (Jurus Pamungkas GPU 0%)
								Workspace.CurrentCamera.CameraType = Enum.CameraType.Scriptable
								saverConnection = RunService.RenderStepped:Connect(function()
									Workspace.CurrentCamera.CFrame = CFrame.new(0, 100000, 0)
									Workspace.CurrentCamera.FieldOfView = 1
								end)

								-- 7. GUI LAYAR HITAM
								if not blackScreenGui then
									blackScreenGui = Instance.new("ScreenGui")
									blackScreenGui.Name = "NukeGUI"
									blackScreenGui.IgnoreGuiInset = true
									blackScreenGui.Parent = Players.LocalPlayer:WaitForChild("PlayerGui")
									blackScreenGui.DisplayOrder = -2147483648 
									
									local frame = Instance.new("Frame")
									frame.Size = UDim2.new(1, 0, 1, 0)
									frame.BackgroundColor3 = Color3.new(0, 0, 0)
									frame.BorderSizePixel = 0
									frame.ZIndex = 0
									frame.Parent = blackScreenGui
									
									local label = Instance.new("TextLabel")
									label.Text = "TEXTURES DELETED\nGPU LOAD: MINIMAL"
									label.Size = UDim2.new(1, 0, 0.1, 0)
									label.Position = UDim2.new(0, 0, 0.45, 0)
									label.BackgroundTransparency = 1
									label.TextColor3 = Color3.new(1, 0, 0) -- Merah
									label.Font = Enum.Font.GothamBold
									label.ZIndex = 1
									label.Parent = frame
								end
								blackScreenGui.Enabled = true

							else
								print("‚ùå Nuke Mode: OFF")

								-- Matikan Loop Kamera
								if saverConnection then
									saverConnection:Disconnect()
									saverConnection = nil
								end

								-- Un-Anchor
								if root then root.Anchored = false end

								-- Restore Kamera
								Workspace.CurrentCamera.CameraType = Enum.CameraType.Custom
								Workspace.CurrentCamera.FieldOfView = 70
								
								-- Sembunyikan GUI
								if blackScreenGui then blackScreenGui.Enabled = false end
								
								-- PERINGATAN: Texture yang dihapus TIDAK BISA kembali.
								-- User harus Rejoin server jika ingin grafik normal lagi.
								print("‚ö†Ô∏è Harap Rejoin server untuk mengembalikan Texture/Model.")
							end
						end
					})

					
					----------------------------------------------------
					-- üìâ FUNCTION: Apply FPS Booster
					----------------------------------------------------
					local function applyBooster()
						local Lighting = game:GetService("Lighting")
						local Terrain = workspace:FindFirstChildOfClass("Terrain")
						local removed = 0
					
						-- 1Ô∏è‚É£ Lighting & Render Distance
						pcall(function()
							workspace.StreamingEnabled = true
							workspace.StreamingMinRadius = 50
							workspace.StreamingTargetRadius = 120
							Lighting.FogEnd = 120
							Lighting.FogStart = 0
							Lighting.FogColor = Color3.fromRGB(128, 128, 128)
							Lighting.GlobalShadows = false
							Lighting.Brightness = 0
							Lighting.Technology = Enum.Technology.Compatibility
						end)
					
						-- 2Ô∏è‚É£ Remove Colors / Grayscale
						pcall(function()
							for _, obj in pairs(workspace:GetDescendants()) do
								if obj:IsA("BasePart") then
									obj.Color = Color3.fromRGB(128, 128, 128)
									obj.Material = Enum.Material.SmoothPlastic
									obj.CastShadow = false
								end
							end
						end)
					
						-- 3Ô∏è‚É£ Remove Effects / Decals
						for _, obj in pairs(workspace:GetDescendants()) do
							pcall(function()
								if obj:IsA("Texture") or obj:IsA("Decal") then
									obj:Destroy()
									removed += 1
								elseif obj:IsA("ParticleEmitter") or obj:IsA("Trail") or obj:IsA("Smoke")
									or obj:IsA("Fire") or obj:IsA("Sparkles") or obj:IsA("Beam") then
									obj.Enabled = false
									obj:Destroy()
									removed += 1
								elseif obj:IsA("MeshPart") or obj:IsA("SpecialMesh") then
									obj.TextureID = ""
								end
							end)
						end
					
						-- 4Ô∏è‚É£ Terrain Optimization
						pcall(function()
							if Terrain then
								Terrain.WaterWaveSize = 0
								Terrain.WaterWaveSpeed = 0
								Terrain.WaterReflectance = 0
								Terrain.WaterTransparency = 0
								Terrain.Decoration = false
								Terrain.WaterColor = Color3.fromRGB(128, 128, 128)
							end
						end)
					
						-- 5Ô∏è‚É£ Remove PostEffects
						pcall(function()
							for _, effect in pairs(Lighting:GetChildren()) do
								if effect:IsA("PostEffect") then
									effect:Destroy()
									
								end
							end
						end)
					
						-- 6Ô∏è‚É£ GUI Popup Blocker (Small Notification)
						task.spawn(function()
							while boosterEnabled and task.wait(0.2) do
								pcall(function()
									local notifGui = pg:FindFirstChild("Small Notification")
									if notifGui and notifGui.Enabled then
										notifGui.Enabled = false
									end
									for _, gui in pairs(pg:GetDescendants()) do
										if gui:IsA("Frame") or gui:IsA("TextLabel") or gui:IsA("ImageLabel") then
											local n = gui.Name:lower()
											local t = (gui.Text or ""):lower()
											if n:find("notification") or t:find("kg") or t:find("fish") or n:find("catch") then
												gui.Visible = false
											end
										end
									end
								end)
							end
						end)
					
						-- 7Ô∏è‚É£ Quality Level
						pcall(function()
							settings().Rendering.QualityLevel = Enum.QualityLevel.Level01
							settings().Rendering.MeshPartDetailLevel = Enum.MeshPartDetailLevel.Level01
							game:GetService("UserSettings"):GetService("UserGameSettings").SavedQualityLevel = Enum.SavedQualitySetting.QualityLevel1
						end)
					
						-- 8Ô∏è‚É£ Character Optimization
						player.CharacterAdded:Connect(function(character)
							task.wait(1)
							for _, part in pairs(character:GetDescendants()) do
								pcall(function()
									if part:IsA("BasePart") then
										part.Material = Enum.Material.SmoothPlastic
										part.Color = Color3.fromRGB(128, 128, 128)
										part.CastShadow = false
									elseif part:IsA("Decal") or part:IsA("Texture") then
										part:Destroy()
									end
								end)
							end
						end)
					
						Fluent:Notify({
							Title = "Extreme Low Graphics",
							Content = "Booster activated! Removed " .. removed .. " objects.",
							Duration = 5
						})
					end
					
					----------------------------------------------------
					-- üß© FUNCTION: Restore Normal Graphics
					----------------------------------------------------
					local function restoreBooster()
						local Lighting = game:GetService("Lighting")
						local Terrain = workspace:FindFirstChildOfClass("Terrain")
					
						pcall(function()
							Lighting.GlobalShadows = true
							Lighting.Brightness = 2
							Lighting.FogEnd = 1000
							Lighting.FogColor = Color3.fromRGB(255, 255, 255)
							Lighting.Technology = Enum.Technology.Future
						end)
					
						pcall(function()
							if Terrain then
								Terrain.WaterWaveSize = 0.15
								Terrain.WaterWaveSpeed = 10
								Terrain.WaterReflectance = 1
								Terrain.WaterTransparency = 0.3
								Terrain.Decoration = true
							end
						end)
					
						Fluent:Notify({
							Title = "Graphics Restored",
							Content = "All visual settings reverted to normal.",
							Duration = 4
						})
					end
					
					----------------------------------------------------
					-- üéöÔ∏è TOGGLE FOR FPS BOOSTER
					----------------------------------------------------
					PerformanceSection:AddToggle("ExtremeBooster", {
						Title = "Extreme Low Graphics V2",
						Description = "Toggle ON for max FPS, OFF to restore normal graphics.",
						Default = false,
						Callback = function(Value)
							boosterEnabled = Value
							if Value then
								task.spawn(applyBooster)
							else
								task.spawn(restoreBooster)
							end
						end
					})
					
					----------------------------------------------------
					-- üé£ TOGGLE: Disable / Enable Rod Effects (VFX)
					----------------------------------------------------
					local rodVFXDisabled = false
					local originalVFX = nil
					local oldCreate = nil
					
					PerformanceSection:AddToggle("DisableRodVFX", {
						Title = "Disable Rod Effects",
						Description = "Turns off all fishing rod visual effects (PlayFishingEffect).",
						Default = false,
						Callback = function(Value)
							rodVFXDisabled = Value
							local Shared = ReplicatedStorage:FindFirstChild("Shared")
							local VFXUtility = Shared and Shared:FindFirstChild("VFXUtility")
					
							if not VFXUtility then
								warn("‚ö†Ô∏è Module VFXUtility tidak ditemukan.")
								return
							end
							
							if Value then
								originalVFX = require(VFXUtility)
					
								if originalVFX and typeof(originalVFX.CreateContainer) == "function" then
									oldCreate = originalVFX.CreateContainer
									originalVFX.CreateContainer = function(...)
										return nil
									end
									Fluent:Notify({
										Title = "üé£ Rod Effects Disabled",
										Content = "All fishing rod visuals and aura effects have been turned off.",
										Duration = 4
									})
								end
					
								-- bersihin efek yang udah sempat muncul
								-- task.spawn(function()
								-- 	task.wait(0.2)
								-- 	for _, v in pairs(workspace:GetDescendants()) do
								-- 		if tostring(v.Name):lower():find("effect") or tostring(v.Name):lower():find("vfx") then
								-- 			v:Destroy()
								-- 		end
								-- 	end
								-- end)
							else
								-- üîÑ ENABLE (restore)
								if originalVFX and oldCreate then
									originalVFX.CreateContainer = oldCreate
									Fluent:Notify({
										Title = "Rod Effects Restored",
										Content = "Fishing rod visual effects are now back to normal.",
										Duration = 4
									})
								end
							end
						end
					})
					
					----------------------------------------------------
					-- üîï TOGGLE: Disable Notifications (Small Notification)
					----------------------------------------------------
					local notifDisabled = false
					
					PerformanceSection:AddToggle("DisableNotifications", {
						Title = "Disable Notifications",
						Description = "Blocks 'Small Notification' GUI popups from PlayerGui.",
						Default = false,
						Callback = function(Value)
							notifDisabled = Value
							local playerGui = pg
					
							if Value then
								-- ‚úÖ Disable notification GUI & block future ones
								task.spawn(function()
									while notifDisabled and task.wait(0.05) do
										pcall(function()
											local notifGui = playerGui:FindFirstChild("Small Notification")
											if notifGui then
												notifGui.Enabled = false
												notifGui.Visible = false
											end
					
											-- jaga-jaga kalau script lain spawn ulang GUI-nya
											for _, gui in pairs(pg:GetDescendants()) do
												if gui:IsA("Frame") or gui:IsA("TextLabel") or gui:IsA("ImageLabel") then
													local name = gui.Name:lower()
													if name:find("notification") or name:find("alert") or name:find("reward") then
														gui.Visible = false
													end
												end
											end
										end)
									end
								end)
					
								Fluent:Notify({
									Title = "Notifications Disabled",
									Content = "All pop-up notifications are now blocked.",
									Duration = 4
								})
					
							else
								-- üîÑ Re-enable notification GUI
								local notifGui = playerGui:FindFirstChild("Small Notification")
								if notifGui then
									notifGui.Enabled = true
									notifGui.Visible = true
								end
					
								Fluent:Notify({
									Title = "Notifications Restored",
									Content = "Small Notification GUI has been re-enabled.",
									Duration = 4
								})
							end
						end
					})
					
					----------------------------------------------------
					-- üé¨ TOGGLE: Disable Cutscenes (Skip Cinematics)
					----------------------------------------------------

					local ProximityPromptService = game:GetService("ProximityPromptService")
					local LocalPlayer = Players.LocalPlayer

					-- Fungsi Utama (Semua metode digabung disini)
					local function StartAntiCutscene()

						-- [[ BAGIAN 1: INITIAL SETUP & OVERRIDES (Dijalankan sekali saat start) ]] --
						
						-- A. Override GuiControl (Agar tidak bisa di-lock)
						local successGui, GuiControl = pcall(function() return require(ReplicatedStorage.Modules.GuiControl) end)
						if successGui and GuiControl then
							-- Override FishingLock
							GuiControl.FishingLock = function(self)
								self._fishingLocked = false
								self._locked = false
							end
							-- Override SetHUDVisibility
							local originalSetHUD = GuiControl.SetHUDVisibility
							GuiControl.SetHUDVisibility = function(self, visible)
								return originalSetHUD(self, true) -- Force True
							end
							-- Paksa Unlock Sekarang
							if GuiControl.FishingUnlock then GuiControl:FishingUnlock() end
							GuiControl._fishingLocked = false
						end

						-- B. Override CutsceneController (Agar Play tidak jalan)
						local successCutscene, CutsceneController = pcall(function() return require(ReplicatedStorage.Controllers.CutsceneController) end)
						if successCutscene and CutsceneController then
							CutsceneController.Play = function() 
								-- Langsung kembalikan state normal
								if GuiControl then GuiControl._fishingLocked = false end
								LocalPlayer:SetAttribute("InCutscene", false)
								LocalPlayer:SetAttribute("IgnoreFOV", false)
								return 
							end
						end

						-- C. Nullify All Individual Cutscenes (Visual Bypass)
						local CutscenesFolder = ReplicatedStorage.Controllers.CutsceneController:FindFirstChild("Cutscenes")
						if CutscenesFolder then
							for _, module in pairs(CutscenesFolder:GetChildren()) do
								if module:IsA("ModuleScript") then
									task.spawn(function()
										local s, m = pcall(require, module)
										if s and m then m.Play = function() end end -- Kosongkan fungsi Play
									end)
								end
							end
						end

						-- D. Zero Data Delay (Timer Bypass)
						local DataFolder = ReplicatedStorage.Shared.CutsceneUtility:FindFirstChild("Data")
						if DataFolder then
							for _, dataModule in pairs(DataFolder:GetChildren()) do
								if dataModule:IsA("ModuleScript") then
									task.spawn(function()
										local s, data = pcall(require, dataModule)
										if s and type(data) == "table" then
											data.CutsceneDuration = 0
											data.FishingDelay = 0
											data.SkipFishingPull = false
										end
									end)
								end
							end
						end

						-- E. Block Remote Event (Network Bypass)
						local NetFolder = ReplicatedStorage.Packages._Index:FindFirstChild("sleitnick_net@0.2.0")
						if NetFolder then
							local Remote = NetFolder.net:FindFirstChild("RE/ReplicateCutscene")
							if Remote then
								-- Timpa OnClientEvent agar tidak merespon server
								Remote.OnClientEvent:Connect(function()
									-- Emergency Unlock jika server memaksa event
									if GuiControl then GuiControl._fishingLocked = false end
								end)
							end
						end

						-- [[ BAGIAN 2: ACTIVE MONITORING LOOP (Dijalankan terus menerus) ]] --
						-- Bagian ini yang akan mati jika kamu melakukan task.cancel()
						
						while true do
							-- 1. Monitor Fishing Lock
							if GuiControl and GuiControl._fishingLocked then
								GuiControl._fishingLocked = false
								GuiControl._locked = false
							end

							-- 2. Monitor Backpack (Agar UI item tidak hilang)
							local Backpack = LocalPlayer.PlayerGui:FindFirstChild("Backpack")
							if Backpack and not Backpack.Enabled then
								Backpack.Enabled = true
							end

							-- 3. Monitor Attributes (Agar kamera tidak zoom/goyang)
							if LocalPlayer:GetAttribute("InCutscene") then
								LocalPlayer:SetAttribute("InCutscene", false)
							end
							if LocalPlayer:GetAttribute("IgnoreFOV") then
								LocalPlayer:SetAttribute("IgnoreFOV", false)
							end

							-- 4. Monitor Proximity Prompt (Agar bisa interaksi barang lain)
							if not ProximityPromptService.Enabled then
								ProximityPromptService.Enabled = true
							end
							
							-- Kecepatan Loop (Semakin kecil semakin responsif, tapi jangan 0)
							task.wait(0.01) 
						end
					end


					-- === CARA PENGGUNAAN === --

					-- 1. MENYALAKAN (Simpan threadnya di variabel)
					local cutscenethread = nil

					-- ... main game ...

					-- 2. MEMATIKAN (Hentikan paksa loop monitoringnya)
					-- task.cancel(cutscenethread)
					
					PerformanceSection:AddToggle("DisableCutscene", {
						Title = "Disable Cutscenes",
						Description = "Skips any cinematic cutscene or camera shake sequence.",
						Default = false,
						Callback = function(Value)
							if Value then
								Fluent:Notify({
										Title = "Disable Cutscenes",
										Content = "Removing All Cutscenes.",
										Duration = 4
									})
								cutscenethread = task.spawn(StartAntiCutscene)
							else
								Fluent:Notify({
										Title = "Enable Cutscenes",
										Content = "Restored All Cutscenes.",
										Duration = 4
									})
								task.cancel(cutscenethread)
							end
							
						end
					})
					
					-- Auto-stop cutscene when secret fish is caught (ALWAYS, even if toggle is off)
					
					----------------------------------------------------
					-- üé£ TOGGLE: Disable Fishing Animation (Use Instant v4 Function)
					----------------------------------------------------

					local function disableAnimations()
						pcall(function()
							local character = player.Character or player.CharacterAdded:Wait()
							local humanoid = character:FindFirstChildOfClass("Humanoid")
							if humanoid then
								for _, track in pairs(humanoid:GetPlayingAnimationTracks()) do
									local animName = (track.Animation and track.Animation.Name or ""):lower()
									if animName:find("fish") or animName:find("cast") or animName:find("reel") then
										track:Stop()
									end
								end
								local animator = humanoid:FindFirstChildOfClass("Animator")
								if animator then
									backupAnimator = animator:Clone()
									animator:Destroy()
								end
							end
							animationsDisabled = true
						end)
					end
					
					local function enableAnimations()
						pcall(function()
							local character = player.Character
							if not character then return end
							local humanoid = character:FindFirstChildOfClass("Humanoid")
							if humanoid and not humanoid:FindFirstChildOfClass("Animator") then
								local newAnimator = Instance.new("Animator")
								newAnimator.Parent = humanoid
								if backupAnimator then
									for _, child in pairs(backupAnimator:GetChildren()) do
										child:Clone().Parent = newAnimator
									end
								end
							end
							animationsDisabled = false
						end)
					end

					PerformanceSection:AddToggle("DisableFishingAnim", {
						Title = "Disable Fishing Animation",
						Description = "Turns off all fishing animations using Instant v4 handler.",
						Default = false,
						Callback = function(Value)
							if Value then
								if disableAnimations then
									disableAnimations()
									Fluent:Notify({
										Title = "üé£ Animations Disabled",
										Content = "Fishing animations turned off via Instant Fishing v4.",
										Duration = 4
									})
								else
									warn("‚ö†Ô∏è disableAnimations() not found. Make sure Instant Fishing v4 is loaded.")
								end
							else
								if enableAnimations then
									enableAnimations()
									Fluent:Notify({
										Title = "üéûÔ∏è Animations Restored",
										Content = "Fishing animations restored via Instant Fishing v4.",
										Duration = 4
									})
								else
									warn("‚ö†Ô∏è enableAnimations() not found.")
								end
							end
						end
					})
				end
				
				----------------------------------------------------
				-- üéØ TAB QUEST
				----------------------------------------------------
				local function LoadQuestTab()
					local KaitunSection = QuestTab:AddSection("Kaitun (BETA)")

					

					local DeepSeaSection = QuestTab:AddSection("Deep Sea Quest")

					-- Kita simpan Paragraph ke dalam table agar mudah diakses
					local DeepSeaUI = {}
					local DeepSeaData = {}
					local DeepSeathread = nil

					DeepSeaUI[1] = DeepSeaSection:AddParagraph({Title = "Loading..."})
					DeepSeaUI[2] = DeepSeaSection:AddParagraph({Title = "Loading..."})
					DeepSeaUI[3] = DeepSeaSection:AddParagraph({Title = "Loading..."})
					DeepSeaUI[4] = DeepSeaSection:AddParagraph({Title = "Loading..."})

					-- [[ 2. FUNGSI LOGIKA UPDATE ]]
					local function UpdateDeepSeaUI()

						local Players = game:GetService("Players")
						local LocalPlayer = Players.LocalPlayer
						local QuestInside = LocalPlayer.PlayerGui.Quest.List.Inside

						local targetQuestText = "Deep Sea Quest"
						local foundQuest = nil

						-- Loop semua item di dalam folder 'Inside'
						for _, child in pairs(QuestInside:GetChildren()) do
							local success, result = pcall(function()
								print(child.Top.TopFrame.Header.Text)
								return child.Top.TopFrame.Header.Text
							end)

							if success and result == targetQuestText then
								foundQuest = child
								break
							end
						end

						-- Cek hasil akhirnya
						if not foundQuest and not workspace["!!! DEPENDENCIES"].QuestTrackers["Deep Sea Tracker"].Board.Gui.Content.Progress.ProgressLabel.Text == "Progress: 100%" then
							local char = player.Character
							if char and char:FindFirstChild("HumanoidRootPart") then
								char.HumanoidRootPart.CFrame = CFrame.new(-3738.53467, -135.074417, -1010.8125, -0.954710007, -9.24383983e-08, -0.297537863, -8.27598186e-08, 1, -4.51262636e-08, 0.297537863, -1.84583158e-08, -0.954710007)
							end
						end
						
						local function FindModule(name)
							local target = ReplicatedStorage:FindFirstChild(name, true)
							if target then return require(target) end
							return nil
						end

						local Replion = FindModule("Replion")
						-- Path Definisi Quest (Sesuai Module yang kamu berikan)
						local QuestDefModule = ReplicatedStorage:FindFirstChild("Modules"):FindFirstChild("Quests"):FindFirstChild("Mainline"):FindFirstChild("Deep Sea Quest")

						if not Replion or not QuestDefModule then
							DeepSeaUI[1]:SetTitle("‚ùå Error")
							DeepSeaUI[1]:SetDesc("Gagal menemukan Module Quest/Replion")
							return
						end

						-- B. Ambil Data
						local QuestDef = require(QuestDefModule)
						local PlayerData = Replion.Client:WaitReplion("Data", 5)
						
						if not PlayerData then return end

						-- Ambil Data Save Spesifik
						local SavedData = nil
						local QuestsRaw = PlayerData:Get("Quests")
						if QuestsRaw and QuestsRaw.Mainline then
							SavedData = QuestsRaw.Mainline["Deep Sea Quest"]
						end

						local savedObjectives = (SavedData and SavedData.Objectives) or {}

						-- C. Loop Update UI (ID 1 sampai 4)
						for _, defObj in pairs(QuestDef.Objectives) do
							local id = defObj.Id
							
							if DeepSeaUI[id] then
								local name = defObj.Name
								local target = defObj.Goal or 1
								
								-- Cari progress pemain untuk ID ini
								local currentProgress = 0
								for _, savedObj in pairs(savedObjectives) do
									if savedObj.Id == id then
										currentProgress = savedObj.Progress or 0
										break
									end
								end

								-- Tentukan Status
								local isComplete = currentProgress >= target
								if workspace["!!! DEPENDENCIES"].QuestTrackers["Deep Sea Tracker"].Board.Gui.Content.Progress.ProgressLabel.Text == "Progress: 100%" then
									isComplete = true
								end

								local icon = isComplete and "‚úÖ" or "‚¨ú"

								DeepSeaData[id] = { isComplete = isComplete }
								
								-- Format Teks UI
								DeepSeaUI[id]:SetTitle(string.format("%s %s", icon, name))
							end
						end
					end

					local function AutoDeepSeaQuest()
						local player = game.Players.LocalPlayer
						
						-- [[ MASUKKAN KOORDINAT DISINI ]] --
						-- Ganti angka CFrame ini dengan posisi Treasure Room dan Sisyphus yang pas
						-- Saya pakai placeholder, silakan update dengan posisi savezone kamu
						
						-- Lokasi Quest 1 (Treasure Room)
						local TreasureRoomPos = CFrame.new(-3599.48389, -275.930573, -1641.12915, -0.685956001, -2.82569107e-10, 0.727643073, -7.25913427e-11, 1, 3.19902244e-10, -0.727643073, 1.66618261e-10, -0.685956001)
						
						-- Lokasi Quest 2
						local SisyphusPos = CFrame.new(-3738.53467, -135.074417, -1010.8125, -0.954710007, -9.24383983e-08, -0.297537863, -8.27598186e-08, 1, -4.51262636e-08, 0.297537863, -1.84583158e-08, -0.954710007) 

						while true do
							UpdateDeepSeaUI()
							
							-- Logic Auto Quest
							if not DeepSeaData[1] or not DeepSeaData[1].isComplete then
								-- Quest 1: Catch 300 Rare/Epic at Treasure Room
									player.Character.HumanoidRootPart.CFrame = TreasureRoomPos
								
							elseif not DeepSeaData[2] or not DeepSeaData[2].isComplete then
								-- Quest 2: Catch 3 Mythic at Sisyphus
									player.Character.HumanoidRootPart.CFrame = SisyphusPos
								
							elseif not DeepSeaData[3] or not DeepSeaData[3].isComplete then
								-- Quest 3: Catch 1 Secret at Sisyphus
									player.Character.HumanoidRootPart.CFrame = SisyphusPos
								
							elseif not DeepSeaData[4] or not DeepSeaData[4].isComplete then
									player.Character.HumanoidRootPart.CFrame = SisyphusPos
							end
							
							task.wait(2)
						end
					end

					task.spawn(UpdateDeepSeaUI)

					-- [[ 3. TOMBOL REFRESH ]]
					DeepSeaSection:AddButton({
						Title = "Refresh Quest Status",
						Description = "Click to update progress manually",
						Callback = function()
							UpdateDeepSeaUI()
						end
					})

					-- [[ 4. TOGGLE AUTO ]]
					_G.DeepSeaToggle = DeepSeaSection:AddToggle("AutoDeepSeaQuest", {
						Title = "Auto Deep Sea Quest",
						Description = "Auto Teleport to Treasure Room / Sisyphus based on progress.",
						Default = false,
						Callback = function(Value)
							if Value then
								if DeepSeathread == nil then
									DeepSeathread = task.spawn(AutoDeepSeaQuest)
								end
								Fluent:Notify({
									Title = "Auto Deep Sea Quest Enabled",
									Content = "Started farming Ghostfinn Rod.",
									Duration = 4
								})
							else
								if DeepSeathread then
									task.cancel(DeepSeathread)
									DeepSeathread = nil
								end
								Fluent:Notify({
									Title = "Auto Deep Sea Quest Disabled",
									Content = "Stopped.",
									Duration = 4
								})
							end
						end
					})
					
					
					
					local Artifacts = QuestTab:AddSection("Artifact Lever")

					local Arrow = CFrame.new(875.338501, 3.42016053, -362.145508, -0.0581579134, -9.23755508e-08, 0.998307407, -3.02855696e-08, 1, 9.07678412e-08, -0.998307407, -2.49554404e-08, -0.0581579134)
					local Hourglass = CFrame.new(1471.6062, 3.44849682, -845.46405, -0.975666523, 4.31067493e-09, 0.21925965, 3.44470608e-09, 1, -4.33180691e-09, -0.21925965, -3.47111406e-09, -0.975666523)
					local Crescent = CFrame.new(1383.66333, 3.20307589, 116.123589, -0.941706836, -1.16085905e-08, 0.336434633, -4.26427178e-08, 1, -8.48555501e-08, -0.336434633, -9.42555403e-08, -0.941706836)
					local Diamond = CFrame.new(1840.58118, 3.48847818, -299.506165, 0.298048466, 6.70413236e-09, -0.954550743, 9.31011535e-09, 1, 9.93032412e-09, 0.954550743, -1.18466952e-08, 0.298048466)

					local Replion = require(ReplicatedStorage.Packages.Replion)
					local LeverUi = {}
					local Artivact = {}
					local artifactThread = nil

					LeverUi["Arrow"] = Artifacts:AddParagraph({Title = "Loading..."})
					LeverUi["Hourglass Diamond"] = Artifacts:AddParagraph({Title = "Loading..."})
					LeverUi["Crescent"] = Artifacts:AddParagraph({Title = "Loading..."})
					LeverUi["Diamond"] = Artifacts:AddParagraph({Title = "Loading..."})

					local Folder = workspace:WaitForChild("JUNGLE INTERACTIONS")

					-- [1] MASUKKAN KOORDINAT HASIL COPY DARI LANGKAH 1 DI SINI
					-- Format: Vector3.new(X, Y, Z)
					local FixedPositions = {
						-- Contoh: Vector3.new(105.5, 30, -200.1) <-- Ganti angka ini!
						Arrow     = Vector3.new(898.38324, 5.12495089, -362.278168, 0.995001853, 0.0998566747, -2.95415521e-06, 2.95415521e-06, -5.90085983e-05, -1, -0.0998566747, 0.995001853, -5.90085983e-05), 
						Hourglass = Vector3.new(1484.60657, 5.12495136, -861.005859, -0.148472905, 0.988916516, -6.16014004e-05, -6.16014004e-05, -7.15255737e-05, -1, -0.988916516, -0.148472875, 7.15255737e-05),
						Crescent  = Vector3.new(1419.74744, 27.8749504, 78.570343, 0.943031669, -0.332702935, 2.5331974e-07, -2.5331974e-07, -1.54972076e-06, -1, 0.332702935, 0.943031728, -1.54972076e-06),
						Diamond   = Vector3.new(1818.92847, 5.12495136, -284.110168, -0.981233001, -0.192826301, -5.51342964e-07, -5.51342964e-07, 5.54323196e-06, -1, 0.192826301, -0.981232941, -5.60283661e-06)
					}

					local validArrow, validHourglass, validCrescent, validDiamond

					-- [2] FUNGSI PENCARI BERDASARKAN JARAK (MAGNITUDE)
					-- Script ini aman untuk Mobile (Anti-Stuck)
					local function SearchByPosition()
						local count = 0
						
						for _, model in pairs(Folder:GetChildren()) do
							count = count + 1
							if count % 5 == 0 then task.wait() end -- Jeda napas biar HP gak lag

							if model:IsA("Model") then
								local root = model:FindFirstChild("RootPart")
								local prompt = root and root:FindFirstChild("ProximityPrompt")
								
								if root and prompt then
									local pos = root.Position
									
									-- Cek jarak: Jika benda ini berada kurang dari 2 stud dari target
									if (pos - FixedPositions.Arrow).Magnitude < 2 then
										validArrow = prompt
										
									elseif (pos - FixedPositions.Hourglass).Magnitude < 2 then
										validHourglass = prompt
										
									elseif (pos - FixedPositions.Crescent).Magnitude < 2 then
										validCrescent = prompt
										
									elseif (pos - FixedPositions.Diamond).Magnitude < 2 then
										validDiamond = prompt
									end
								end
							end
						end
					end

					-- [3] JALANKAN
					SearchByPosition()


					local function scanInventory()
						local playerData = Replion.Client:WaitReplion("Data", 5)
						if not playerData then return {} end
								
						local inventory = playerData:GetExpect("Inventory")
						if not inventory or not inventory.Items then return {} end

						Artivact = {}

						for _, invItem in pairs(inventory.Items) do
							if invItem.Id == 271 or invItem.Id == 265 or invItem.Id == 266 or invItem.Id == 267 then
								table.insert(Artivact, invItem.Id)
								task.wait(0.01)
							end
						end
					end

					local function UpdateLeverUI()
							SearchByPosition()

						if not validArrow then
							LeverUi["Arrow"]:SetTitle("‚úÖ Arrow Lever Activated")
						else
							LeverUi["Arrow"]:SetTitle("‚¨ú Arrow Lever Inactive")
						end

						if not validHourglass then
							LeverUi["Hourglass Diamond"]:SetTitle("‚úÖ Hourglass/Diamond Lever Activated")
						else
							LeverUi["Hourglass Diamond"]:SetTitle("‚¨ú Hourglass/Diamond Lever Inactive")
						end

						if not validCrescent then
							LeverUi["Crescent"]:SetTitle("‚úÖ Crescent Lever Activated")
						else
							LeverUi["Crescent"]:SetTitle("‚¨ú Crescent Lever Inactive")
						end

						if not validDiamond then
							LeverUi["Diamond"]:SetTitle("‚úÖ Diamond Lever Activated")
						else
							LeverUi["Diamond"]:SetTitle("‚¨ú Diamond Lever Inactive")
						end
					end

					local function placeArtifactLevers(val)

						-- Menggunakan WaitForChild untuk memastikan folder sudah ada sebelum dijalankan
						local success, err = pcall(function()
							local path = ReplicatedStorage:WaitForChild("Packages")
								:WaitForChild("_Index")
								:WaitForChild("sleitnick_net@0.2.0")
								:WaitForChild("net")
								:WaitForChild("RE/PlaceLeverItem")
							
							path:FireServer(val)
						end)

						if success then
							print(val)
							print("‚úÖ Berhasil menaruh Artifact!")
						else
							warn("‚ùå Gagal: " .. tostring(err))
						end
					end

					local function AutoArtifactLevers()
						local player = game.Players.LocalPlayer
						while true do
							UpdateLeverUI()
							scanInventory()
							
							if validArrow then
								for _, itemId in pairs(Artivact) do
									if itemId == 265 then
										placeArtifactLevers("Arrow Artifact")
									end
								end
								player.Character.HumanoidRootPart.CFrame = Arrow
							elseif validHourglass then
								for _, itemId in pairs(Artivact) do
									if itemId == 271 then
										placeArtifactLevers("Hourglass Diamond Artifact")
									end
								end
								player.Character.HumanoidRootPart.CFrame = Hourglass
							elseif validCrescent then
								for _, itemId in pairs(Artivact) do
									if itemId == 266 then
										placeArtifactLevers("Crescent Artifact")
									end
								end
								player.Character.HumanoidRootPart.CFrame = Crescent
							elseif validDiamond then
								for _, itemId in pairs(Artivact) do
									if itemId == 267 then
										placeArtifactLevers("Diamond Artifact")
									end
								end
								player.Character.HumanoidRootPart.CFrame = Diamond
							end

							task.wait(2)
						end
					end

					task.spawn(UpdateLeverUI)

					Artifacts:AddButton({
						Title = "Reset Data",
						Callback = function()
							UpdateLeverUI()
						end
					})

					_G.ArtifactsToggle = Artifacts:AddToggle("AutoArtifactLevers", {
						Title = "Auto Artifact Levers",
						Description = "Automatically go to inactive levers to activate them.",
						Default = false,
						Callback = function(Value)
							if Value then
								if artifactThread == nil then
									artifactThread = task.spawn(AutoArtifactLevers)
								end
								Fluent:Notify({
									Title = "Auto Artifact Levers Enabled",
									Content = "Started.",
									Duration = 4
								})
							else
								if artifactThread then
									task.cancel(artifactThread)
									artifactThread = nil
								end
								Fluent:Notify({
									Title = "Auto Artifact Levers Disabled",
									Content = "Stopped.",
									Duration = 4
								})
							end
						end
					})

					-- Element Jungle Quest Section
					local ElementJungleSection = QuestTab:AddSection("Element Jungle Quest")

					-- Kita simpan Paragraph ke dalam table agar mudah diakses berdasarkan ID Quest (1-4)
					local QuestUI = {}
					local QuestData = {}
					local Elementthread = nil

					QuestUI[1] = ElementJungleSection:AddParagraph({Title = "Loading..."})
					QuestUI[2] = ElementJungleSection:AddParagraph({Title = "Loading..."})
					QuestUI[3] = ElementJungleSection:AddParagraph({Title = "Loading..."})
					QuestUI[4] = ElementJungleSection:AddParagraph({Title = "Loading..."})

					-- [[ 2. FUNGSI LOGIKA UPDATE ]]
					local function UpdateQuestUI()
						-- A. Cari Module Penting
						
						local function FindModule(name)
							local target = ReplicatedStorage:FindFirstChild(name, true)
							if target then return require(target) end
							return nil
						end

						local Replion = FindModule("Replion")
						-- Path Definisi Quest (Soal)
						local QuestDefModule = ReplicatedStorage:FindFirstChild("Modules"):FindFirstChild("Quests"):FindFirstChild("Mainline"):FindFirstChild("Element Quest")

						if not Replion or not QuestDefModule then
							-- Jika gagal load, beri info di UI
							QuestUI[1]:SetTitle("‚ùå Error")
							QuestUI[1]:SetDesc("Gagal menemukan Module Quest/Replion")
							return
						end

						-- B. Ambil Data
						local QuestDef = require(QuestDefModule) -- Data Static (Nama Tugas, Target)
						local PlayerData = Replion.Client:WaitReplion("Data", 5) -- Data Save Player
						
						if not PlayerData then return end

						-- Ambil Data Save Spesifik
						local SavedData = nil
						local QuestsRaw = PlayerData:Get("Quests")
						if QuestsRaw and QuestsRaw.Mainline then
							SavedData = QuestsRaw.Mainline["Element Quest"]
						end

						local savedObjectives = (SavedData and SavedData.Objectives) or {}

						-- C. Loop Update UI (ID 1 sampai 4)
						for _, defObj in pairs(QuestDef.Objectives) do
							local id = defObj.Id
							
							-- Pastikan ID valid (1-4) agar sesuai dengan jumlah UI Paragraph kita
							if QuestUI[id] then
								local name = defObj.Name
								local target = defObj.Goal or 1
								
								-- Cari progress pemain untuk ID ini
								local currentProgress = 0
								for _, savedObj in pairs(savedObjectives) do
									if savedObj.Id == id then
										currentProgress = savedObj.Progress or 0
										break
									end
								end

								-- Tentukan Status
								local isComplete = currentProgress >= target
								if workspace["!!! DEPENDENCIES"].QuestTrackers["Element Tracker"].Board.Gui.Content.Progress.ProgressLabel.Text == "Progress: 100%" then
									isComplete = true
								end
								local icon = isComplete and "‚úÖ" or "‚¨ú"

								-- Update QuestData
								QuestData[id] = { isComplete = isComplete }
								
								-- Format Teks UI
								-- Update Judul
								QuestUI[id]:SetTitle(string.format("%s %s", icon, name))
								
							end
						end
					end

					local function AutoElementQuest()
						local Quest2 = CFrame.new(1833.11072, 4.29756594, -575.638123, -0.59555757, 8.5946283e-08, 0.8033126, -1.58797153e-09, 1, -1.08167121e-07, -0.8033126, -6.56953887e-08, -0.59555757)
						local Quest3 = CFrame.new(1499.73218, -30.1063519, -659.190369, 0.991796911, 6.48309424e-08, 0.127823427, -6.60982735e-08, 1, 5.67286396e-09, -0.127823427, -1.4075237e-08, 0.991796911)
						while true do
							if not QuestData[1] or not QuestData[1].isComplete then
								print("selesaikan gospin dulu kontol")
								UpdateQuestUI()
							else
								if not QuestData[2] or not QuestData[2].isComplete then
									print("jalan ke quest 2")
									player.Character.HumanoidRootPart.CFrame = Quest2
									task.wait(1)
								elseif not QuestData[3] or not QuestData[3].isComplete then
									print("jalan ke quest 3")
									player.Character.HumanoidRootPart.CFrame = Quest3
									task.wait(1)
								end
							end
							UpdateQuestUI()
							task.wait(2)
						end
					end

					task.spawn(UpdateQuestUI)

					-- [[ 3. TOMBOL REFRESH ]]
					ElementJungleSection:AddButton({
						Title = "Refresh Quest Status",
						Description = "Click to update progress manually",
						Callback = function()
							UpdateQuestUI()
						end
					})

					_G.ElementToggle = ElementJungleSection:AddToggle("AutoElementQuest", {
						Title = "Auto Element Quest",
						Description = "Automatically Complete Element Quest.",
						Default = false,
						Callback = function(Value)
							if Value then
								if Elementthread == nil then
									Elementthread = task.spawn(AutoElementQuest)
								end
								Fluent:Notify({
									Title = "Auto Element Quest Enabled",
									Content = "Element Quest start.",
									Duration = 4
								})
							else
								if Elementthread then
									task.cancel(Elementthread)
									Elementthread = nil
								end
								Fluent:Notify({
									Title = "Auto Element Quest Disabled",
									Content = "Element Quest stopped.",
									Duration = 4
								})
							end
						end
					})

					-- Diamond Researcher Quest Section
					local DiamondSection = QuestTab:AddSection("Diamond Researcher Quest")

					-- Simpan Paragraph UI untuk setiap Quest (ID 1-6)
					local DiamondQuestUI = {}
					local DiamondQuestData = {}
					local Diamondthread = nil

					DiamondQuestUI[1] = DiamondSection:AddParagraph({Title = "Loading..."})
					DiamondQuestUI[2] = DiamondSection:AddParagraph({Title = "Loading..."})
					DiamondQuestUI[3] = DiamondSection:AddParagraph({Title = "Loading..."})
					DiamondQuestUI[4] = DiamondSection:AddParagraph({Title = "Loading..."})
					DiamondQuestUI[5] = DiamondSection:AddParagraph({Title = "Loading..."})
					DiamondQuestUI[6] = DiamondSection:AddParagraph({Title = "Loading..."})

					-- CFrame lokasi dekat NPC Diamond Researcher
					local DIAMOND_NPC_LOCATION = CFrame.new(-1774.83862, -222.210693, 23922.8438, -0.750536203, 8.66612027e-09, 0.660829365, -3.67984363e-08, 1, -5.49077868e-08, -0.660829365, -6.55277645e-08, -0.750536203)

					-- [[ FUNGSI HELPER: CEK APAKAH DIAMOND QUEST AKTIF ]]
					local function IsDiamondQuestActive()
						local player = Players.LocalPlayer
						
						if not player or not player.PlayerGui then return false end
						
						local questGui = player.PlayerGui:FindFirstChild("Quest")
						if not questGui then return false end
						
						local listFolder = questGui:FindFirstChild("List")
						if not listFolder then return false end
						
						local inside = listFolder:FindFirstChild("Inside")
						if not inside then return false end
						
						-- Loop semua Quest di dalam Inside
						for _, questFrame in pairs(inside:GetChildren()) do
							if questFrame:IsA("Frame") or questFrame:IsA("GuiObject") then
								local top = questFrame:FindFirstChild("Top")
								if top then
									local topFrame = top:FindFirstChild("TopFrame")
									if topFrame then
										local header = topFrame:FindFirstChild("Header")
										if header and header:IsA("TextLabel") then
											if header.Text == "Diamond Researcher" then
												return true
											end
										end
									end
								end
							end
						end
						
						return false
					end

					-- [[ FUNGSI: AMBIL QUEST DARI NPC (METODE BARU: REMOTE EVENT) ]]
					local function TakeQuestFromNPC()
						
						-- 1. Teleport ke NPC (Diperlukan karena beberapa game memvalidasi jarak sebelum menerima Remote)
						if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
							player.Character.HumanoidRootPart.CFrame = DIAMOND_NPC_LOCATION
							task.wait(0.5) -- Tunggu sebentar agar server mendeteksi posisi kita
						end

						-- 2. Cari Remote Event Target
						-- Path: ReplicatedStorage.Packages._Index.sleitnick_net@0.2.0.net.RE/DialogueEnded
						local Folder = ReplicatedStorage:FindFirstChild("Packages") and ReplicatedStorage.Packages:FindFirstChild("_Index")
						if not Folder then return false end
						
						-- Mencari folder sleitnick_net (kadang versinya bisa berubah, kita cari yang mengandung nama itu)
						local NetPackage = Folder:FindFirstChild("sleitnick_net@0.2.0")
						if not NetPackage then
							-- Fallback: cari manual jika versi berubah
							for _, child in pairs(Folder:GetChildren()) do
								if string.find(child.Name, "sleitnick_net") then
									NetPackage = child
									break
								end
							end
						end

						local Remote = NetPackage and NetPackage:FindFirstChild("net") and NetPackage.net:FindFirstChild("RE/DialogueEnded")
						
						if Remote then
							-- Argument dari Log yang kamu berikan:
							-- Arg[1]: "Diamond Researcher"
							-- Arg[2]: 1
							-- Arg[3]: 2
							Remote:FireServer("Diamond Researcher", 1, 2)
							
							task.wait(1) -- Tunggu server memproses
							
							if IsDiamondQuestActive() then
								Fluent:Notify({
									Title = "Quest Active",
									Content = "Diamond Researcher Quest diaktifkan (Bypass).",
									Duration = 4
								})
								return true
							else
								return false
							end
						else
							return false
						end
					end

					-- [[ 2. FUNGSI LOGIKA UPDATE ]]
					local function UpdateDiamondQuestUI()
						-- CEK APAKAH DIAMOND QUEST AKTIF
						if not IsDiamondQuestActive() then
							DiamondQuestUI[1]:SetTitle("‚ö†Ô∏è Quest Not Active")
							DiamondQuestUI[1]:SetDesc("Diamond Researcher quest belum diambil atau tidak aktif")
							for i = 2, 6 do
								DiamondQuestUI[i]:SetTitle("...")
								DiamondQuestUI[i]:SetDesc("")
							end
							return
						end
						
						
						local function FindModule(name)
							local target = ReplicatedStorage:FindFirstChild(name, true)
							if target then return require(target) end
							return nil
						end

						local Replion = FindModule("Replion")
						-- Path Definisi Quest (Soal)
						local QuestDefModule = ReplicatedStorage:FindFirstChild("Modules"):FindFirstChild("Quests"):FindFirstChild("Mainline"):FindFirstChild("Diamond Researcher")

						if not Replion or not QuestDefModule then
							-- Jika gagal load, beri info di UI
							DiamondQuestUI[1]:SetTitle("‚ùå Error")
							DiamondQuestUI[1]:SetDesc("Gagal menemukan Module Quest/Replion")
							return
						end

						-- B. Ambil Data
						local QuestDef = require(QuestDefModule) -- Data Static (Nama Tugas, Target)
						local PlayerData = Replion.Client:WaitReplion("Data", 5) -- Data Save Player
						
						if not PlayerData then return end

						-- Ambil Data Save Spesifik
						local SavedData = nil
						local QuestsRaw = PlayerData:Get("Quests")
						if QuestsRaw and QuestsRaw.Mainline then
							SavedData = QuestsRaw.Mainline["Diamond Researcher"]
						end

						local savedObjectives = (SavedData and SavedData.Objectives) or {}

						-- C. Loop Update UI (ID 1 sampai 6)
						for _, defObj in pairs(QuestDef.Objectives) do
							local id = defObj.Id
							
							-- Pastikan ID valid (1-6) agar sesuai dengan jumlah UI Paragraph kita
							if DiamondQuestUI[id] then
								local name = defObj.Name
								local target = defObj.Goal or 1
								
								-- Cari progress pemain untuk ID ini
								local currentProgress = 0
								for _, savedObj in pairs(savedObjectives) do
									if savedObj.Id == id then
										currentProgress = savedObj.Progress or 0
										break
									end
								end

								-- Tentukan Status
								local isComplete = currentProgress >= target
								
								-- Cek quest tracker jika ada
								local diamondTracker = workspace:FindFirstChild("!!! DEPENDENCIES")
								if diamondTracker then
									diamondTracker = diamondTracker:FindFirstChild("QuestTrackers")
									if diamondTracker then
										diamondTracker = diamondTracker:FindFirstChild("Diamond Tracker")
										if diamondTracker and diamondTracker:FindFirstChild("Board") then
											local progressLabel = diamondTracker.Board:FindFirstChild("Gui")
											if progressLabel and progressLabel:FindFirstChild("Content") then
												progressLabel = progressLabel.Content:FindFirstChild("Progress")
												if progressLabel and progressLabel:FindFirstChild("ProgressLabel") then
													if progressLabel.ProgressLabel.Text == "Progress: 100%" then
														isComplete = true
													end
												end
											end
										end
									end
								end
								
								local icon = isComplete and "‚úÖ" or "‚¨ú"

								-- Update QuestData
								DiamondQuestData[id] = { isComplete = isComplete, progress = currentProgress, target = target }
								
								-- Format Teks UI
								-- Update Judul dan Deskripsi dengan Progress
								DiamondQuestUI[id]:SetTitle(string.format("%s %s", icon, name))
							end
						end


						local Repilion = ReplicatedStorage.Packages.Replion
						local q, data = {}, Replion.Client:WaitReplion("Data", 10)
						if not data then return {} end
						local inv = data:GetExpect("Inventory")
						if not inv or not inv.Items then return {} end

						for _, invItem in pairs(inv.Items) do
							-- Lochness 228
							if invItem.Id == 395 then
								DiamondQuestData[7] = {isComplete = true}
							end
								
						end
						--/////////////////////////////////////////////////////////////////////
						--/////////////////////////////////////////////////////////////////////
						--/////////////////////////////////////////////////////////////////////
						--/////////////////////////////////////////////////////////////////////
						--/////////////////////////////////////////////////////////////////////
						--/////////////////////////////////////////////////////////////////////
						--/////////////////////////////////////////////////////////////////////
						--/////////////////////////////////////////////////////////////////////
						--/////////////////////////////////////////////////////////////////////
						--/////////////////////////////////////////////////////////////////////
						--/////////////////////////////////////////////////////////////////////
					end

					local function AutoDiamondQuest()
						-- CFrame locations untuk Diamond Quest (sesuaikan dengan koordinat di game)
						local CoralReefs = CFrame.new(-3134.85864, 2.5223031, 2125.54834, 0.967351139, -1.38672562e-09, -0.253439784, 1.02411923e-09, 1, -1.56266977e-09, 0.253439784, 1.25209787e-09, 0.967351139) -- Ganti dengan koordinat Coral Reefs
						local TropicalGrove = CFrame.new(-2054.01685, 8.94509411, 3779.87598, -0.954718888, 8.71190693e-08, -0.297509342, 1.05758183e-07, 1, -4.65540388e-08, 0.297509342, -7.59100658e-08, -0.954718888) -- Ganti dengan koordinat Tropical Grove
						local LarycLocation = DIAMOND_NPC_LOCATION -- Gunakan lokasi yang sama dengan NPC
						
						while true do
							-- CEK APAKAH QUEST MASIH AKTIF
							if not IsDiamondQuestActive() then
								print("‚ùå Diamond Researcher quest tidak aktif! Mencoba mengambil quest...")
								
								-- Coba ambil quest dari NPC via REMOTE
								local success = TakeQuestFromNPC()
								if not success then
									-- Jika gagal, coba lagi dalam loop berikutnya, jangan break total, tapi wait
									task.wait(2)
								else
									task.wait(1)
								end
							end
							
							UpdateDiamondQuestUI()
							
							-- Jika quest tidak aktif (dan gagal ambil), skip logika di bawah
							if IsDiamondQuestActive() then
								-- Quest 1: Own Element Rod (otomatis complete jika sudah punya)
								if not DiamondQuestData[1] or not DiamondQuestData[1].isComplete then
									task.wait(5)
								-- Quest 2: Catch SECRET fish at Coral Reefs
								elseif not DiamondQuestData[2] or not DiamondQuestData[2].isComplete then
									if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
										player.Character.HumanoidRootPart.CFrame = CoralReefs
									end
									task.wait(2)
								-- Quest 3: Catch SECRET fish at Tropical Grove
								elseif not DiamondQuestData[3] or not DiamondQuestData[3].isComplete then
									if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
										player.Character.HumanoidRootPart.CFrame = TropicalGrove
									end
									task.wait(2)
								-- Quest 4: Bring mutated Gemstone Ruby
								elseif not DiamondQuestData[4] or not DiamondQuestData[4].isComplete and false then
									if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
										player.Character.HumanoidRootPart.CFrame = LarycLocation
									end
									task.wait(2)
								-- Quest 5: Bring Lochness Monster
								elseif not DiamondQuestData[7] or not DiamondQuestData[7].isComplete then
									if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
										player.Character.HumanoidRootPart.CFrame = CFrame.new(-660.617859, 17.2500591, 445.005219, 0.9180637, -3.14757065e-09, -0.396432847, 3.88805299e-09, 1, 1.06426568e-09, 0.396432847, -2.5184157e-09, 0.9180637)
									end
									task.wait(2)
								-- Quest 6: Catch 1000 fish with PERFECT throw
								elseif not DiamondQuestData[6] or not DiamondQuestData[6].isComplete then
									task.wait(2)
								end
							end
							
							task.wait(2)
						end
					end

					task.spawn(UpdateDiamondQuestUI)

					-- [[ 3. TOMBOL REFRESH ]]
					DiamondSection:AddButton({
						Title = "Refresh Quest Status",
						Description = "Click to update Diamond Quest progress manually",
						Callback = function()
							UpdateDiamondQuestUI()
						end
					})

					-- Tombol untuk teleport ke NPC (opsional, untuk testing)
					DiamondSection:AddButton({
						Title = "Teleport ke Diamond Researcher NPC",
						Description = "Teleport langsung ke lokasi NPC",
						Callback = function()
							if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
								player.Character.HumanoidRootPart.CFrame = DIAMOND_NPC_LOCATION
								Fluent:Notify({
									Title = "Teleported",
									Content = "Teleported ke Diamond Researcher NPC",
									Duration = 3
								})
							end
						end
					})

					_G.DiamondToggle = DiamondSection:AddToggle("AutoDiamondQuest", {
						Title = "Auto Diamond Quest",
						Description = "Automatically Complete Diamond Researcher Quest.",
						Default = false,
						Callback = function(Value)
							if Value then
								if Diamondthread == nil then
									Diamondthread = task.spawn(AutoDiamondQuest)
								end
								Fluent:Notify({
									Title = "Auto Diamond Quest Enabled",
									Content = "Diamond Researcher Quest started.",
									Duration = 4
								})
							else
								if Diamondthread then
									task.cancel(Diamondthread)
									Diamondthread = nil
								end
								Fluent:Notify({
									Title = "Auto Diamond Quest Disabled",
									Content = "Diamond Researcher Quest stopped.",
									Duration = 4
								})
							end
						end
					})
					local CoreGui = game:GetService("CoreGui")
					local TweenService = game:GetService("TweenService")
					local RunService = game:GetService("RunService")

					local KaitunData = {
						Status = "Idle",          -- Status teks untuk ditampilkan di panel
						Coins = 0,                -- Jumlah koin
						CurrentRod = "None",      -- Pancingan saat ini
						Midnight = false,
						Astral = false,
						GhostfinnRod = false,
						ElementRod = false,
						DiamondRod = false,
						CorruptBait = false,
					}

					local UI_NAME = "KaitunPanel_iSylHub"
					local KaitunUI = {} 
					local screenGui = nil
					local Labels = {} 
					local _G_KaitunActive = false -- Control variable

					-- //////////////////////////////////////////////////////
					--                 UI BUILDER FUNCTION
					-- //////////////////////////////////////////////////////

					function KaitunUI.CreatePanel()
						-- Hapus UI lama jika ada agar tidak double
						if CoreGui:FindFirstChild(UI_NAME) then CoreGui[UI_NAME]:Destroy() end

						local sg = Instance.new("ScreenGui")
						sg.Name = UI_NAME
						sg.Parent = CoreGui
						sg.ResetOnSpawn = false

						-- Main Frame
						local mainFrame = Instance.new("Frame")
						mainFrame.Name = "MainFrame"
						mainFrame.Parent = sg
						mainFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 30) -- Warna Gelap Elegan
						mainFrame.BorderSizePixel = 0
						mainFrame.Position = UDim2.new(0.5, -550, 0.15, 0) -- Posisi Tengah Atas
						mainFrame.Size = UDim2.new(0, 0, 0, 0) -- Mulai 0 untuk animasi pop-up
						mainFrame.Active = true
						mainFrame.Draggable = true
						mainFrame.ClipsDescendants = true

						-- Styling
						local uicorner = Instance.new("UICorner")
						uicorner.CornerRadius = UDim.new(0, 8)
						uicorner.Parent = mainFrame

						local uistroke = Instance.new("UIStroke")
						uistroke.Parent = mainFrame
						uistroke.Color = Color3.fromRGB(80, 80, 100)
						uistroke.Thickness = 2

						local layout = Instance.new("UIListLayout")
						layout.Parent = mainFrame
						layout.SortOrder = Enum.SortOrder.LayoutOrder
						layout.HorizontalAlignment = Enum.HorizontalAlignment.Center
						layout.Padding = UDim.new(0, 4)

						local padding = Instance.new("UIPadding")
						padding.Parent = mainFrame
						padding.PaddingTop = UDim.new(0, 10)
						padding.PaddingBottom = UDim.new(0, 10)

						-- 1. TITLE
						local title = Instance.new("TextLabel")
						title.Parent = mainFrame
						title.LayoutOrder = 1
						title.BackgroundTransparency = 1
						title.Size = UDim2.new(1, 0, 0, 20)
						title.Font = Enum.Font.GothamBlack
						title.Text = "KAITUN iSylHub"
						title.TextColor3 = Color3.fromRGB(255, 255, 255)
						title.TextSize = 16

						-- Garis
						local line = Instance.new("Frame")
						line.Parent = mainFrame
						line.LayoutOrder = 2
						line.BackgroundColor3 = Color3.fromRGB(60, 60, 70)
						line.BorderSizePixel = 0
						line.Size = UDim2.new(0.9, 0, 0, 1)

						-- 2. STATUS & COIN
						Labels.Status = Instance.new("TextLabel")
						Labels.Status.Parent = mainFrame
						Labels.Status.LayoutOrder = 3
						Labels.Status.BackgroundTransparency = 1
						Labels.Status.Size = UDim2.new(1, 0, 0, 20)
						Labels.Status.Font = Enum.Font.GothamBold
						Labels.Status.Text = "Status: Idle"
						Labels.Status.TextColor3 = Color3.fromRGB(255, 200, 50) -- Kuning Emas
						Labels.Status.TextSize = 14

						Labels.Coins = Instance.new("TextLabel")
						Labels.Coins.Parent = mainFrame
						Labels.Coins.LayoutOrder = 4
						Labels.Coins.BackgroundTransparency = 1
						Labels.Coins.Size = UDim2.new(1, 0, 0, 18)
						Labels.Coins.Font = Enum.Font.Gotham
						Labels.Coins.Text = "Coins: 0"
						Labels.Coins.TextColor3 = Color3.fromRGB(100, 255, 100) -- Hijau Uang
						Labels.Coins.TextSize = 14

						Labels.Rod = Instance.new("TextLabel")
						Labels.Rod.Parent = mainFrame
						Labels.Rod.LayoutOrder = 4
						Labels.Rod.BackgroundTransparency = 1
						Labels.Rod.Size = UDim2.new(1, 0, 0, 18)
						Labels.Rod.Font = Enum.Font.Gotham
						Labels.Rod.Text = "Current Rod: 0"
						Labels.Rod.TextColor3 = Color3.fromRGB(100, 255, 100) -- Hijau Uang
						Labels.Rod.TextSize = 14

						-- 3. CHECKLIST ROD (Goshfinn, Element, Diamond)
						local function CreateCheckItem(order, text, key)
							local lbl = Instance.new("TextLabel")
							lbl.Parent = mainFrame
							lbl.LayoutOrder = order
							lbl.BackgroundTransparency = 1
							lbl.Size = UDim2.new(1, 0, 0, 18)
							lbl.Font = Enum.Font.GothamMedium
							lbl.Text = text .. ": ‚ùå"
							lbl.TextColor3 = Color3.fromRGB(200, 200, 200)
							lbl.TextSize = 13
							Labels[key] = lbl
						end

						CreateCheckItem(5, "Midnight Rod", "Rod1")
						CreateCheckItem(6, "Ares Rod", "Rod2")
						CreateCheckItem(7, "Goshfinn Rod", "Rod3")
						CreateCheckItem(8, "Element Rod", "Rod4")
						CreateCheckItem(9, "Diamond Rod", "Rod5")

						screenGui = sg
						
						-- Animasi Masuk
						TweenService:Create(mainFrame, TweenInfo.new(0.5, Enum.EasingStyle.Back), {Size = UDim2.new(0, 250, 0, 400)}):Play()
					end

					function KaitunUI.DestroyPanel()
						if screenGui then
							screenGui:Destroy()
							screenGui = nil
							Labels = {}
						end
					end

					function KaitunUI.Update()
						if not screenGui then return end
						
						if Labels.Status then Labels.Status.Text = "Status: " .. KaitunData.Status end
						
						if Labels.Coins then Labels.Coins.Text = "Coins: " .. string.format("%d", KaitunData.Coins) end

						if Labels.Rod then Labels.Rod.Text = "Current Rod: " .. KaitunData.CurrentRod end

						local function SetCheck(label, name, hasItem)
							if label then
								label.Text = name .. ": " .. (hasItem and "‚úÖ" or "‚ùå")
								label.TextColor3 = hasItem and Color3.fromRGB(85, 255, 127) or Color3.fromRGB(200, 80, 80)
							end
						end

						SetCheck(Labels.Rod1, "Midnight Rod", KaitunData.Midnight)
						SetCheck(Labels.Rod2, "Astral Rod", KaitunData.Astral)
						SetCheck(Labels.Rod3, "Goshfinn Rod", KaitunData.GhostfinnRod)
						SetCheck(Labels.Rod4, "Element Rod", KaitunData.ElementRod)
						SetCheck(Labels.Rod5, "Diamond Rod", KaitunData.DiamondRod)
					end

					-- Fungsi Auto Kaitun (Tempat logika farming kamu)
					local function Kaitun()
						while _G_KaitunActive do
							pcall(function()
								local repilion = require(ReplicatedStorage.Packages.Replion)
								local data = repilion.Client:WaitReplion("Data", 10)
								local coins = data:Get("Coins")

								local LocalPlayer = Players.LocalPlayer

								task.wait(2)

								local PlayerGui = LocalPlayer:WaitForChild("PlayerGui")
								local Backpack = PlayerGui:WaitForChild("Backpack")
								local Display = Backpack:WaitForChild("Display")

								-- Fungsi untuk get rod name dari slot 1
									for _, tile in pairs(Display:GetChildren()) do
										if tile:IsA("GuiObject") and tile.LayoutOrder == 1 then
											local inner = tile:FindFirstChild("Inner")
											if inner then
												local tags = inner:FindFirstChild("Tags")
												if tags then
													local itemName = tags:FindFirstChild("ItemName")
													if itemName and itemName:IsA("TextLabel") then
														KaitunData.CurrentRod = itemName.Text
													end
												end
											end
										end
										task.wait(0.01)
									end

								KaitunData.Coins = coins

								local priorityList = {
									559, -- Prioritas 2: Diamond Rod
									257, -- Prioritas 1: Element
									169,  -- Prioritas 3: Goshfinn
									5,  -- Prioritas 4: Ares
									80,   -- Prioritas 5: Midnight
									15, -- Corrupt Bait
								}

								local q, data = {}, repilion.Client:GetReplion("Data") -- Gunakan GetReplion agar tidak menunggu lama
											
											if data then
												local inv = data:GetExpect("Inventory")
												if inv and inv["Fishing Rods"] then
													local rodsInventory = inv["Fishing Rods"]
													local ownedRods = {}

													-- 1. Data Mapping: Simpan apa yang kita punya
													for _, itemValue in pairs(rodsInventory) do
														if itemValue.Id then
															ownedRods[itemValue.Id] = itemValue
														end
													end

													-- 2. Cek Prioritas: Cari dari yang terbaik, equip, lalu break
													for _, targetId in ipairs(priorityList) do
														if ownedRods[targetId] then
															local itemToEquip = ownedRods[targetId]
															if targetId == 559 then
																KaitunData.DiamondRod = true
															end
															if targetId == 257 then
																KaitunData.ElementRod = true
															end
															if targetId == 169 then
																KaitunData.GhostfinnRod = true
															end
															if targetId == 5 then
																KaitunData.Astral = true
															end
															if targetId == 80 then
																KaitunData.Midnight = true
															end
															if targetId == 15 then
																KaitunData.CorruptBait = true
															end
														end
													end
												end
											end
								
								-- Contoh Logika Update Status
								if not KaitunData.CorruptBait and ( KaitunData.Astral or  KaitunData.GhostfinnRod) and KaitunData.Coins >= 1150000 then
										KaitunData.Status = "Upgrading to Corrupt Bait..."
										local RFPurchaseBait = ReplicatedStorage.Packages._Index["sleitnick_net@0.2.0"].net["RF/PurchaseBait"]

										pcall(function()
											RFPurchaseBait:InvokeServer(15)
										end)
								end

								if not KaitunData.DiamondRod then
									if not KaitunData.ElementRod then
										if not KaitunData.GhostfinnRod then
											if not KaitunData.Midnight and KaitunData.Coins <= 1000000 then
												KaitunData.Status = "Farming for Coins..."
												player.Character.HumanoidRootPart.CFrame = CFrame.new(-3134.85864, 2.5223031, 2125.54834, 0.967351139, -6.85581298e-08, -0.253439784, 6.42034692e-08, 1, -2.54531223e-08, 0.253439784, 8.35039504e-09, 0.967351139)
												
												
												if not _G.ToggleLegit.Value then
													_G.ToggleLegit:SetValue(true)
													game:GetService("ReplicatedStorage"):WaitForChild("Packages"):WaitForChild("_Index"):WaitForChild("sleitnick_net@0.2.0"):WaitForChild("net"):WaitForChild("RF/UpdateAutoFishingState"):InvokeServer(true)
												end
												if _G.ToggleInstant.Value then 
													_G.ToggleInstant:SetValue(false)
												end

												if KaitunData.Coins >= 50000 then
													KaitunData.Status = "Upgrading to Midnight Rod..."
													local RFPurchaseFishingRod = ReplicatedStorage.Packages._Index["sleitnick_net@0.2.0"].net["RF/PurchaseFishingRod"]
					
													RFPurchaseFishingRod:InvokeServer(80)
												end
											else
												if not KaitunData.Astral then
													if KaitunData.Coins >= 1000000 then
														KaitunData.Status = "Upgrading to Astral Rod..."
														local RFPurchaseFishingRod = ReplicatedStorage.Packages._Index["sleitnick_net@0.2.0"].net["RF/PurchaseFishingRod"]
						
														RFPurchaseFishingRod:InvokeServer(5)
													end
												end

												if not _G.DeepSeaToggle.Value then
													_G.DeepSeaToggle:SetValue(true)
												end
												if _G.ArtifactsToggle.Value then
													_G.ArtifactsToggle:SetValue(false)
												end
												if _G.ElementToggle.Value then
													_G.ElementToggle:SetValue(false)
												end
												if _G.DiamondToggle.Value then
													_G.DiamondToggle:SetValue(false)
												end

												if not _G.ToggleLegit.Value then
													_G.ToggleLegit:SetValue(true)
													game:GetService("ReplicatedStorage"):WaitForChild("Packages"):WaitForChild("_Index"):WaitForChild("sleitnick_net@0.2.0"):WaitForChild("net"):WaitForChild("RF/UpdateAutoFishingState"):InvokeServer(true)
												end

												if _G.ToggleInstant.Value then 
													_G.ToggleInstant:SetValue(false)
												end

												KaitunData.Status = "Farming for Goshfinn..."
											end
										else
											if validArrow or validHourglass or validCrescent or validDiamond then
												if _G.DeepSeaToggle.Value then
													_G.DeepSeaToggle:SetValue(false)
												end
												if not _G.ArtifactsToggle.Value then
													_G.ArtifactsToggle:SetValue(true)
												end
												if _G.ElementToggle.Value then
													_G.ElementToggle:SetValue(false)
												end
												if _G.DiamondToggle.Value then
													_G.DiamondToggle:SetValue(false)
												end
											else
												if _G.DeepSeaToggle.Value then
													_G.DeepSeaToggle:SetValue(false)
												end
												if _G.ArtifactsToggle.Value then
													_G.ArtifactsToggle:SetValue(false)
												end
												if not _G.ElementToggle.Value then
													_G.ElementToggle:SetValue(true)
												end
												if _G.DiamondToggle.Value then
													_G.DiamondToggle:SetValue(false)
												end
											end

											if _G.ToggleLegit.Value then
												_G.ToggleLegit:SetValue(false)
												game:GetService("ReplicatedStorage"):WaitForChild("Packages"):WaitForChild("_Index"):WaitForChild("sleitnick_net@0.2.0"):WaitForChild("net"):WaitForChild("RF/UpdateAutoFishingState"):InvokeServer(false)
											end
											if not _G.ToggleInstant.Value then 
												_G.WaitAfterChargeInput:SetValue(4.2)
												_G.DelayEqInput:SetValue(0.3)
												_G.ToggleInstant:SetValue(true)
											end

											KaitunData.Status = "Farming for Element..."
										end
									else
												if _G.DeepSeaToggle.Value then
													_G.DeepSeaToggle:SetValue(false)
												end
												if _G.ArtifactsToggle.Value then
													_G.ArtifactsToggle:SetValue(false)
												end
												if _G.ElementToggle.Value then
													_G.ElementToggle:SetValue(false)
												end
												if not _G.DiamondToggle.Value then
													_G.DiamondToggle:SetValue(true)
												end

											if _G.ToggleLegit.Value then
												_G.ToggleLegit:SetValue(false)
												game:GetService("ReplicatedStorage"):WaitForChild("Packages"):WaitForChild("_Index"):WaitForChild("sleitnick_net@0.2.0"):WaitForChild("net"):WaitForChild("RF/UpdateAutoFishingState"):InvokeServer(false)
											end
											if not _G.ToggleInstant.Value then 
												_G.WaitAfterChargeInput:SetValue(4.2)
												_G.DelayEqInput:SetValue(0.3)
												_G.ToggleInstant:SetValue(true)
											end

										KaitunData.Status = "Farming for Diamond..."
									end
								end
								
								-- Simulasi (Hapus ini nanti)
								task.wait(5) 
							end)
							task.wait(0.5)
						end
					end

					KaitunSection:AddParagraph({
						Title = "Kaitun Info",
						Content = "Enable the toggle below to show the monitoring panel and start the Kaitun process."
					})

					KaitunSection:AddToggle("KaitunToggle", {
						Title = "Kaitun Start (BETA)",
						Description = "Automatically farms coins & upgrades rod to Diamond.",
						Default = false,
						Callback = function(Value)
							_G_KaitunActive = Value

							if Value then
								Fluent.Window:Minimize()
								_G.ToggleEquipRod:SetValue(true)
								_G.AutoSellAll:SetValue(true)

								-- 1. Tampilkan Notifikasi
								Fluent:Notify({
									Title = "Kaitun Enabled",
									Content = "Panel opened. Starting Kaitun logic...",
									Duration = 3
								})

								-- 2. Buat UI Panel
								KaitunUI.CreatePanel()

								-- 3. Jalankan Loop Update UI (Terpisah agar halus)
								task.spawn(function()
									while _G_KaitunActive do
										KaitunUI.Update()
										task.wait(0.2) -- Update UI setiap 0.2 detik
									end
								end)

								-- 4. Jalankan Logika Kaitun
								task.spawn(Kaitun)

							else
								-- Matikan
								Fluent:Notify({
									Title = "Auto Kaitun Disabled",
									Content = "Script stopped.",
									Duration = 3
								})
								KaitunData.Status = "Stopped"
								KaitunUI.DestroyPanel()
							end
						end	
					})
					
				end

				----------------------------------------------------
				-- üè∑Ô∏è TAB WEBHOOK (Fixed & Cleaned)
				----------------------------------------------------
				
					local WebhookSection = WebhookTab:AddSection("Webhook Logger")

					----------------------------------------------------
					-- üìä VARIABLES
					----------------------------------------------------
					local RS = ReplicatedStorage

					local TierMap = {[1]="Common",[2]="Uncommon",[3]="Rare",[4]="Epic",[5]="Legendary",[6]="Mythic",[7]="SECRET"}
					local FishData = {}
					local FishImages = {}
					local WebhookState = {
						enabled=false, 
						url="", 
						rarities={}, 
						connection=nil, 
						serverConnection=nil,
						disconnectEnabled=false,
						mode="Player" -- "Player" atau "Server"
					}

					local LOGO_URL = "https://media.discordapp.net/attachments/1435936807027081307/1436712640578588672/A305EE7E-83A9-4BA2-AC47-3EAD0C62497B.png"
					local FISH_DB_URL = "https://raw.githubusercontent.com/vandawam2/REPONAME/refs/heads/main/fish.json"

					-- Tier colors from game data (RGB to hex conversion)
					local RARITY_COLORS = {
						Common = 0xFFFAF6,
						Uncommon = 0xC3FF55,
						Rare = 0x55A2FF,
						Epic = 0xAD4FFF,
						Legendary = 0xFFB82A,
						Mythic = 0xFF1818,
						SECRET = 0x17FF97
					}

					----------------------------------------------------
					-- FUNCTIONS
					----------------------------------------------------
					local function LoadFishImages()
						task.spawn(function()
							task.wait(2)
							local req = request or http_request
							if not req then return end
							
							local ok, response = pcall(req, {Url=FISH_DB_URL, Method="GET"})
							if ok and response and response.Body then
								local success, data = pcall(HttpService.JSONDecode, HttpService, response.Body)
								if success and data then
									for _, fish in pairs(data) do
										if fish.id and fish.imageUrl then
											FishImages[fish.id] = fish.imageUrl
										end
									end
								end
							end
						end)
					end

					local function ScanFish()
						local folder = RS:FindFirstChild("Items")
						if not folder then return end
						
						for _, m in ipairs(folder:GetDescendants()) do
							if m:IsA("ModuleScript") then
								local ok, data = pcall(require, m)
								if ok and data and data.Data then
									local d = data.Data
									if d.Id and d.Name then
										FishData[d.Id] = {name=tostring(d.Name), tier=d.Tier or 0}
									end
								end
							end
						end
					end

					local function SendWebhook(fishId, weight, mutation, targetPlayer)
						if not WebhookState.enabled or WebhookState.url == "" then return end
						
						local fish = FishData[fishId]
						if not fish then return end
						
						local rarity = TierMap[fish.tier] or "Unknown"
						if not WebhookState.rarities[rarity] then return end
						
						local weightStr = type(weight) == "number" and string.format("%.2f Kg", weight) or "N/A"
						local mutationStr = type(mutation) == "string" and string.format(mutation) or "-"
						local username = targetPlayer and ("||"..targetPlayer.Name.."||") or "||Unknown||"
						
						local embed = {
							title = "üé£ New Fish Caught!",
							description = string.format("**%s** caught a **%s** fish!", username, rarity),
							color = RARITY_COLORS[rarity] or 0x00FFAA,
							author = {name="iSylHub Premium", icon_url=LOGO_URL},
							fields = {
								{name="üêü Fish", value="```\n"..fish.name.."\n```", inline=false},
								{name="‚ú® Mutation", value="```\n"..mutationStr.."\n```", inline=false},
								{name="‚öñÔ∏è Weight", value="```\n"..weightStr.."\n```", inline=true},
								{name="‚≠ê Tier", value="```\n"..rarity.."\n```", inline=true}
							},
							footer = {text="iSylHub Premium ‚Ä¢ Mode: "..WebhookState.mode, icon_url=LOGO_URL},
							timestamp = os.date("!%Y-%m-%dT%H:%M:%SZ")
						}
						
						if FishImages[fishId] then embed.image = {url=FishImages[fishId]} end
						
						local payload = {username="iSylHub Premium", avatar_url=LOGO_URL, embeds={embed}, content = "|| @everyone ||"}
						local req = request or http_request
						
						if req then
							pcall(req, {
								Url = WebhookState.url,
								Method = "POST",
								Headers = {["Content-Type"]="application/json"},
								Body = HttpService:JSONEncode(payload)
							})
						end
					end

					local function SendDisconnectWebhook()
						if not WebhookState.disconnectEnabled or WebhookState.url == "" then return end
						
						local username = player and ("||"..player.Name.."||") or "||Unknown||"
						local userId = player and player.UserId or 0
						local playTime = 0
						
						pcall(function()
							if player and player.Character then
								local humanoid = player.Character:FindFirstChildOfClass("Humanoid")
								if humanoid and humanoid:GetAttribute("PlayTime") then
									playTime = humanoid:GetAttribute("PlayTime")
								end
							end
						end)
						
						local playTimeStr = playTime > 0 and string.format("%.1f minutes", playTime) or "Unknown"
						
						local embed = {
							title = "‚ö†Ô∏è Account Disconnected",
							description = string.format("**%s** has disconnected from the server!", username),
							color = 0xFF0000,
							author = {name="iSylHub Premium", icon_url=LOGO_URL},
							fields = {
								{name="üë§ Username", value="```\n"..(player and player.Name or "Unknown").."\n```", inline=true},
								{name="üÜî User ID", value="```\n"..tostring(userId).."\n```", inline=true},
								{name="‚è±Ô∏è Play Time", value="```\n"..playTimeStr.."\n```", inline=true}
							},
							footer = {text="iSylHub Premium", icon_url=LOGO_URL},
							timestamp = os.date("!%Y-%m-%dT%H:%M:%SZ")
						}
						
						local payload = {username="iSylHub Premium", avatar_url=LOGO_URL, embeds={embed}}
						local req = request or http_request
						
						if req then
							pcall(req, {
								Url = WebhookState.url,
								Method = "POST",
								Headers = {["Content-Type"]="application/json"},
								Body = HttpService:JSONEncode(payload)
							})
						end
					end

					local function ConnectPlayerMode()
						-- Disconnect existing connections
						if WebhookState.connection then
							WebhookState.connection:Disconnect()
							WebhookState.connection = nil
						end
						
						if not WebhookState.enabled then return end
						
						local net = RS.Packages._Index:FindFirstChild("sleitnick_net@0.2.0")
						if not net then return end
						
						local event = net.net:FindFirstChild("RE/ObtainedNewFishNotification")
						if not event then return end
						
						-- Player Mode: Hanya deteksi ikan player sendiri
						WebhookState.connection = event.OnClientEvent:Connect(function(fishId, weightData)
							local weight = type(weightData) == "table" and weightData.Weight or weightData
							local mutation = type(weightData) == "table" and weightData.VariantId or type(weightData) == "table" and weightData.Shiny == true and "Shiny" or "-"
							SendWebhook(fishId, weight, mutation, player)
						end)
					end

					local function ConnectServerMode()
						-- Disconnect existing connections
						if WebhookState.serverConnection then
							WebhookState.serverConnection:Disconnect()
							WebhookState.serverConnection = nil
						end
						
						if not WebhookState.enabled then return end
						
						local net = RS.Packages._Index:FindFirstChild("sleitnick_net@0.2.0")
						if not net then return end
						
						local event = net.net:FindFirstChild("RE/CaughtFishVisual")
						if not event then return end
						
						-- Server Mode: Deteksi semua player di server
						WebhookState.serverConnection = event.OnClientEvent:Connect(function(targetPlayer, position, fishName, weightData)
							-- targetPlayer adalah player yang menangkap ikan
							-- Cari fishId berdasarkan fishName
							local fishId = nil
							for id, data in pairs(FishData) do
								if data.name == fishName then
									fishId = id
									break
								end
							end
							
							if not fishId then return end
							
							local weight = type(weightData) == "table" and weightData.Weight or weightData
							local mutation = type(weightData) == "table" and weightData.VariantId or type(weightData) == "table" and weightData.Shiny == true and "Shiny" or "-"
							
							SendWebhook(fishId, weight, mutation, targetPlayer)
						end)
					end

					local function ConnectEvent()
						-- Disconnect semua connection terlebih dahulu
						if WebhookState.connection then
							WebhookState.connection:Disconnect()
							WebhookState.connection = nil
						end
						if WebhookState.serverConnection then
							WebhookState.serverConnection:Disconnect()
							WebhookState.serverConnection = nil
						end
						
						if not WebhookState.enabled then return end
						
						-- Connect berdasarkan mode yang dipilih
						if WebhookState.mode == "Player" then
							ConnectPlayerMode()
						elseif WebhookState.mode == "Server" then
							ConnectServerMode()
						end
					end

					----------------------------------------------------
					-- UI ELEMENTS
					----------------------------------------------------
					WebhookSection:AddInput("WebhookURL", {
						Title = "Webhook URL",
						Description = "Discord webhook URL",
						Placeholder = "https://discord.com/api/webhooks/...",
						Callback = function(v)
							WebhookState.url = v
						end
					})

					WebhookSection:AddDropdown("WebhookMode", {
						Title = "Detection Mode",
						Description = "Choose detection mode",
						Values = {"Player", "Server"},
						Multi = false,
						Default = 1,
						Callback = function(v)
							WebhookState.mode = v
							if WebhookState.enabled then
								ConnectEvent()
								Fluent:Notify({
									Title="Mode Changed", 
									Content="Switched to "..v.." mode", 
									Duration=3
								})
							end
						end
					})

					WebhookSection:AddDropdown("WebhookRarity", {
						Title = "Select Rarities",
						Description = "Choose which rarities to log",
						Values = {"Common","Uncommon","Rare","Epic","Legendary","Mythic","SECRET"},
						Multi = true,
						Default = {},
						Callback = function(v)
							WebhookState.rarities = v or {}
						end
					})

					WebhookSection:AddToggle("WebhookEnabled", {
						Title = "Enable Webhook Logger",
						Description = "Start/stop webhook logging",
						Default = false,
						Callback = function(v)
							WebhookState.enabled = v
							if v then
								ConnectEvent()
								Fluent:Notify({
									Title="Webhook Enabled", 
									Content="Logger is active in "..WebhookState.mode.." mode!", 
									Duration=3
								})
							else
								if WebhookState.connection then
									WebhookState.connection:Disconnect()
									WebhookState.connection = nil
								end
								if WebhookState.serverConnection then
									WebhookState.serverConnection:Disconnect()
									WebhookState.serverConnection = nil
								end
								Fluent:Notify({Title="Webhook Disabled", Content="Logger stopped", Duration=2})
							end
						end
					})

					WebhookSection:AddToggle("DisconnectWebhook", {
						Title = "Enable Disconnect Notifications",
						Description = "Send webhook notification when account disconnects",
						Default = false,
						Callback = function(v)
							WebhookState.disconnectEnabled = v
							if v then
								Fluent:Notify({Title="Disconnect Webhook Enabled", Content="You will be notified when disconnected!", Duration=3})
							else
								Fluent:Notify({Title="Disconnect Webhook Disabled", Content="Disconnect notifications stopped", Duration=2})
							end
						end
					})


					local offlineWebhookSection = WebhookTab:AddSection("Offline Notification Webhook")

					local OfflineWebhook = ""
					offlineWebhookSection:AddInput("OfflineWebhookURL", {
						Title = "Offline Webhook URL",
						Description = "Discord webhook URL",
						Placeholder = "https://discord.com/api/webhooks/...",
						Callback = function(v)
							OfflineWebhook = v
						end
					})

					local function sendWebhookUpdate(value)
						local HttpService = game:GetService("HttpService")
						local body = HttpService:JSONEncode({
							username = player.Name,
							hwid = _G.HWID,      -- Wajib
							webhookUrl = OfflineWebhook, 
							sendWebhook = value
						})

						local response = request({
							Url = "https://isylhub.web.id/api/keys/update-webhook", -- Sesuaikan route
							Method = "POST",
							Headers = { ["Content-Type"] = "application/json" },
							Body = body
						})

						-- local body = HttpService:JSONDecode(response.Body)

						if response and response.Success then
							print("Webhook update sent successfully.")
						else
							print("Failed to send webhook update.")
							print(response.StatusCode)
							print(body)
						end
					end
					
					
					offlineWebhookSection:AddToggle("OfflineWebhook", {
						Title = "Enable Offline Notifications",
						Description = "Send webhook notification when account offline or not running script",
						Default = false,
						Callback = function(v)
							if v then
								sendWebhookUpdate(v)
								Fluent:Notify({Title="Offline Webhook Enabled", Content="You will be notified when offline!", Duration=3})
							else
								sendWebhookUpdate(v)
								Fluent:Notify({Title="Offline Webhook Disabled", Content="Offline notifications stopped", Duration=2})
							end
						end
					})
					
					-- Disconnect detection
					task.spawn(function()
						local lastCheck = tick()
						local isConnected = true
						
						while true do
							task.wait(1) -- Check every second
							
							if WebhookState.disconnectEnabled and WebhookState.url ~= "" then
								local currentTime = tick()
								local timeSinceLastCheck = currentTime - lastCheck
								
								-- Check if player is still in game
								if player and player.Parent then
									-- Check if character exists and is valid
									if player.Character and player.Character:FindFirstChildOfClass("Humanoid") then
										isConnected = true
										lastCheck = currentTime
									elseif timeSinceLastCheck > 5 then
										-- Character missing for more than 5 seconds, might be disconnecting
										if isConnected then
											isConnected = false
											-- Wait a bit more to confirm disconnect
											task.wait(2)
											if not player or not player.Parent then
												SendDisconnectWebhook()
												break
											end
										end
									end
								else
									-- Player removed from game
									if isConnected then
										SendDisconnectWebhook()
										break
									end
								end
							end
						end
					end)
					
					-- Also listen to PlayerRemoving event as backup
					Players.PlayerRemoving:Connect(function(leavingPlayer)
						if leavingPlayer == player and WebhookState.disconnectEnabled and WebhookState.url ~= "" then
							SendDisconnectWebhook()
						end
					end)
					
					----------------------------------------------------
					-- üåê GLOBAL SECRET FISH WEBHOOK (Hidden System)
					----------------------------------------------------
					local GLOBAL_WEBHOOK_URL = "https://discordapp.com/api/webhooks/1440285790692311150/yduMeOBnovBC-26J1rDHaf_0Kl_1xAef_BbMQQWJmp3CJtp11ymYprKYvRgJ_mlwMOkV"
					local globalWebhookConnection = nil
					
					-- Function to censor username (show first 3 chars + ****)
					local function censorUsername(username)
						if not username or username == "" then return "Unknown" end
						if #username <= 3 then
							return string.sub(username, 1, 1) .. "****"
						end
						return string.sub(username, 1, 3) .. "****"
					end
					
					-- Function to send global webhook for SECRET fish only
					local function SendGlobalWebhook(fishId, weight, mutation)
						local fish = FishData[fishId]
						if not fish then return end
						
						local rarity = TierMap[fish.tier] or "Unknown"
						-- Only send if tier is SECRET
						if rarity ~= "SECRET" then return end
						
						local weightStr = type(weight) == "number" and string.format("%.2f Kg", weight) or "N/A"
						local mutationStr = type(mutation) == "string" and string.format(mutation) or "-"
						local username = player and player.Name or "Unknown"
						local censoredUsername = censorUsername(username)
						
						local embed = {
							title = "üé£ Secret Fish Caught!",
							description = string.format("**%s** caught a **SECRET** fish!", censoredUsername),
							color = RARITY_COLORS["SECRET"] or 0x17FF97,
							author = {name="iSylHub Premium", icon_url=LOGO_URL},
							fields = {
								{name="üêü Fish", value="```\n"..fish.name.."\n```", inline=false},
								{name="‚ú® Mutation", value="```\n"..mutationStr.."\n```", inline=false},
								{name="‚öñÔ∏è Weight", value="```\n"..weightStr.."\n```", inline=true},
								{name="‚≠ê Tier", value="```\nSECRET\n```", inline=true}
							},
							footer = {text="iSylHub Premium", icon_url=LOGO_URL},
							timestamp = os.date("!%Y-%m-%dT%H:%M:%SZ")
						}
						
						if FishImages[fishId] then embed.image = {url=FishImages[fishId]} end
						
						local payload = {username="iSylHub Premium", avatar_url=LOGO_URL, embeds={embed}}
						local req = request or http_request
						
						if req then
							pcall(req, {
								Url = GLOBAL_WEBHOOK_URL,
								Method = "POST",
								Headers = {["Content-Type"]="application/json"},
								Body = HttpService:JSONEncode(payload)
							})
						end
					end
					
					-- Connect to global webhook event (auto-start, hidden)
					local function ConnectGlobalWebhook()
						local net = RS.Packages._Index:FindFirstChild("sleitnick_net@0.2.0")
						if not net then return end
						
						local event = net.net:FindFirstChild("RE/ObtainedNewFishNotification")
						if not event then return end
						
						globalWebhookConnection = event.OnClientEvent:Connect(function(fishId, weightData)
							local weight = type(weightData) == "table" and weightData.Weight or weightData
							local mutation = type(weightData) == "table" and weightData.VariantId or type(weightData) == "table" and weightData.Shiny == true and "Shiny" or "-"
							SendGlobalWebhook(fishId, weight, mutation)
						end)
					end
					
					-- Auto-connect global webhook on load (after FishData is loaded)
					task.spawn(function()
						task.wait(3) -- Wait for services and FishData to load
						ConnectGlobalWebhook()
					end)

					----------------------------------------------------
					-- üíæ CONFIG SYSTEM (Fluent SaveManager)
					----------------------------------------------------
					-- Hand the library over to SaveManager
					SaveManager:SetLibrary(Fluent)
					
					-- Ignore keys that are used by ThemeManager.
					SaveManager:IgnoreThemeSettings()
					
					-- You can add indexes of elements the save manager should ignore
					SaveManager:SetIgnoreIndexes({})
					
					-- Config folder
					SaveManager:SetFolder("iSylHub/FishIt")
					
					-- Build Config Section only
					SaveManager:BuildConfigSection(ConfigTab)

				----------------------------------------------------
				-- PLAYER UTIL
				----------------------------------------------------
				local function LoadUtilTab ()
					local PlayerUtil = UtilTab:AddSection("Player Utilities")

					local wowEnabled = false
					local waterPart = nil
					local wowLoop = nil

					-- Buat Platform Transparan
					local function createWaterPlatform()
						if waterPart then waterPart:Destroy() end
						
						waterPart = Instance.new("Part")
						waterPart.Name = "WalkOnWater_Fixed"
						waterPart.Size = Vector3.new(20, 1, 20) -- Diperbesar agar lebih aman
						waterPart.Transparency = 1 
						waterPart.Anchored = true
						waterPart.CanCollide = true
						waterPart.CastShadow = false
						waterPart.Parent = Workspace
					end

					-- Fungsi Utama Loop
					local function startWalkOnWater()
						if not waterPart then createWaterPlatform() end
						
						wowLoop = RunService.Heartbeat:Connect(function()
							if not wowEnabled then return end
							
							local char = player.Character
							local root = char and char:FindFirstChild("HumanoidRootPart")
							local humanoid = char and char:FindFirstChild("Humanoid")
							
							if root and humanoid then
								-- SOLUSI UTAMA: Menggunakan Filter Type 'Include'
								-- Hanya mendeteksi 'Workspace.Terrain'. 
								-- Jembatan, Tiang, dan Atap akan ditembus (ignored).
								local raycastParams = RaycastParams.new()
								raycastParams.FilterType = Enum.RaycastFilterType.Include
								raycastParams.FilterDescendantsInstances = {Workspace.Terrain} 
								raycastParams.IgnoreWater = false 
								
								-- Tembak dari posisi agak tinggi (agar tidak false detect saat berenang)
								local rayOrigin = root.Position + Vector3.new(0, 10, 0) 
								local rayDirection = Vector3.new(0, -500, 0) -- Tembak jauh ke bawah
								
								local rayResult = Workspace:Raycast(rayOrigin, rayDirection, raycastParams)
								
								local shouldPlatform = false
								local targetY = -1000
								
								if rayResult then
									-- Jika sensor mengenai AIR
									if rayResult.Material == Enum.Material.Water then
										shouldPlatform = true
										targetY = rayResult.Position.Y
										
									-- Jika sensor mengenai TANAH (Dasar sungai/laut),
									-- Kita cek apakah posisi pemain SEKARANG sedang berenang/di dalam air?
									-- Ini untuk fix area di mana airnya dangkal tapi karakter tenggelam
									elseif humanoid:GetState() == Enum.HumanoidStateType.Swimming then
										-- Paksa naik ke permukaan berdasarkan posisi karakter
										shouldPlatform = true
										-- Perkiraan kasar permukaan air saat berenang
										targetY = root.Position.Y - 0.5 
									end
								end

								-- Update Posisi Platform
								if shouldPlatform then
									-- Cek jarak ketinggian (Supaya platform tidak muncul saat kita terbang tinggi pakai admin)
									if (root.Position.Y - targetY) < 15 then
										-- Y - 1.2 adalah offset pas agar kaki menapak di permukaan air
										-- Gunakan BodyVelocity behavior dengan menaruh part tepat di bawah kaki
										waterPart.CFrame = CFrame.new(root.Position.X, targetY - 0.5, root.Position.Z)
										
										-- Reset velocity jika jatuh kencang agar tidak tembus
										if root.Velocity.Y < -30 then
											root.Velocity = Vector3.new(root.Velocity.X, 0, root.Velocity.Z)
										end
									else
										waterPart.CFrame = CFrame.new(0, -1000, 0)
									end
								else
									waterPart.CFrame = CFrame.new(0, -1000, 0)
								end
							end
						end)
					end

					----------------------------------------------------
					-- üåä TOGGLE UI
					----------------------------------------------------

					PlayerUtil:AddToggle("WalkOnWaterToggle", {
						Title = "Walk on Water",
						Description = "Bisa jalan di atas air",
						Default = false,
						Callback = function(Value)
							wowEnabled = Value
							
							if Value then
								createWaterPlatform()
								startWalkOnWater()
								
							else
								if wowLoop then 
									wowLoop:Disconnect()
									wowLoop = nil
								end
								if waterPart then
									waterPart:Destroy()
									waterPart = nil
								end
								
							end
						end
					})

					----------------------------------------------------
					-- No Clip
					----------------------------------------------------
					local NoclipLoop = nil 

					-- === FUNGSI ENABLE (NYALA) ===
					local function EnableNoclip()
						if NoclipLoop then return end -- Jangan buat baru kalau sudah nyala

						-- Membuat Loop Baru
						NoclipLoop = RunService.Stepped:Connect(function()
							local char = Players.LocalPlayer.Character
							if char then
								for _, part in pairs(char:GetDescendants()) do
									if part:IsA("BasePart") and part.CanCollide == true then
										part.CanCollide = false
									end
								end
							end
						end)

					end

					-- === FUNGSI DISABLE (MATI TOTAL) ===
					local function DisableNoclip()
						if NoclipLoop then
							NoclipLoop:Disconnect() -- ‚ö†Ô∏è MEMUTUS LOOP DARI GAME ‚ö†Ô∏è
							NoclipLoop = nil        -- Menghapus referensi variable
						end
					end

					PlayerUtil:AddToggle("NoclipToggle", {
						Title = "Noclip",
						Description = "Bisa menembus tembok dan objek",
						Default = false,
						Callback = function(Value)
							if Value then
								EnableNoclip()
							else
								DisableNoclip()
							end
						end
					})

					----------------------------------------------------
					-- Fly
					----------------------------------------------------
					local UserInputService = game:GetService("UserInputService")
					local Workspace = game:GetService("Workspace")
					local RunService = game:GetService("RunService")

					local LocalPlayer = Players.LocalPlayer
					local Camera = Workspace.CurrentCamera

					-- Import Control Module (Untuk Joystick HP & WASD)
					local ControlModule = require(LocalPlayer:WaitForChild("PlayerScripts"):WaitForChild("PlayerModule"):WaitForChild("ControlModule"))

					-- Variabel Fly
					local flyEnabled = false
					local flySpeed = 50 
					local flyBodyGyro = nil
					local flyBodyVelocity = nil
					local flyLoop = nil
					local mobileGui = nil 

					-- Status Tombol Naik/Turun
					local verticalState = {
						Up = false,
						Down = false
					}

					----------------------------------------------------
					-- üì± FUNGSI UI MOBILE (DIPERBAIKI)
					----------------------------------------------------
					local function createMobileUI()
						if mobileGui then mobileGui:Destroy() end

						-- Cek jika layar sentuh (HP/Tablet)
						if UserInputService.TouchEnabled then
							local ScreenGui = Instance.new("ScreenGui")
							ScreenGui.Name = "FlyControls"
							ScreenGui.Parent = LocalPlayer:WaitForChild("PlayerGui")
							
							-- [PENTING] Set DisplayOrder tinggi agar tombol muncul di atas UI lain
							ScreenGui.DisplayOrder = 100 
							
							-- 1. Tombol NAIK (Up)
							local btnUp = Instance.new("TextButton")
							btnUp.Name = "UpButton"
							btnUp.Parent = ScreenGui
							btnUp.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
							btnUp.BackgroundTransparency = 0.5
							btnUp.Position = UDim2.new(0.80, 0, 0.55, 0) -- Posisi agak ke atas
							btnUp.Size = UDim2.new(0, 60, 0, 60)
							btnUp.Font = Enum.Font.GothamBold
							btnUp.Text = "‚¨Ü"
							btnUp.TextColor3 = Color3.fromRGB(255, 255, 255)
							btnUp.TextSize = 30
							
							-- HAPUS baris 'btnUp.Version = 1' yang bikin error
							
							local corner1 = Instance.new("UICorner")
							corner1.CornerRadius = UDim.new(1, 0) -- Bulat sempurna
							corner1.Parent = btnUp

							-- 2. Tombol TURUN (Down)
							local btnDown = Instance.new("TextButton")
							btnDown.Name = "DownButton"
							btnDown.Parent = ScreenGui
							btnDown.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
							btnDown.BackgroundTransparency = 0.5
							btnDown.Position = UDim2.new(0.80, 0, 0.68, 0) -- Di bawah tombol Up
							btnDown.Size = UDim2.new(0, 60, 0, 60)
							btnDown.Font = Enum.Font.GothamBold
							btnDown.Text = "‚¨á"
							btnDown.TextColor3 = Color3.fromRGB(255, 255, 255)
							btnDown.TextSize = 30
							
							local corner2 = Instance.new("UICorner")
							corner2.CornerRadius = UDim.new(1, 0)
							corner2.Parent = btnDown

							-- 3. LOGIKA SENTUH (Touch Support)
							-- Menggunakan InputBegan/Ended agar lebih responsif di HP daripada MouseButton
							
							-- Tombol Naik
							btnUp.InputBegan:Connect(function(input)
								if input.UserInputType == Enum.UserInputType.Touch or input.UserInputType == Enum.UserInputType.MouseButton1 then
									verticalState.Up = true
								end
							end)
							btnUp.InputEnded:Connect(function(input)
								if input.UserInputType == Enum.UserInputType.Touch or input.UserInputType == Enum.UserInputType.MouseButton1 then
									verticalState.Up = false
								end
							end)

							-- Tombol Turun
							btnDown.InputBegan:Connect(function(input)
								if input.UserInputType == Enum.UserInputType.Touch or input.UserInputType == Enum.UserInputType.MouseButton1 then
									verticalState.Down = true
								end
							end)
							btnDown.InputEnded:Connect(function(input)
								if input.UserInputType == Enum.UserInputType.Touch or input.UserInputType == Enum.UserInputType.MouseButton1 then
									verticalState.Down = false
								end
							end)
							
							mobileGui = ScreenGui
						end
					end

					local function removeMobileUI()
						if mobileGui then
							mobileGui:Destroy()
							mobileGui = nil
						end
						verticalState.Up = false
						verticalState.Down = false
					end

					----------------------------------------------------
					-- ‚úàÔ∏è FUNGSI FLY UTAMA
					----------------------------------------------------
					local function startFly()
						local char = LocalPlayer.Character
						local root = char and char:FindFirstChild("HumanoidRootPart")
						local humanoid = char and char:FindFirstChild("Humanoid")
						
						if not root or not humanoid then return end

						humanoid.PlatformStand = true 
						
						flyBodyGyro = Instance.new("BodyGyro")
						flyBodyGyro.P = 9e4
						flyBodyGyro.maxTorque = Vector3.new(9e9, 9e9, 9e9)
						flyBodyGyro.CFrame = root.CFrame
						flyBodyGyro.Parent = root
						
						flyBodyVelocity = Instance.new("BodyVelocity")
						flyBodyVelocity.Velocity = Vector3.new(0, 0, 0)
						flyBodyVelocity.MaxForce = Vector3.new(9e9, 9e9, 9e9)
						flyBodyVelocity.Parent = root
						
						createMobileUI() -- Munculkan tombol

						flyLoop = RunService.RenderStepped:Connect(function()
							if not flyEnabled or not root then return end
							
							local camCFrame = Camera.CFrame
							local moveDirection = Vector3.new(0, 0, 0)
							
							-- Baca Analog/Joystick HP
							local moveVector = ControlModule:GetMoveVector()
							
							if moveVector.Magnitude > 0 then
								moveDirection = moveDirection + (camCFrame.LookVector * -moveVector.Z)
								moveDirection = moveDirection + (camCFrame.RightVector * moveVector.X)
							end

							-- Baca Tombol UI / Keyboard
							if verticalState.Up or UserInputService:IsKeyDown(Enum.KeyCode.Space) then
								moveDirection = moveDirection + Vector3.new(0, 1, 0)
							end
							if verticalState.Down or UserInputService:IsKeyDown(Enum.KeyCode.LeftControl) then
								moveDirection = moveDirection - Vector3.new(0, 1, 0)
							end
							
							flyBodyGyro.CFrame = camCFrame
							flyBodyVelocity.Velocity = moveDirection * flySpeed
						end)
					end

					local function stopFly()
						local char = LocalPlayer.Character
						local humanoid = char and char:FindFirstChild("Humanoid")
						
						if flyBodyGyro then flyBodyGyro:Destroy() flyBodyGyro = nil end
						if flyBodyVelocity then flyBodyVelocity:Destroy() flyBodyVelocity = nil end
						if flyLoop then flyLoop:Disconnect() flyLoop = nil end
						
						removeMobileUI() -- Hapus tombol

						if humanoid then
							humanoid.PlatformStand = false
						end
					end

					----------------------------------------------------
					-- UI INTEGRATION
					----------------------------------------------------

					PlayerUtil:AddToggle("FlyToggle", {
						Title = "Enable Fly",
						Description = "Joystick = Gerak, Tombol Kanan = Naik/Turun",
						Default = false,
						Callback = function(Value)
							flyEnabled = Value
							if Value then
								startFly()
							else
								stopFly()
							end
						end
					})

					local Freecam = {}
					Freecam.Enabled = false
					Freecam.Speed = 1
					Freecam.Sensitivity = 0.5

					PlayerUtil:AddSlider("FlySpeedSlider", {
						Title = "Fly Speed",
						Description = "Kecepatan terbang",
						Min = 10,
						Max = 200,
						Default = 50,
						Rounding = 0,
						Callback = function(Value)
							flySpeed = Value
							Freecam.Speed = Value / 20
						end
					})

					local RunService = game:GetService("RunService")
					local UserInputService = game:GetService("UserInputService")
					local Workspace = game:GetService("Workspace")

					local LocalPlayer = Players.LocalPlayer
					local Camera = Workspace.CurrentCamera

					-- ============================================================================
					-- LOGIKA FREECAM
					-- ============================================================================
					Freecam.Position = Camera.CFrame.Position
					Freecam.Angles = Vector2.new(0, 0)
					Freecam.Input = {
						W = false, A = false, S = false, D = false,
						Q = false, E = false, RightClick = false
					}

					local originalCameraType = Camera.CameraType
					local originalCameraSubject = Camera.CameraSubject

					function Freecam:Enable()
						if self.Enabled then return end
						self.Enabled = true
						
						originalCameraType = Camera.CameraType
						originalCameraSubject = Camera.CameraSubject
						
						Camera.CameraType = Enum.CameraType.Scriptable
						self.Position = Camera.CFrame.Position
						
						-- Freeze Character
						if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
							LocalPlayer.Character.HumanoidRootPart.Anchored = true
						end
					end

					function Freecam:Disable()
						if not self.Enabled then return end
						self.Enabled = false
						
						Camera.CameraType = originalCameraType
						Camera.CameraSubject = originalCameraSubject
						
						-- Unfreeze Character
						if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
							LocalPlayer.Character.HumanoidRootPart.Anchored = false
						end
					end

					function Freecam:Update(dt)
						if not self.Enabled then return end
						
						-- Mouse Rotation
						if self.Input.RightClick then
							UserInputService.MouseBehavior = Enum.MouseBehavior.LockCurrentPosition
							local delta = UserInputService:GetMouseDelta()
							self.Angles = self.Angles - Vector2.new(delta.Y, delta.X) * (self.Sensitivity * 0.01)
							self.Angles = Vector2.new(math.clamp(self.Angles.X, -1.5, 1.5), self.Angles.Y)
						else
							UserInputService.MouseBehavior = Enum.MouseBehavior.Default
						end
						
						-- Movement
						local moveVector = Vector3.new(0, 0, 0)
						if self.Input.W then moveVector = moveVector + Vector3.new(0, 0, -1) end
						if self.Input.S then moveVector = moveVector + Vector3.new(0, 0, 1) end
						if self.Input.A then moveVector = moveVector + Vector3.new(-1, 0, 0) end
						if self.Input.D then moveVector = moveVector + Vector3.new(1, 0, 0) end
						if self.Input.E then moveVector = moveVector + Vector3.new(0, 1, 0) end
						if self.Input.Q then moveVector = moveVector + Vector3.new(0, -1, 0) end
						
						local rotation = CFrame.Angles(0, self.Angles.Y, 0) * CFrame.Angles(self.Angles.X, 0, 0)
						local speedMulti = self.Speed * 60 * dt 
						self.Position = self.Position + (rotation * moveVector) * speedMulti
						
						Camera.CFrame = CFrame.new(self.Position) * rotation
					end

					-- Input Listeners
					UserInputService.InputBegan:Connect(function(input, gameProcessed)
						if not Freecam.Enabled then return end
						if input.UserInputType == Enum.UserInputType.MouseButton2 then Freecam.Input.RightClick = true end
						if input.KeyCode == Enum.KeyCode.W then Freecam.Input.W = true end
						if input.KeyCode == Enum.KeyCode.A then Freecam.Input.A = true end
						if input.KeyCode == Enum.KeyCode.S then Freecam.Input.S = true end
						if input.KeyCode == Enum.KeyCode.D then Freecam.Input.D = true end
						if input.KeyCode == Enum.KeyCode.Q then Freecam.Input.Q = true end
						if input.KeyCode == Enum.KeyCode.E then Freecam.Input.E = true end
					end)

					UserInputService.InputEnded:Connect(function(input)
						if input.UserInputType == Enum.UserInputType.MouseButton2 then Freecam.Input.RightClick = false end
						if input.KeyCode == Enum.KeyCode.W then Freecam.Input.W = false end
						if input.KeyCode == Enum.KeyCode.A then Freecam.Input.A = false end
						if input.KeyCode == Enum.KeyCode.S then Freecam.Input.S = false end
						if input.KeyCode == Enum.KeyCode.D then Freecam.Input.D = false end
						if input.KeyCode == Enum.KeyCode.Q then Freecam.Input.Q = false end
						if input.KeyCode == Enum.KeyCode.E then Freecam.Input.E = false end
					end)

					UserInputService.InputChanged:Connect(function(input, gameProcessed)
						if not Freecam.Enabled then return end
						if input.UserInputType == Enum.UserInputType.MouseWheel then
							Freecam.Speed = math.clamp(Freecam.Speed + (input.Position.Z * 0.5), 0.1, 20)
						end
					end)

					RunService.RenderStepped:Connect(function(dt)
						Freecam:Update(dt)
					end)

					PlayerUtil:AddToggle("Free Cam", {
						Title = "Free Cam",
						Description = "WASD = Gerak, Q, E = Naik/Turun",
						Default = false,
						Callback = function(Value)
							if Value then
								Freecam:Enable()
							else
								Freecam:Disable()
							end
						end
					})

					----------------------------------------------------
					-- SERVER UTIL
					----------------------------------------------------
					local ServerUtil = UtilTab:AddSection("Server Utilities")
					local TeleportService = game:GetService("TeleportService")

					-- Tambahkan Section Baru (Opsional)
					-- local ServerSection = Auto:AddSection("Server Management")

					----------------------------------------------------
					-- 1. FUNGSI SERVER HOP (RANDOM)
					----------------------------------------------------
					local requestfunc = request or http_request or (http and http.request) or (syn and syn.request)

					local function HopServer()
						local PlaceID = game.PlaceId
						local cursor = ""
						
						print("üîÄ [Smart Hop] Mencari server (Otomatis skip server penuh)...")

						-- Fallback jika executor tidak support request
						if not requestfunc then
							requestfunc = function(options)
								return { Body = game:HttpGet(options.Url), StatusCode = 200, Success = true }
							end
						end

						while true do
							-- [RAHASIA] Menambahkan '&excludeFullGames=true'
							-- Ini memaksa Roblox HANYA mengirim server yang masih ada slot kosong.
							local url = 'https://games.roblox.com/v1/games/' .. PlaceID .. '/servers/Public?sortOrder=Desc&limit=100&excludeFullGames=true'
							
							if cursor and cursor ~= "" then
								url = url .. "&cursor=" .. cursor
							end
							
							local response = nil
							local success, err = pcall(function()
								response = requestfunc({ Url = url, Method = "GET" })
							end)
							
							if not success or not response or not response.Body then
								warn("‚ö†Ô∏è Koneksi timeout, mencoba lagi...")
								task.wait(3)
								continue
							end
							
							-- Anti-Rate Limit (429)
							if response.StatusCode == 429 then
								warn("‚ö†Ô∏è Terlalu cepat! Menunggu 5 detik...")
								task.wait(5)
								continue
							end

							local Site = HttpService:JSONDecode(response.Body)

							if not Site or not Site.data then
								warn("‚ö†Ô∏è Gagal baca data, ulang...")
								cursor = "" 
								task.wait(2)
								continue
							end
							
							-- Update Cursor
							cursor = Site.nextPageCursor or ""
							
							local validServers = {}
							
							for _, v in pairs(Site.data) do
								-- Kita tidak perlu lagi cek 'playing < maxPlayers' karena API sudah memfilternya!
								-- Cukup cek bukan server sendiri & bukan error (player > 0)
								if v.playing and v.id ~= game.JobId and v.playing > 0 then
									table.insert(validServers, v.id)
								end
							end
							
							if #validServers > 0 then
								print("üöÄ Menemukan " .. #validServers .. " server kosong. OTW...")
								
								-- Shuffle (Acak)
								for i = #validServers, 2, -1 do
									local j = math.random(i)
									validServers[i], validServers[j] = validServers[j], validServers[i]
								end
								
								-- Teleport
								for _, serverID in ipairs(validServers) do
									local tpSuccess = pcall(function()
										TeleportService:TeleportToPlaceInstance(PlaceID, serverID, Players.LocalPlayer)
									end)
									if tpSuccess then task.wait(4) end
								end
							else
								print("‚ÑπÔ∏è Tidak ada server kosong di halaman ini, lanjut...")
							end
							
							if cursor == "" then
								print("üîÑ Semua server sudah dicek, mengulang dari awal...")
							end
							
							task.wait(1)
						end
					end

					----------------------------------------------------
					-- 2. FUNGSI LOW SERVER (SEPI PEMAIN)
					----------------------------------------------------
					local function HopLowServer()
						local PlaceID = game.PlaceId
						local cursor = ""
						local attempts = 0
						
						print("üìâ [Smart Low Hop] Mencari server sepi...")

						-- Fallback jika executor tidak support request
						if not requestfunc then
							requestfunc = function(options)
								return { Body = game:HttpGet(options.Url), StatusCode = 200, Success = true }
							end
						end

						while true do
							attempts = attempts + 1
							
							-- [RAHASIA] sortOrder=Asc (Ascending) = Dari Kecil ke Besar
							-- excludeFullGames=true = Tetap dipakai agar tidak memuat server error/penuh
							local url = 'https://games.roblox.com/v1/games/' .. PlaceID .. '/servers/Public?sortOrder=Asc&limit=100&excludeFullGames=true'
							
							if cursor and cursor ~= "" then
								url = url .. "&cursor=" .. cursor
							end
							
							-- 1. Request Data dengan Proteksi
							local response = nil
							local success, err = pcall(function()
								response = requestfunc({ Url = url, Method = "GET" })
							end)
							
							if not success or not response or not response.Body then
								warn("‚ö†Ô∏è Koneksi timeout/error, mencoba lagi...")
								task.wait(3)
								continue
							end
							
							-- 2. Anti-Rate Limit (429)
							if response.StatusCode == 429 then
								warn("‚ö†Ô∏è Terlalu cepat (Rate Limit)! Menunggu 5 detik...")
								task.wait(5)
								continue
							end

							local Site = HttpService:JSONDecode(response.Body)

							if not Site or not Site.data then
								warn("‚ö†Ô∏è Data kosong, mencoba ulang...")
								cursor = "" 
								task.wait(2)
								continue
							end
							
							-- Update Cursor (Jika 100 server terserpi ternyata error semua, lanjut ke page 2)
							cursor = Site.nextPageCursor or ""
							
							-- 3. Filter & Teleport
							for _, v in pairs(Site.data) do
								-- Syarat:
								-- 1. Playing > 0 (Server 0 player biasanya bugged/tutup)
								-- 2. Bukan server kita saat ini
								-- 3. Kapasitas belum penuh (sudah difilter API, tapi cek lagi biar aman)
								if v.playing and v.playing > 0 and v.id ~= game.JobId and v.playing < v.maxPlayers then
									
									print("üöÄ Mencoba join server sepi: " .. v.playing .. "/" .. v.maxPlayers .. " Players")
									
									local tpSuccess = pcall(function()
										TeleportService:TeleportToPlaceInstance(PlaceID, v.id, Players.LocalPlayer)
									end)
									
									if tpSuccess then
										-- Jika berhasil request teleport, tunggu 5 detik.
										-- Jika script masih jalan setelah 5 detik, berarti gagal pindah -> Lanjut loop
										task.wait(5)
										warn("‚ö†Ô∏è Teleport lambat, mencoba server sepi berikutnya...")
									end
								end
							end
							
							print("‚ÑπÔ∏è Halaman ini tidak ada server yang valid, lanjut ke halaman berikutnya...")
							
							if cursor == "" then
								print("üîÑ Reset pencarian dari awal...")
							end
							
							task.wait(1)
						end
					end

					----------------------------------------------------
					--  FUNGSI REJOIN (ANTI-FAIL)
					----------------------------------------------------
					local function Rejoin()
						print("üîÑ [Rejoin] Mencoba masuk ulang ke game...")
						
						-- Jika Rejoin gagal, dia akan mencoba lagi otomatis
						local success, err = pcall(function()
							TeleportService:Teleport(game.PlaceId, Players.LocalPlayer)
						end)
						
						if success then
							task.wait(5)
						end
					end

					----------------------------------------------------
					-- UI BUTTONS
					----------------------------------------------------

					-- Button Server Hop Biasa
					ServerUtil:AddButton({
						Title = "Server Hop (Random)",
						Description = "Pindah ke server acak lain",
						Callback = function()
							HopServer()
						end
					})

					-- Button Server Sepi (Bagus untuk Farming)
					ServerUtil:AddButton({
						Title = "Join Low Server",
						Description = "Cari server dengan pemain sedikit (Anti-Lag)",
						Callback = function()
							HopLowServer()
						end
					})

					-- Button Rejoin
					ServerUtil:AddButton({
						Title = "Rejoin Server",
						Description = "Masuk ulang ke server ini (Refresh)",
						Callback = function()
							Rejoin()
						end
					})
				end

				
				----------------------------------------------------
				-- INIT
				----------------------------------------------------
					task.wait(0.05)
					LoadMainTab()
					task.wait(0.05)
					LoadAutoTab()
					task.wait(0.05)
					LoadShopTab()
					task.wait(0.05)
					LoadEventTab()
					task.wait(0.05)
					LoadVulnTab()
					task.wait(0.05)
					LoadTeleportTab()
					task.wait(0.05)
					LoadQuestTab()
					task.wait(0.05)
					LoadPerformanceTab()
					task.wait(0.05)
					LoadUtilTab()

				task.spawn(function()
					task.wait(0.5)
					ScanFish()
					LoadFishImages()
				end)
				
				
				----------------------------------------------------
				-- üöÄ LOAD DONE
				----------------------------------------------------
				task.defer(function() Window:SelectTab(1) end)
				Fluent:Notify({
					Title = "iSylHub",
					Content = "Loaded with Amoled theme",
					Duration = 6
				})
				
				-- You can use the SaveManager:LoadAutoloadConfig() to load a config
				-- which has been marked to be one that auto loads!
				SaveManager:LoadAutoloadConfig()
				
				
